/*! For license information please see 64700.15308d3f.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[64700],{122799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(173733);t.ValidationError=r.ValidationError;var o=n(652084);t.orDefault=o.orDefault;var a=n(543926);t.asError=a.asError,t.toError=a.toError;var i=n(151440);t.asBool=i.asBool,t.asOptionalBool=i.asOptionalBool,t.asNumber=i.asNumber,t.asOptionalNumber=i.asOptionalNumber,t.asString=i.asString,t.asOptionalString=i.asOptionalString,t.asDate=i.asDate,t.asOptionalDate=i.asOptionalDate,t.asArray=i.asArray,t.asCompactArray=i.asCompactArray,t.asOptionalArray=i.asOptionalArray,t.asOptionalCompactArray=i.asOptionalCompactArray,t.asObject=i.asObject,t.asOptionalObject=i.asOptionalObject,t.asObjectWithSchema=i.asObjectWithSchema,t.asOptionalObjectWithSchema=i.asOptionalObjectWithSchema;var s=n(520128);t.EnumMatchBehavior=s.EnumMatchBehavior,t.createStringEnumMatcher=s.createStringEnumMatcher,t.createStringUnionMatcher=s.createStringUnionMatcher},609583:(e,t,n)=>{"use strict";n.d(t,{EH:()=>i,FT:()=>r,ys:()=>o,S8:()=>a});n(145941);const r="36102dd3-6953-45f6-8b48-031fb95e0e0d",o="0ed22b6f-b61d-41eb-810a-a1ed586a550b",a="1bc7cb9c-5668-4290-9e84-62cd19d93a14",i=/(RS|PS)(\d+)\.(\d+)N/},901523:(e,t,n)=>{"use strict";n.d(t,{LK:()=>I,hA:()=>d.hA});var r=n(77160),o=n(609583);class a extends Event{constructor(){super(a.type)}}a.type="gamepadConnectedStatusChanged";class i extends Event{constructor(){super(i.type)}}i.type="lowBandwidthStatusChanged";class s extends Event{constructor(){super(s.type)}}s.type="onlineStatusChanged";class l extends Event{constructor(){super(l.type)}}l.type="streamReadinessStatusChanged";class c extends Event{constructor(){super(c.type)}}c.type="mouseConnectedStatusChanged";var u=n(793790),d=n(790027),h=n(859131),m=n(184399);n(353010);class p{get online(){return this._online}get gamepadConnected(){return this._localGamepadConnected||this._remoteGamepadConnected}get localGamepadConnected(){return this._localGamepadConnected}get mouseConnected(){return this._mouseConnected}get lowBandwidth(){return this._lowBandwidth}get streamReadiness(){return this._streamReadiness}get allowNonstandardGamepad(){return this._allowNonstandardGamepad}get remoteGamepadConnected(){return this._remoteGamepadConnected}constructor(e){this.options=e,this.eventTarget=new EventTarget,this.gamepadSupported=this.isGamepadSupported(),this.webrtcSupported=this.isWebRTCSupported(),this.audioSupported=this.isAudioSupported(),this.userAgentBlocked=this.isUserAgentBlocked(this.options?.parser),this.userAgentSupported=this.isUserAgentSupported(this.options?.parser),this.keyboardSupported=this.isKeyboardSupported(),this.mouseSupported=this.isMouseSupported(),this.fullscreenSupported=this.isFullscreenSupported(),this._online=globalThis?.navigator?.onLine??!0,this._allowNonstandardGamepad=!1,this._localGamepadConnected=(0,u.F)(this._allowNonstandardGamepad),this._remoteGamepadConnected=!1,this._mouseConnected=!1,this._lowBandwidth=this.isLowBandwidthConnection(),this._streamReadiness=this.calculateStreamReadinessStatus(),this.browserSupported=this.gamepadSupported&&this.webrtcSupported&&this.audioSupported&&!this.userAgentBlocked&&this.userAgentSupported&&!0!==this.options?.isXboxOS,this.cleanupEventListeners=this.setupListeners()}destroy(){this.cleanupEventListeners?.()}addEventListener(e,t,n){this.eventTarget.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventTarget.removeEventListener(e,t,n)}setAllowNonStandardGamepad(e){this._allowNonstandardGamepad!==e&&(this._allowNonstandardGamepad=e,this.setLocalGamepadConnected((0,u.F)(e)))}setRemoteGamepadConnected(e){const t=this.gamepadConnected;this._remoteGamepadConnected!==e&&(this._remoteGamepadConnected=e,this.gamepadConnected!==t&&this.eventTarget.dispatchEvent(new a))}setOnline(e){this._online!==e&&(this._online=e,this.eventTarget.dispatchEvent(new s))}setLocalGamepadConnected(e){const t=this.gamepadConnected;this._localGamepadConnected!==e&&(this._localGamepadConnected=e,this.gamepadConnected!==t&&this.eventTarget.dispatchEvent(new a))}setMouseConnected(e){this._mouseConnected!==e&&(this._mouseConnected=e,this.eventTarget.dispatchEvent(new c))}setLowBandwidth(e){this._lowBandwidth!==e&&(this._lowBandwidth=e,this.eventTarget.dispatchEvent(new i))}setStreamReadiness(e){this._streamReadiness!==e&&(this._streamReadiness=e,this.eventTarget.dispatchEvent(new l))}setupListeners(){const e=()=>{this.setOnline(globalThis?.navigator.onLine),this.setLowBandwidth(this.isLowBandwidthConnection()),this.setStreamReadiness(this.calculateStreamReadinessStatus())},t=()=>{this.setLocalGamepadConnected((0,u.F)(this._allowNonstandardGamepad)),this.setStreamReadiness(this.calculateStreamReadinessStatus())},n=e=>{this.setMouseConnected(e.matches)};globalThis.addEventListener("online",e),globalThis.addEventListener("gamepadconnected",t),globalThis.addEventListener("gamepaddisconnected",t);const r=globalThis.matchMedia("(pointer: fine)");return this.setMouseConnected(r.matches),r.addEventListener&&r.addEventListener("change",n),()=>{globalThis.removeEventListener("online",e),globalThis.removeEventListener("gamepadconnected",t),globalThis.removeEventListener("gamepaddisconnected",t),r.removeEventListener&&r.removeEventListener("change",n)}}isLowBandwidthConnection(){return!1}isGamepadSupported(){return!!navigator.getGamepads}isWebRTCSupported(){return!!globalThis.RTCPeerConnection}isAudioSupported(){return!!globalThis.AudioContext||!!globalThis.webkitAudioContext}isUserAgentBlocked(e){return!!e?.satisfies({desktop:{macos:{safari:"<=11"}}})}isUserAgentSupported(e){const t=e?.getUA();return!!(this.options?.isSupportedTVBrowser||t?.includes(o.FT)||t?.includes(o.ys)||t?.includes(o.S8))||(this.options?.isSupportedChromiumBasedBrowser||!!e?.satisfies({desktop:{chrome:">=79",edge:">=79",macos:{safari:">=14"}},mobile:{ios:{safari:">=14"},android:{chrome:">=79",edge:">=79"}},tablet:{ios:{safari:">=14"},android:{chrome:">=79",edge:">=79"}}}))}isKeyboardSupported(){return!!navigator.keyboard}isMouseSupported(){return!!document.exitPointerLock}isFullscreenSupported(){return document.fullscreenEnabled||!!document.webkitFullscreenEnabled}calculateStreamReadinessStatus(){if(!(this.gamepadSupported&&this.webrtcSupported&&this.audioSupported)||this.userAgentBlocked)return"blocked";const e=this.options?.isIOS&&!this.options?.isSafari;return!this.online||this.lowBandwidth||e||this.options?.isXboxOS||!this.userAgentSupported?"partially-ready":"ready"}}var g;!function(e){e.BrowserMap={chrome:"chrome","microsoft edge":"edge",safari:"safari",firefox:"firefox",tizen:"chrome","webos browser":"chrome"},e.OSMap={macos:"macOS",windows:"windows",linux:"linux",ios:"iOS",android:"android","chrome os":"chromeOS",tizen:"tizen",fireos:"fireOS",webos:"webOS"},e.DeviceTypeMap={desktop:"desktop",mobile:"mobile",tablet:"tablet",smarttv:"smarttv"}}(g||(g={}));var f=n(817427);const v=/\bFB[\w_]+\/(Messenger|MESSENGER)/,_=/\bFB[\w_]+\/(iOS|iPhone|phone|FB)/,y=/\bTwitter\b/,b=/\bInstagram\b/,C=/Android\s\d+;\sRazer\s[0-9a-zA-Z ]+\sBuild/,E=/Linux;\sAndroid\s\d+;\sGR\d{4}\b/,S=/Googlebot\//,T=/bingbot/,w="unknown";class I{get vendor(){return this._vendor}get model(){return this._model}get architecture(){return this._architecture}get osVersion(){return this._osVersion}get gpuRenderer(){return this._gpuRenderer}get deviceModelSubtype(){return this._deviceModelSubtype}constructor(e,t,n){this.userAgent=e,this.userAgentData=t,this.logger=n,this.browserName=w,this.browserVersion=w,this.browserMajorVersion=-1,this.osName=w,this.deviceType=w,this.engineName=w,this.engineVersion=w,this.engineMajorVersion=-1,this.webviewAppName=w,this._vendor=w,this._model=w,this._architecture=w,this._osVersion=w,this._deviceModelSubtype="",this._gpuRenderer="",this.userAgent||(this.userAgent=window.navigator.userAgent),this.userAgentData||(this.userAgentData=window.navigator.userAgentData),this.userAgent&&(this.parser=(0,r.getParser)(this.userAgent),this.browserInformation=this.parser.getResult()),this.supportsTouch=this.getSupportsTouch(),this.osName=this.getOSName(),this._osVersion=this.getOSVersion(),this.browserName=this.getBrowserName(),this.browserVersion=this.getBrowserVersion(this.osName),this.browserMajorVersion=parseInt(this.browserVersion,10)||-1,this._model=this.getModel(),this.desktopSiteRequested=this.getDesktopSiteRequested(),this.deviceType=this.getDeviceType(),this._architecture=this.getArchitecture(),this._vendor=this.getVendor(),this.engineName=this.getEngineName(),this.engineVersion=this.getEngineVersion(this.engineName),this.engineMajorVersion=parseInt(this.engineVersion,10)||-1,this.webviewAppName=this.getMobileAppName(),this.isIOS="iOS"===this.osName,this.isIPadOS="iPadOS"===this.osName,this.isMobile=this.userAgentData?.mobile||"mobile"===this.deviceType,this.isTablet="tablet"===this.deviceType,this.isMacOS="macOS"===this.osName,this.isSafari="safari"===this.browserName,this.isEdge="edge"===this.browserName,this.isChrome="chrome"===this.browserName,this.isFireOS="fireOS"===this.osName,this.isAndroid=this.isFireOS||"android"===this.osName,this.isTizen="tizen"===this.osName,this.isWebOS="webOS"===this.osName,this.isTV="smarttv"===this.deviceType,this.isSupportedTVBrowser=this.isTV&&(0,d.hA)(this.userAgent),this.isVR="vr"===this.deviceType,this.isXbox="xboxOS"===this.osName,this.isWindows="windows"===this.osName,this.isWebKit="WebKit"===this.engineName,this.isLinux="linux"===this.osName,this.isChromeOS="chromeOS"===this.osName,this.isBlinkEngine="Blink"===this.engineName,this.isDesktop="desktop"===this.deviceType,this.isMetaQuest=this.isVR&&"oculus"===this.browserName,this.isSupportedChromiumBasedBrowser=this.isChrome&&this.browserMajorVersion>=79||this.isBlinkEngine&&this.engineMajorVersion>=79,this.isAppleOSWebview=this.getIsAppleOSWebview(),this.capabilities=new p({isIOS:this.isIOS,isSafari:this.isSafari,isXboxOS:this.isXbox,isSupportedTVBrowser:this.isSupportedTVBrowser,isSupportedChromiumBasedBrowser:this.isSupportedChromiumBasedBrowser,parser:this.parser,logger:this.logger}),this.updatePlatformSpecificInformation()}async updatePlatformSpecificInformation(){this.platformSpecificInformationPromise||(this.platformSpecificInformationPromise=new Promise((e=>{(async()=>{if((0,m.r7)()){const e=await(0,m.EG)();e&&(this._model=`${e.model}_${e.buildVersion}`,this._vendor=e.manufacturer)}else if("webOS"===this.osName){const{getManufacturer:e,getModel:t,getOSVersion:r}=await n.e(6257).then(n.t.bind(n,800668,23));this._model=await t(),this._vendor=await e(),this._osVersion=await r()}e()})()}))),await this.platformSpecificInformationPromise}async calculateDeviceModelSubtype(){if(this._gpuRenderer&&this._deviceModelSubtype)return;let e,t;try{e=await n.e(51005).then(n.t.bind(n,551005,23)),t=await n.e(33499).then(n.bind(n,33499))}catch(r){const e=(0,f.L)(r);this.logger?.error("Experienced error while importing Apple deobfuscation modules",e)}(()=>{if(this._gpuRenderer=(()=>{const e=document.createElement("canvas").getContext("webgl"),t=e?.getExtension("WEBGL_debug_renderer_info");return t?e?.getParameter(t.UNMASKED_RENDERER_WEBGL):w})(),"Apple GPU"===this._gpuRenderer)try{e.getRenderer((e=>{this.logger?.info(`Deobfuscating Apple GPU found matched renderer(s): ${e}`),this._gpuRenderer=e}))}catch(r){const t=(0,f.L)(r);this.logger?.error("Determining GPU renderer encountered error",t)}})(),(e=>{if(this._deviceModelSubtype=w,"iPadOS"===this.osName||"iOS"===this.osName)try{const n=t.matchAppleDevice(e);n&&(this.logger?.info(`Deobfuscating Apple GPU found matched device(s): ${n}`),this._deviceModelSubtype=n)}catch(r){const t=(0,f.L)(r);this.logger?.error("Matching GPU to Apple device encountered error",t)}})(this._gpuRenderer)}getBrowserName(){if(this.userAgent){if(S.test(this.userAgent))return"googlebot";if(T.test(this.userAgent))return"bingbot";if(this.userAgent.includes("OculusBrowser"))return"oculus"}if(this.userAgentData?.brands&&this.userAgentData.brands.some((e=>e?.brand?.includes("Edge"))))return"edge";const e=this.browserInformation?.browser?.name?.toLocaleLowerCase();return e&&Object.keys(g.BrowserMap).includes(e)?g.BrowserMap[e]:this.browserName}getBrowserVersion(e){if(this.userAgentData?.uaFullVersion)return this.userAgentData.uaFullVersion;if((0,d.hA)(this.userAgent)&&("tizen"===e||"webOS"===e)){let t;if("tizen"===e?t=(0,d.mz)(this.userAgent):"webOS"===e&&(t=(0,d.d5)(this.userAgent)),t)return t}return this.browserInformation?.browser.version||this.browserVersion}getOSName(){const e="safari"===this.getBrowserName();if((()=>{if(!e)return!1;if("iPadOS"===this.browserInformation?.os.name)return!0;if(!["macOS","iOS"].includes(this.browserInformation?.os.name??""))return!1;const t=this.getAspectRatio();return!0===this.getSupportsTouch()&&!isNaN(t)&&t>=.61})())return"iPadOS";if((()=>!!e&&("iOS"===this.browserInformation?.os.name||"macOS"===this.browserInformation?.os.name&&!0===this.getSupportsTouch()))())return"iOS";const t=/(^|[^a-zA-Z])Xbox;/;if((()=>{if(this.userAgentData?.model&&this.userAgentData.model?.match(t))return!0;if(this.userAgent&&this.parser){const e=this.parser.satisfies({windows:{edge:">=13"}})&&this.parser.test(t),n="undefined"!==typeof navigator&&(navigator.platform?.match(t)||this.userAgent?.match(t));return!!e||!!n}return!1})())return"xboxOS";if(this.userAgent&&h.o.test(this.userAgent))return"fireOS";if(this.userAgent?.includes("webOS"))return"webOS";if(this.userAgentData){const e=this.userAgentData.platform?.toLocaleLowerCase();if(e&&e in g.OSMap)return g.OSMap[e]}const n=this.browserInformation?.os.name?.toLocaleLowerCase();return n&&Object.keys(g.OSMap).includes(n)?g.OSMap[n]:this.osName}getOSVersion(){if("fireOS"===this.osName){const e=this.userAgent?.match(o.EH);if(e&&e.length>0&&e[0])return e[0]}return this.userAgentData?.platformVersion||this.browserInformation?.os.version||this.osVersion}getEngineName(){return"android"===this.osName&&"edge"===this.browserName?"Blink":this.browserInformation?.engine.name||this.engineName}getDesktopSiteRequested(){return!0===this.getSupportsTouch()&&"macOS"===this.browserInformation?.os.name}getVendor(){const e=this.browserInformation?.platform.vendor||this.vendor;if(e===w&&this.userAgent){if(this.userAgent.includes(o.FT)||E.test(this.userAgent))return"Logitech";if(this.userAgent.includes(o.ys)||this.userAgent.includes(o.S8)||C.test(this.userAgent))return"Razer"}return e}getModel(){const e=this.userAgentData?.model||this.browserInformation?.platform.model||this.model;if(e===w&&this.userAgent){if(this.userAgent.includes(o.FT)||E.test(this.userAgent)){const[,e]=/Android\s\d+;\s((?:\w|\d)+)\b/.exec(this.userAgent)??[];return e||"Unknown Logitech Model"}if(this.userAgent.includes(o.ys)||this.userAgent.includes(o.S8)||C.test(this.userAgent)){const[,e]=/Android\s\d+;\s([0-9a-zA-Z ]+)\sBuild/.exec(this.userAgent)??[];return e||"Unknown Razer Model"}if("fireOS"===this.osName){const[,e]=/Android\s\d+;\s([0-9a-zA-Z ]+)\sBuild/.exec(this.userAgent)??[];return e||"Unknown Fire OS Model"}}switch(this.getOSName()){case"iPadOS":return"iPad";case"iOS":return"iPhone"}return e}getRawDeviceType(){return this.browserInformation?.platform.type&&Object.keys(g.DeviceTypeMap).includes(this.browserInformation.platform.type)?g.DeviceTypeMap[this.browserInformation.platform.type]:this.deviceType}getIsVR(){if(this.userAgent)return this.userAgent.includes("VR")&&this.userAgent.includes("OculusBrowser")}getIsTV(){return"smarttv"===this.getRawDeviceType()||(this.userAgent?!!(0,h.i)(this.userAgent):void 0)}getDeviceType(){if(this.userAgent){if(this.userAgent.includes(o.FT)||this.userAgent.includes(o.ys)||this.userAgent.includes(o.S8)||E.test(this.userAgent)||C.test(this.userAgent))return"tablet";if(S.test(this.userAgent)||T.test(this.userAgent))return"robot";if(this.getIsVR())return"vr"}const e=this.getRawDeviceType();if("smarttv"!==e&&this.userAgent&&(0,h.i)(this.userAgent))return"smarttv";const t=this.getOSName();return"iPadOS"===t?"tablet":"iOS"===t?"mobile":"chromeOS"===t?"desktop":e===w&&this.userAgentData?.mobile?"mobile":e}getArchitecture(){let e=w;return this.userAgentData?.architecture&&(e=this.userAgentData.architecture),e}getSupportsTouch(){return!this.getIsVR()&&!this.getIsTV()&&("ontouchstart"in window||navigator.maxTouchPoints>0)}getAspectRatio(){const e=window.screen.height/window.screen.width;return e>1?1/e:e}getEngineVersion(e){if("Blink"===e){const e=this.userAgent?.match(/(?:chrome)\/(\d+(\.?_?\d+)+)/i);if(e&&e.length>0&&e[1])return e[1]}return this.browserInformation?.engine.version||this.engineVersion}getMobileAppName(){return v.test(this.userAgent??"")?"messenger":_.test(this.userAgent??"")?"fb":b.test(this.userAgent??"")?"instagram":y.test(this.userAgent??"")?"twitter":w}getIsAppleOSWebview(){return!(!this.isIOS&&!this.isIPadOS||this.webviewAppName===w)}}},817427:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});function r(e){if(e instanceof Error)return e;if(null==e)return new Error("Unknown error");if("string"===typeof e.name&&"string"===typeof e.message)return e;if("string"===typeof e)return new Error(e);try{return new Error("object"!==typeof(t=e)||t instanceof Error?String(t):JSON.stringify(t))}catch(n){return new Error(e.toString()||"Unknown error")}var t}},793790:(e,t,n)=>{"use strict";function r(e){return!!globalThis.navigator?.getGamepads&&Array.from(globalThis.navigator.getGamepads()).some((t=>!(!t||!t.connected)&&(e||function(e){return e.axes&&e.axes.length>=4&&e.buttons&&e.buttons.length>=16}(t))))}n.d(t,{F:()=>r})},790027:(e,t,n)=>{"use strict";n.d(t,{d5:()=>a,hA:()=>r,mz:()=>o});const r=e=>!!e&&(!!e.includes("FC4A1DA2-711C-4E9C-BC7F-047AF8A672EA")||(!!e.includes("38F12DB1-C5DB-4749-AB22-A5C9E9EF866C")||!(!e.includes("WebAppManager")&&!e.includes("webOSTV"))));function o(e){if(e){const t=/\d+(\.\d+)*\/\d+(\.\d+)*/i,n=e.match(t);if(n&&n.length>0)return n[0]}}function a(e){if(e){const t=/Chrome\/(\d+(?:\.\d+)*\.\d+)/i,n=e.match(t);if(n&&n.length>1)return n[1]}}},859131:(e,t,n)=>{"use strict";n.d(t,{i:()=>o,o:()=>r});const r=/\b[Aa][Ff][Tt].*\b/,o=e=>{const t=e.toLowerCase();return!!t.includes("smart-tv")||(!(!t.includes("web0s")&&!t.includes("webostv"))||!!r.test(t))}},184399:(e,t,n)=>{"use strict";n.d(t,{EG:()=>o,r7:()=>r});const r=()=>null!=window.tizen;async function o(){if(r())return new Promise(((e,t)=>{tizen.systeminfo.getPropertyValue("BUILD",(t=>e(t)),(e=>t(e)))}))}},651941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MSAAuthenticator:()=>r.xD,RpsTicketCustomHeaderAuthenticator:()=>a.i,RpsTicketProvider:()=>r.c4,TokenAuthenticator:()=>o.N,TokenProvider:()=>o.B,formatAuthorizationHeaderValue:()=>r.qb,isToken:()=>i.h});var r=n(328457),o=n(608552),a=n(518845),i=n(901799)},128351:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AcceptLanguageInterceptor:()=>r.X,AcceptableLanguageProvider:()=>r.F,ContentRestrictionInterceptor:()=>o.M,ContentRestrictionProvider:()=>o.B,CorrelationVectorInterceptor:()=>a.O,CorrelationVectorProvider:()=>a.v,ETagInterceptor:()=>i.L,ErrorData:()=>l.KZ,ErrorLogInterceptor:()=>s.rA,HostData:()=>l.VU,HttpReliabilityReport:()=>l.rg,HttpReliabilityTable:()=>l.Je,MarketAndLocaleProvider:()=>u.e,MarketAndLocaleQueryParamInterceptor:()=>c.K,MarketProvider:()=>u.v,ReliabilityErrorInterceptor:()=>d.lB,ReliabilityRequestInterceptor:()=>d.j6,ReliabilityResponseInterceptor:()=>d.Aw,RequestLogInterceptor:()=>s.kH,ResponseLogInterceptor:()=>s.mW,StatusData:()=>l.h9,UriClassifier:()=>l.sp,XblMarketInterceptor:()=>h.a});var r=n(283680),o=n(709529),a=n(731588),i=n(858481),s=n(805331),l=n(742687),c=n(452920),u=n(951378),d=n(727237),h=n(986108)},251175:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_BASE_DELAY_MS:()=>o._h,DEFAULT_MAX_RETRIES:()=>o.vi,DEFAULT_RESPONSE_VALIDATOR:()=>r.GD,DEFAULT_RETRY_PREDICATE:()=>l.S7,DEFAULT_RETRY_TIMEOUT_MS:()=>o.jJ,DEFAULT_TIMEOUT_MS:()=>o._e,ETAG_RESPONSE_VALIDATOR:()=>r.mr,HttpClient:()=>c.e,HttpClientBuilder:()=>u.D,HttpError:()=>d.o,HttpHeader:()=>p.r,HttpSuccessValidator:()=>h.T,InterceptedRequest:()=>g.A,InterceptorCollection:()=>m.E,MutableRequestFactory:()=>y.S,RequestFactory:()=>_,ResponseError:()=>p.V,anySignal:()=>i.N,composeFetchEnhancers:()=>r.xi,createAuthenticatedFetch:()=>a.I,createFetchWithTimeout:()=>i.b,createInterceptedFetch:()=>s.w,createRetriableFetch:()=>l.Qg,interceptorPriorityComparator:()=>m.w,parseRetryAfterDelayMs:()=>l.sR});var r=n(919112),o=n(156282),a=n(767835),i=n(414674),s=n(180860),l=n(317605),c=n(884357),u=n(223245),d=n(984711),h=n(939523),m=n(621979),p=n(111570),g=n(441164),f=n(116480),v=n(92303);class _{constructor(e,t={}){this.baseUrl=e,this.commonOptions=t,this.setCommonOptions=e=>(this.commonOptions=e,this),this.setCommonMetadata=e=>(this.commonOptions={...this.commonOptions,metadata:e},this),this.setCommonMetadataValue=(e,t)=>(this.commonOptions={...this.commonOptions,metadata:{...this.commonOptions.metadata,[e]:t}},this),this.setCommonHeaders=e=>(this.commonOptions={...this.commonOptions,headers:e},this),this.setCommonTimeout=e=>(this.commonOptions={...this.commonOptions,timeout:e},this),this.setCommonResponseType=e=>(this.commonOptions={...this.commonOptions,responseType:e},this),this.setCommonMaxRetries=e=>(this.commonOptions={...this.commonOptions,maxRetries:e},this),this.setCommonRetryCondition=e=>this.setCommonRetryPredicate(((t,n)=>{const r=new p.V(n.message,t,"response"in n?n.response.status:void 0,"response"in n?n.response:void 0);return e(r)})),this.setCommonRetryPredicate=e=>(this.commonOptions={...this.commonOptions,retryPredicate:e},this),this.setCommonRetryCountHeaderPreference=e=>(this.commonOptions={...this.commonOptions,includeRetryCountHeader:e},this),this.setCommonAbortSignal=e=>(this.commonOptions={...this.commonOptions,abortSignal:e},this),this.get=(e,t)=>this._buildRequest(e,"GET",t),this.delete=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"DELETE",r)},this.head=(e,t)=>this._buildRequest(e,"HEAD",t),this.options=(e,t)=>this._buildRequest(e,"OPTIONS",t),this.post=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"POST",r)},this.put=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PUT",r)},this.patch=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PATCH",r)}}static withBaseUrl(e){return new _(e)}_buildRequest(e,t,n={}){var r;const{params:o,headers:a,body:i,metadata:s,...l}=this.commonOptions,{params:c,headers:u,body:d,metadata:h,...m}=n,p=new Headers(null!==a&&void 0!==a?a:{}),_=s||h?{...s,...h}:void 0,y=new Headers(null!==u&&void 0!==u?u:{});for(const[g,f]of y)p.set(g,f);const b=(0,f.Q)(this.baseUrl,e,null!==c&&void 0!==c?c:o),C=(0,v.f)(null!==d&&void 0!==d?d:i,p);return{request:new g.A(b,{method:t,headers:C.headers,body:C.body,signal:null!==(r=n.abortSignal)&&void 0!==r?r:this.commonOptions.abortSignal},_),...l,...m,metadata:_}}}var y=n(923983);if("undefined"===typeof Request)throw new Error("Global Request constructor must exist to use this package; consider a polyfill like node-fetch in a Node env");if("undefined"===typeof Headers)throw new Error("Global Headers constructor must exist to use this package; consider a polyfill like node-fetch in a Node env")},567827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122970);r.__exportStar(n(66012),t),r.__exportStar(n(845603),t),r.__exportStar(n(639229),t),r.__exportStar(n(863306),t),r.__exportStar(n(881272),t),r.__exportStar(n(590022),t),r.__exportStar(n(262818),t)},821883:(e,t,n)=>{"use strict";e.exports=n(567827)},641765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(122970).__exportStar(n(670349),t)},261712:(e,t,n)=>{"use strict";t.LceRenderer=void 0;const r=n(202784),o=n(821883);class a extends r.Component{constructor(){super(...arguments),this.renderDefault=e=>this.props.renderDefault?this.props.renderDefault(e):null}render(){const{data:e,renderNotRequested:t,renderFetching:n,renderContent:r,renderError:a}=this.props;return o.lceSelect(e,{isNotRequested:t,isFetching:n,content:r,error:a,default:this.renderDefault})}}t.LceRenderer=a},331168:(e,t,n)=>{"use strict";e.exports=n(261712)},37138:(e,t,n)=>{"use strict";e.exports=n(979964)},879730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122970);(0,r.__exportStar)(n(600230),t),(0,r.__exportStar)(n(98160),t)},469821:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});const r={XboxGreen:{accent:"#008746",accentLight1:"#04b358",accentLight2:"#1cb069",accentLight3:"#32c77f",accentDark1:"#0c6b3d",accentDark2:"#044e2a",accentDark3:"#003019"},Brown:{accent:"#724f2f",accentLight1:"#8e7258",accentLight2:"#a18a75",accentLight3:"#bbaa9b",accentDark1:"#644224",accentDark2:"#553518",accentDark3:"#301d0b"},Orange:{accent:"#eb4910",accentLight1:"#ef6d3f",accentLight2:"#f18661",accentLight3:"#f5a78c",accentDark1:"#cb3b10",accentDark2:"#ab2d11",accentDark3:"#692015"},Chocolate:{accent:"#4c4a4b",accentLight1:"#6f6e6f",accentLight2:"#888788",accentLight3:"#a9a8a8",accentDark1:"#424141",accentDark2:"#373737",accentDark3:"#191919"},Grey:{accent:"#737373",accentLight1:"#8f8f8f",accentLight2:"#a2a2a2",accentLight3:"#bbbbbb",accentDark1:"#616161",accentDark2:"#4f4f4f",accentDark3:"#262626"},Steel:{accent:"#677488",accentLight1:"#858f9f",accentLight2:"#9aa3b0",accentLight3:"#b6bcc5",accentDark1:"#536075",accentDark2:"#3e4b61",accentDark3:"#222b38"},Taupe:{accent:"#7e715c",accentLight1:"#978d7c",accentLight2:"#a9a193",accentLight3:"#c1bab0",accentDark1:"#6b5e4a",accentDark2:"#574b38",accentDark3:"#362f24"},Olive:{accent:"#547a72",accentLight1:"#76948e",accentLight2:"#8ea7a1",accentLight3:"#acbfbb",accentDark1:"#3f625a",accentDark2:"#294a42",accentDark3:"#1c2b28"},Crimson:{accent:"#a21025",accentLight1:"#b43f50",accentLight2:"#c1616f",accentLight3:"#d28c96",accentDark1:"#86101e",accentDark2:"#691117",accentDark3:"#450710"},Pink:{accent:"#ed5588",accentLight1:"#f0779f",accentLight2:"#f38eb0",accentLight3:"#f6adc5",accentDark1:"#c63f6c",accentDark2:"#9e2950",accentDark3:"#57172d"},Magenta:{accent:"#bf1077",accentLight1:"#cb3f92",accentLight2:"#d461a5",accentLight3:"#e08cbd",accentDark1:"#99115f",accentDark2:"#731247",accentDark3:"#4a102e"},Violet:{accent:"#b144c0",accentLight1:"#c069cc",accentLight2:"#cb83d5",accentLight3:"#d9a5e0",accentDark1:"#8c2f9a",accentDark2:"#671a73",accentDark3:"#38163d"},Indigo:{accent:"#744da9",accentLight1:"#8f70ba",accentLight2:"#a389c6",accentLight3:"#bca9d5",accentDark1:"#60379a",accentDark2:"#4c208a",accentDark3:"#24153b"},Cobalt:{accent:"#1073d6",accentLight1:"#3f8fde",accentLight2:"#61a2e3",accentLight3:"#8cbbeb",accentDark1:"#1161b0",accentDark2:"#134e8a",accentDark3:"#133157"},Navy:{accent:"#193e91",accentLight1:"#4764a7",accentLight2:"#677fb6",accentLight3:"#90a2ca",accentDark1:"#15357d",accentDark2:"#102c69",accentDark3:"#101836"},Cyan:{accent:"#1081ca",accentLight1:"#3f9ad4",accentLight2:"#61abdc",accentLight3:"#8cc2e5",accentDark1:"#1069a5",accentDark2:"#105080",accentDark3:"#10314f"},Turqoise:{accent:"#108272",accentLight1:"#3f9b8e",accentLight2:"#61aca1",accentLight3:"#8cc3bb",accentDark1:"#0d6659",accentDark2:"#0a4f45",accentDark3:"#062f29"},Teal:{accent:"#148282",accentLight1:"#439b9b",accentLight2:"#63acac",accentLight3:"#8ec3c3",accentDark1:"#146d70",accentDark2:"#13585e",accentDark3:"#103033"},Lime:{accent:"#54a81b",accentLight1:"#76b948",accentLight2:"#8ec568",accentLight3:"#acd591",accentDark1:"#329216",accentDark2:"#107c10",accentDark3:"#103610"},Amber:{accent:"#eb8c10",accentLight1:"#efa33f",accentLight2:"#f1b361",accentLight3:"#f5c78c",accentDark1:"#af6610",accentDark2:"#733f10",accentDark3:"#4f300e"},Red:{accent:"#e31123",accentLight1:"#e8404f",accentLight2:"#ec616d",accentLight3:"#f18c95",accentDark1:"#b4121c",accentDark2:"#851414",accentDark3:"#471010"}}},924117:(e,t,n)=>{"use strict";var r;n.d(t,{Q:()=>r}),function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light",e[e.HCBlack=2]="HCBlack",e[e.HCWhite=3]="HCWhite",e[e.HCAquatic=4]="HCAquatic",e[e.HCDesert=5]="HCDesert"}(r||(r={}))},573844:(e,t,n)=>{"use strict";var r;n.d(t,{g:()=>r}),function(e){e[e.DefaultTheme=0]="DefaultTheme",e[e.Polaris=1]="Polaris",e[e.Test=2]="Test",e[e.WebPolaris=3]="WebPolaris"}(r||(r={}))},804802:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(202784),o=n(924117),a=n(469821),i=n(573844);const s=(0,r.createContext)({theme:o.Q.Dark,themeVersion:i.g.Polaris,isRtl:!1,userColors:a.I.XboxGreen,textScale:1,version:"1.0",deviceOrientation:"portrait",deviceType:"Handset",language:""})},616763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M12.921 2.001l.117.007a1 1 0 010 1.986l-.117.007H7l-.176.005a3 3 0 00-2.819 2.819L4 7v18l.005.176a3 3 0 002.819 2.819l.176.005h18l.176-.005a3 3 0 002.819-2.819l.005-.176v-6l.007-.116a1 1 0 011.986 0L30 19v6l-.005.217a5 5 0 01-4.772 4.778l-.223.005H7l-.217-.004a5 5 0 01-4.778-4.773L2 25.001v-18l.005-.217a5 5 0 014.772-4.778L7 2.001h5.921zm16.079 0c.27 0 .505.1.703.297a.961.961 0 01.297.703v10c0 .27-.099.505-.297.703a.961.961 0 01-.703.297.961.961 0 01-.703-.297.961.961 0 01-.297-.703V5.407L17.703 15.704a.929.929 0 01-.703.297.929.929 0 01-.703-.297c-.198-.218-.297-.453-.297-.703 0-.27.099-.505.297-.703L26.594 4.001H19a.961.961 0 01-.703-.297.961.961 0 01-.297-.703c0-.27.099-.505.297-.703A.961.961 0 0119 2.001h10z",fillRule:"evenodd"}))}},170829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M3.922 32c-.521 0-1.016-.104-1.485-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.859-1.25 3.84 3.84 0 01-.328-1.5V3.922C0 3.4.104 2.906.313 2.437a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.859A3.84 3.84 0 013.922 0h24.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v24.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H3.922zM28 30c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V4a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0028 2H4c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64C2.042 3.469 1.99 3.73 2 4v24c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.093.505.146.797.156h24z",fillRule:"evenodd"}))}},348924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M3.203 32c-.437 0-.849-.083-1.234-.25a3.437 3.437 0 01-1.032-.688 2.925 2.925 0 01-.687-1.015 3.517 3.517 0 01-.25-1.25V3.203c0-.437.083-.849.25-1.234.167-.386.396-.73.688-1.032.291-.302.63-.53 1.015-.687.386-.156.802-.24 1.25-.25h25.594c.437 0 .849.083 1.234.25.386.167.73.396 1.032.688.302.291.53.63.687 1.015.156.386.24.802.25 1.25v25.594c0 .437-.083.849-.25 1.234-.167.386-.396.73-.688 1.032-.291.302-.63.53-1.015.687-.386.156-.802.24-1.25.25H3.203zM13 22.25c.156 0 .313-.031.469-.094.156-.062.297-.15.422-.265l12-12c.24-.24.359-.537.359-.891s-.12-.651-.36-.89a1.21 1.21 0 00-.89-.36c-.354 0-.651.12-.89.36L13 19.233 7.89 14.11A1.21 1.21 0 007 13.75c-.354 0-.651.12-.89.36-.24.239-.36.536-.36.89 0 .156.031.313.094.469.062.156.15.297.265.422l6 6a1.293 1.293 0 00.89.36z",fillRule:"evenodd"}))}},172095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M1.132 10.277a1.125 1.125 0 011.493-.088l.098.088 13.381 13.38 13.349-13.349a1.125 1.125 0 011.492-.087l.099.087c.408.408.437 1.051.087 1.493l-.087.098-14.145 14.145a1.125 1.125 0 01-1.493.087l-.098-.087L1.132 11.868a1.125 1.125 0 010-1.591z",fillRule:"evenodd"}))}},811103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M20.38 1.205a1.125 1.125 0 011.679 1.492l-.088.098-13.38 13.381L21.94 29.525c.408.408.437 1.051.087 1.493l-.087.098a1.125 1.125 0 01-1.493.087l-.098-.087L6.205 16.97a1.125 1.125 0 01-.088-1.492l.088-.099L20.38 1.205z",fillRule:"evenodd"}))}},364807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M10.236 1.205a1.125 1.125 0 011.493-.088l.098.088L25.97 15.349c.408.408.437 1.051.088 1.493l-.088.098-14.176 14.176a1.125 1.125 0 01-1.678-1.493l.088-.098 13.379-13.381L10.236 2.795a1.125 1.125 0 01-.087-1.492l.087-.098z",fillRule:"evenodd"}))}},194622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M15.277 6.277a1.125 1.125 0 011.493-.088l.098.088 14.176 14.176a1.125 1.125 0 01-1.493 1.678l-.098-.087L16.072 8.663 2.723 22.013a1.125 1.125 0 01-1.493.087l-.098-.088a1.125 1.125 0 01-.087-1.493l.087-.098L15.277 6.277z",fillRule:"evenodd"}))}},885495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M3 6.875a1.125 1.125 0 000 2.25h26a1.125 1.125 0 000-2.25H3zM7 14.875a1.125 1.125 0 000 2.25h18a1.125 1.125 0 000-2.25H7zM12 22.875a1.125 1.125 0 000 2.25h8a1.125 1.125 0 000-2.25h-8z"}))}},789809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M22.311 5.02l.408.038.473.062a7.455 7.455 0 012.692.988c.588.366 1.128.981 1.407 1.451l.092.169.04.09.148.173.128.168c.097.134.184.274.259.422l.124.246.245.508.251.548.13.296.276.651.303.751.295.761.438 1.175.275.768.252.727.219.66.177.57.197.697.219.814.122.487c.02.078.038.156.056.232l.147.67.124.668c.171 1 .217 1.607.18 2.381l-.02.344c-.066.907-.295 1.639-.718 2.354a4.246 4.246 0 01-1.528 1.524c-.544.327-1.422.614-1.814.585-.467-.03-.984-.253-1.677-.806-.634-.503-1.316-1.212-1.983-2.037l-1.241-1.604-.25-.305-.104-.112c-.306-.296-.66-.535-.942-.608l-.17-.039-.155-.027-.175-.02-.223-.013-.486-.01-.467-.003-8.535.002-.486.011-.222.014-.175.02-.155.026-.171.039c-.284.073-.638.312-.941.605l-.105.113-.25.306-.959 1.245c-.755.98-1.542 1.823-2.265 2.396-.695.554-1.211.776-1.671.807-.4.028-1.277-.258-1.825-.587a4.254 4.254 0 01-1.526-1.524c-.422-.714-.65-1.445-.716-2.352-.069-.953-.036-1.583.16-2.723.077-.455.163-.88.27-1.339l.178-.72.218-.812.199-.7.178-.571.342-1.02.405-1.139.29-.783.294-.773.302-.764.289-.7.135-.315.257-.576.247-.525.246-.496A3.22 3.22 0 014.3 8.16l.128-.169.145-.17.049-.103c.21-.425.706-1.042 1.278-1.463l.218-.148a7.436 7.436 0 012.69-.988l.324-.044.15-.018.408-.038c.256-.018.484-.022.715-.019.436.01.764.144 1.096.4l.199.167 2.67-.032 1.623-.008 2.236.014 2.07.026.036-.032c.392-.344.752-.524 1.267-.535.228-.003.454.001.71.019zM21.69 7l-.005.01-.064.058a2 2 0 01-1.162.493l-.185.006-2.058-.025-2.214-.014-1.607.007-2.671.033a2 2 0 01-1.17-.362l-.143-.109-.112-.096h-.09c-.273.001-.54.021-.892.067l-.222.031a5.553 5.553 0 00-1.687.567l-.167.096-.156.105a3.019 3.019 0 00-.617.643l-.037.062-.049.103a2 2 0 01-.177.304l-.109.14-.119.138-.054.072-.068.102-.02.036-.229.46-.23.487-.311.704-.336.808-.293.742-.288.753-.28.76-.394 1.105-.329.98-.163.52-.191.673-.208.775-.172.694a20.52 20.52 0 00-.248 1.221c-.166.97-.193 1.442-.135 2.242.042.592.175 1.026.44 1.476.213.358.458.6.836.829.102.061.26.134.427.196l.173.058.112.031.1-.056.212-.147.2-.154c.504-.4 1.095-1.012 1.697-1.761l.226-.288.997-1.294.251-.305.077-.089.105-.113.079-.08c.544-.526 1.169-.934 1.836-1.106l.23-.053.253-.046.117-.017.175-.02.101-.008.298-.016.53-.012 8.546-.002.5.003.562.014.223.013.277.029.118.016.261.049.222.051c.59.152 1.149.491 1.65.936l.184.171.08.081.102.112.077.088.286.35 1.216 1.571c.594.736 1.175 1.335 1.673 1.73l.19.146.149.105.11.069.063.032.062-.016.091-.028a2.95 2.95 0 00.546-.235c.387-.234.63-.476.84-.83.23-.389.361-.763.42-1.22l.023-.237.02-.318c.026-.55 0-.978-.105-1.653l-.043-.265-.113-.607-.14-.643-.079-.323-.084-.333-.211-.788-.183-.648-.166-.534-.21-.636-.245-.706-.266-.745-.429-1.15-.285-.736-.29-.72-.382-.893-.233-.51-.233-.481-.119-.237-.067-.117-.089-.117-.115-.135a2 2 0 01-.22-.314l-.113-.225a2.825 2.825 0 00-.631-.695l-.114-.08a5.547 5.547 0 00-1.683-.664l-.24-.042a8.44 8.44 0 00-.941-.095L21.69 7zM16 9.714c.883 0 1.6.702 1.6 1.572 0 .867-.717 1.571-1.6 1.571-.883 0-1.6-.704-1.6-1.571 0-.87.717-1.572 1.6-1.572z",fillRule:"evenodd"}))}},883022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M0 10.703C0 9.505.224 8.38.672 7.328A8.948 8.948 0 012.5 4.562a8.524 8.524 0 012.734-1.875A8.396 8.396 0 018.625 2c1.167 0 2.276.224 3.328.672a9.03 9.03 0 012.828 1.906c.209.208.406.412.594.61.188.197.39.4.61.609l.578-.61c.187-.197.39-.395.609-.593a8.578 8.578 0 012.797-1.875 8.751 8.751 0 013.312-.672c1.209 0 2.344.229 3.407.687a8.537 8.537 0 012.765 1.891 9.179 9.179 0 011.86 2.797A8.507 8.507 0 0132 10.828a8.92 8.92 0 01-.64 3.328A8.35 8.35 0 0129.483 17L17 29.61c-.26.26-.578.39-.953.39-.365 0-.677-.13-.938-.39L2.547 16.921A8.814 8.814 0 010 10.703zm30 .125a6.741 6.741 0 00-1.953-4.781 6.892 6.892 0 00-2.14-1.453 6.686 6.686 0 00-2.626-.547 6.53 6.53 0 00-2.531.5A6.622 6.622 0 0018.594 6c-.198.198-.39.401-.578.61-.188.208-.391.406-.61.593a2.195 2.195 0 01-.64.438c-.22.093-.48.14-.782.14-.28 0-.536-.047-.765-.14a2.126 2.126 0 01-.656-.438 15.954 15.954 0 01-.594-.594c-.188-.198-.39-.406-.61-.625a7.08 7.08 0 00-2.156-1.468A6.403 6.403 0 008.625 4c-.927 0-1.792.177-2.594.531a6.888 6.888 0 00-2.11 1.438 6.414 6.414 0 00-1.405 2.125A7.019 7.019 0 002 10.704c0 .895.172 1.76.516 2.593a7 7 0 001.453 2.219l12.078 12.203 12.015-12.125a6.652 6.652 0 001.438-2.188c.333-.823.5-1.682.5-2.578z",fillRule:"evenodd"}))}},190592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm0 2C8.268 2 2 8.268 2 16s6.268 14 14 14 14-6.268 14-14S23.732 2 16 2zm0 10.875c.58 0 1.057.439 1.118 1.002l.007.123v9a1.125 1.125 0 01-2.243.123L14.875 23v-9c0-.621.504-1.125 1.125-1.125zm0-5a1.625 1.625 0 110 3.25 1.625 1.625 0 010-3.25z",fillRule:"evenodd"}))}},257760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(202784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M5.922 14c-.521 0-1.016-.104-1.484-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.86-1.25 3.84 3.84 0 01-.328-1.5V5.922c0-.521.104-1.016.313-1.484a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.86A3.84 3.84 0 015.922 2h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H5.922zm16 0c-.521 0-1.016-.104-1.485-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.859-1.25 3.84 3.84 0 01-.328-1.5V5.922c0-.521.104-1.016.313-1.484a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.86 3.84 3.84 0 011.5-.328h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328h-4.156zM10 12c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V6a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0010 4H6c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64C4.042 5.469 3.99 5.73 4 6v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.094.505.146.797.156h4zm16 0c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V6a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0026 4h-4c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64c-.114.25-.166.511-.156.782v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.094.505.146.797.156h4zm-16-2H6V6h4v4zm16 0h-4V6h4v4zM5.922 30c-.521 0-1.016-.104-1.484-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.86-1.25 3.84 3.84 0 01-.328-1.5v-4.156c0-.521.104-1.016.313-1.485a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.859 3.84 3.84 0 011.5-.328h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H5.922zM22 22h-4v-4h4v4zm8 0h-4v-4h4v4zm-20 6c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782v-4a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0010 20H6c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64c-.114.25-.166.511-.156.782v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.093.505.146.797.156h4zm0-2H6v-4h4v4zm16 0h-4v-4h4v4zm-4 4h-4v-4h4v4zm8 0h-4v-4h4v4z",fillRule:"evenodd"}))}},859387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M640 1755L19 1133l90-90 531 531L1939 275l90 90L640 1755z"}))}},451356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1664 896v128h-640v640H896v-640H256V896h640V256h128v640h640z"}))}},905861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1663 1921v-641h129v768H0V256h768v129H127v1536h1536zM896 0h1152v1152h-128V219L557 1581l-90-90L1829 128H896V0z"}))}},8605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M640 1280h256v128H512V768h128v512zm765-210q32 28 49 66t18 80q0 40-15 75t-41 61-61 41-75 15h-256V768h224q40 0 75 15t61 41 41 61 15 75q0 61-35 110zm-253-46h96q26 0 45-19t19-45q0-26-19-45t-45-19h-96v128zm128 256q26 0 45-19t19-45q0-26-19-45t-45-19h-128v128h128zm224-896q57 0 110 21t95 62l256 256q41 41 62 94t21 111q0 60-8 123t-27 121l-96 286q-5 13-8 24t-9 23q-19 38-47 68t-64 50-75 30-82 11H256q-53 0-99-20t-82-55-55-81-20-100v-8l64-508q2-13 2-25t4-25q12-51 42-93t69-76q64-57 152-101t191-76 212-53 217-35 208-18 183-6h160zm128 1152q47 0 89-21t64-65q4-8 6-15t4-15l96-287q16-48 22-101t7-104q0-32-11-62t-35-53l-255-255q-23-23-53-34t-62-12h-160q-102 0-209 6t-216 22-212 39-201 60q-24 9-56 22t-68 32-69 41-61 47-43 55-17 60v4q0 2-1 4l-63 507q-1 5 1 14t3 15q6 21 17 38t28 31 37 20 42 7h1376z"}))}},884493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M960 992q0 58-28 108t-77 82l112 226H825l-97-192h-88v192H512V768h224q46 0 87 17t71 48 48 72 18 87zm-320 96h96q40 0 68-28t28-68q0-40-28-68t-68-28h-96v192zm893-18q32 28 49 66t18 80q0 40-15 75t-41 61-61 41-75 15h-256V768h224q40 0 75 15t61 41 41 61 15 75q0 61-35 110zm-253-46h96q26 0 45-19t19-45q0-26-19-45t-45-19h-96v128zm128 256q26 0 45-19t19-45q0-26-19-45t-45-19h-128v128h128zm640 128q0 53-20 99t-55 82-81 55-100 20H416q-103 0-178-54t-108-152l-95-286q-19-57-27-120T0 928q0-57 21-110t62-95l256-256q41-41 94-62t111-21h160q82 0 182 5t208 19 218 34 211 54 190 76 154 101q38 34 68 76t43 93q3 13 3 25t3 25l64 508v8zm-256 128q22 0 42-7t36-20 28-30 18-39q1-4 3-13t1-15l-63-508v-4q0-2-1-4 0-31-16-60t-44-54-61-48-69-40-67-32-57-23q-96-35-200-59t-213-40-215-21-210-7H544q-32 0-62 11t-53 35L174 813q-23 23-34 53t-12 62q0 51 6 104t23 101l96 287q2 8 4 15t6 15q23 43 64 64t89 22h1376z"}))}},279517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 142-36 273t-103 244-160 207-207 160-245 103-273 37q-142 0-273-36t-244-103-207-160-160-207-103-245-37-273q0-142 36-273t103-244 160-207 207-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32zm137-925q38 5 71 19t58 38 39 56 14 73q0 62-24 106t-64 72-91 42-107 13H758V634h284q45 0 92 8t88 28 65 56 26 91q0 33-12 61t-34 51-48 39-58 25v2zm-228-47h77q24 0 45-5t37-18 25-31 10-45q0-27-11-44t-30-26-42-12-45-4h-66v185zm96 337q25 0 48-6t42-19 29-33 11-48q0-28-11-47t-29-31-42-17-48-5h-96v206h96z"}))}},238725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1600 1536q40 0 75 15t61 41 41 61 15 75q0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-31 11-64H885q11 33 11 64 0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-55 29-102t80-71L188 256H0V128h281l85 256h1682l-299 896H665l85 256h850zM409 512l213 640h1035l213-640H409zm359 1216q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19q26 0 45-19t19-45zm832 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19z"}))}},94979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M0 0h2048v2048H0V0zm1920 1920V128H128v1792h1792z"}))}},201489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-141 36-272t103-245 160-207 208-160T752 37t272-37q141 0 272 36t245 103 207 160 160 208 103 245 37 272zm-1024 896q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-124 0-238 32t-213 90-182 141-140 181-91 214-32 238q0 124 32 238t90 213 141 182 181 140 214 91 238 32z"}))}},362638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-141 36-272t103-245 160-207 208-160T752 37t272-37q141 0 272 36t245 103 207 160 160 208 103 245 37 272zm-1024 896q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-124 0-238 32t-213 90-182 141-140 181-91 214-32 238q0 124 32 238t90 213 141 182 181 140 214 91 238 32zm-233-553l774-774 82 82-856 856-390-390 82-82 308 308z"}))}},495895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1939 467l90 90-1005 1005L19 557l90-90 915 915 915-915z"}))}},538185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1533 93l-930 931 930 931-90 90L421 1024 1443 3l90 90z"}))}},712646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M605 3l1022 1021L605 2045l-90-90 930-931L515 93l90-90z"}))}},607739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1955 1533l-931-930-931 930-90-90L1024 422l1021 1021-90 90z"}))}},366962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M384 2048v-128h1152v128H384zm1197-851l-621 626-621-626 90-90 467 470V0h128v1577l467-470 90 90z"}))}},193660:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6272 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M928 1856q-128 0-246-33t-222-93-188-146-145-188-94-221T0 928q0-128 33-246t93-222 146-188 188-145 221-94T928 0q128 0 246 33t222 93 188 146 145 188 94 221 33 247q0 128-33 246t-93 222-145 188-188 145-222 94-247 33zm285-904l-81 130h237l80 129h153l-405-648-324 519H506l81-130h248l81-130H396l-81 130h119l-162 259h673l252-403 91 144h-75zM558 563l-81 130h534l81-130H558zm5022 1485h-270l280-568-419-871h278l284 588 278-588h261l-692 1439zm-1030-427q-104 0-191-43t-151-114-99-165-36-192q0-102 36-194t102-164 154-113 194-42q87 0 165 31t139 94V609h249v997h-249v-109q-63 60-144 92t-169 32zm43-800q-57 0-106 21t-87 59-58 87-22 107v27q0 57 21 106t59 86 86 58 107 21q53 0 101-20t86-55 60-82 25-101v-41q0-56-21-105t-59-87-86-59-106-22zm-649 785h-249V208l249-80v1478zm-1177 0h-271V208h318q158 0 319-1 92 0 171 35t138 95 92 140 34 172q0 99-37 181t-100 142-149 92-182 33h-333v509zm0-1152v407h165q82 0 164 1 43 0 80-16t64-44 44-65 16-80q0-42-16-79t-44-65-65-44-80-16h-164q-82 0-164 1z"}))}},94988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-244-104-207-160-161-207-103-245-37-272q0-141 36-272t104-244 160-207 207-161T752 37t272-37q141 0 272 36t244 104 207 160 161 207 103 245 37 272zM616 621l-90 143h589l90-143H616zm983 715h169l-447-715-358 572H559l89-143h274l89-143H437l-89 143h131l-179 286h743l278-445 100 159h-83l-89 143h261l89 143z"}))}},132943:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 640q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm704-164q20 14 36 35t25 45l224 607q20 55 27 121t8 124q0 55-17 111t-49 103-80 76-110 30q-22 0-48-8t-43-24l-304-304q-12-12-30-21t-40-15-42-9-37-3H800q-17 0-37 3t-42 9-39 15-31 21l-304 304q-16 16-42 24t-49 8q-62 0-109-29t-80-76-50-103-17-112q0-61 7-124t28-121l1-1 225-609v-2q9-22 24-41t35-34v-66q44-23 85-40t84-28 88-16 95-6q34 0 61 10t49 22 42 22 40 10h320q19 0 39-10t42-22 50-22 61-10q50 0 95 5t87 17 84 28 86 40v66zm64 1124q33 0 57-20t40-49 23-62 8-61q0-49-6-102t-22-101q-32-93-66-184t-70-184l-61-167q-7-17-12-35t-14-35q-5-10-12-17-11-11-27-17t-30-12v-66q-53-22-110-31t-114-9q-20 0-39 10t-42 22-50 22-61 10H864q-34 0-61-10t-49-22-43-22-39-10q-57 0-114 9t-110 31v66q-8 4-18 8t-21 9-18 12-12 17l-223 605q-16 44-22 100t-6 103q0 27 7 60t23 63 40 49 58 20q5 0 7-1l302-303q20-20 49-35t61-25 65-15 60-5h448q27 0 59 5t65 15 62 25 49 35l302 303q2 1 7 1z"}))}},882279:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M0 384h2048v1280H0V384zm684 160L536 974h146l20-78h120l19 78h146L848 544H684zM88 766q0 113 59 164t169 51q10 0 35-3t52-8 50-11 28-14V711H266v104h81v53q-8 1-14 1t-15 1q-50 0-72-31t-23-77q0-53 28-83t83-31q34 0 60 7t58 18V553h-3q-31-5-59-10t-60-6q-33 0-65 6t-60 18-53 33-41 51q-16 27-19 58t-4 63zm491 450q0-42-13-70t-37-44-56-22-70-7H226v430h135v-136h35q35 0 68-9t58-27 41-47 16-68zm320 288h147l-140-430H743l-148 430h146l20-77h119l19 77zm529-131q0-33-13-55t-32-39-42-26-42-19-32-18-13-21q0-16 15-20t28-5q26 0 57 8t52 24v-118h-3q-31-5-58-11t-60-6q-33 0-64 8t-56 24-40 43-15 64q0 35 12 57t31 38 41 25 40 18 31 17 13 23q0 16-14 20t-26 5q-33 0-65-14t-58-33v126q33 10 62 17t64 7q33 0 66-7t61-23 43-42 17-67zm5-696q-1 15-1 30t0 29v238h130V544h-191q-16 68-33 135t-29 136q-3-10-4-19t-3-20l-58-229-1-3h-197v430h119V771q0-23-1-46t-2-46q13 75 34 148t40 147h126l63-257 4-20 4-20zm395 698q0-33-13-55t-32-38-42-26-42-20-32-17-13-21q0-15 15-20t28-6q31 0 56 9t53 23v-117q-26-11-59-14t-62-3q-33 0-64 8t-56 24-40 43-15 64q0 34 12 57t31 38 41 24 40 18 31 18 13 22q0 16-13 21t-27 5q-35 0-64-14t-58-33v126q11 6 27 10t34 8 35 4 29 1q34 0 67-6t60-23 43-43 17-67zm106-401V867h-137v-55h127V705h-127v-54h135V544h-270v430h272zM820 1187q7 35 16 70t19 71h-71q9-35 20-70t16-71zm-23-389h-71l36-141q8 36 17 71t18 70zm-415 374q24 0 39 11t16 38q0 25-13 36t-38 12h-25v-97h21z"}))}},665447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1504 128q113 0 212 42t173 117 116 173 43 212q0 109-41 208t-118 177l-865 864-865-864Q82 980 41 881T0 672q0-113 42-212t117-173 173-116 212-43q109 0 208 41t177 118q24 24 47 48t48 48q24-24 47-48t48-48q77-77 176-118t209-41z"}))}},317505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1536 768v128q76 0 145 17t123 56 84 99 32 148q0 66-25 124t-69 101-102 69-124 26h-512q-66 0-124-25t-101-69-69-102-26-124q0-87 31-147t85-99 122-56 146-18V768h-64q-93 0-174 35t-142 96-96 142-36 175q0 93 35 174t96 142 142 96 175 36h512q93 0 174-35t142-96 96-142 36-175q0-93-35-174t-96-142-142-96-175-36h-64zm-640 512v-128q76 0 145-17t123-56 84-99 32-148q0-66-25-124t-69-101-102-69-124-26H448q-66 0-124 25t-101 69-69 102-26 124q0 87 31 147t85 99 122 56 146 18v128h-64q-93 0-174-35t-142-96-96-142T0 832q0-93 35-174t96-142 142-96 175-36h512q93 0 174 35t142 96 96 142 36 175q0 93-35 174t-96 142-142 96-175 36h-64z"}))}},61610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1792 896v1152H256V896h256V522q0-108 39-203t108-166T821 41t203-41q109 0 202 41t163 112 108 166 39 203v374h256zm-1152 0h768V522q0-81-29-152t-80-126-122-85-153-31q-82 0-152 31t-122 85-81 125-29 153v374zm1024 128H384v896h1280v-896z"}))}},129641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1536h-640v128h256v128h-640v-128h256v-128H896v256H0V128h896v512h1152v896zm-128-128V768H768v640h1152zM768 1664v-128H256v-128h384v-128H256v-128h384V640h128V256H128v1408h640zM640 384v128H256V384h384z"}))}},651517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1329 1203q136 47 245 131t187 195 118 243 41 276h-128q0-164-58-304t-162-244-243-161-305-59q-108 0-206 27t-184 76-155 119-119 155-77 184-27 207H128q0-143 42-274t119-242 186-195 245-133q-78-42-140-102T475 968t-67-156-24-172q0-88 23-170t64-153 100-129T701 88t153-65 170-23q88 0 170 23t153 64 129 100 100 130 65 153 23 170q0 87-23 170t-67 157-106 134-139 102zM512 640q0 106 40 199t110 162 163 110 199 41q106 0 199-40t162-110 110-163 41-199q0-106-40-199t-110-162-163-110-199-41q-106 0-199 40T663 278 553 441t-41 199z"}))}},583857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t245 103 207 160 160 208 103 245 37 272q0 141-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t103-245 160-207 208-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32z"}))}},840841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t245 103 207 160 160 208 103 245 37 272q0 141-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t103-245 160-207 208-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32zm0-1568q93 0 178 24t161 68 136 105 105 136 68 160 24 179q0 93-24 178t-68 161-105 136-136 105-160 68-179 24q-93 0-178-24t-161-68-136-105-105-136-68-160-24-179q0-93 24-178t68-161 105-136 136-105 160-68 179-24z"}))}},548844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-140 37-272t105-248 167-212 221-164H256V0h512v512H640V215q-117 56-211 140T267 545 164 773t-36 251q0 124 32 238t90 213 141 182 181 140 214 91 238 32q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-150-48-289t-136-253-207-197-266-124l34-123q166 45 304 140t237 226 155 289 55 331z"}))}},176901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1783 988v18q0 9 1 18v18q0 9-1 18l259 161-159 383-297-68q-24 26-50 50l68 297-383 159-161-259h-18q-9 0-18 1h-18q-9 0-18-1l-161 259-383-159 68-297q-26-24-50-50l-297 68L6 1221l259-161v-18q0-9-1-18v-18q0-9 1-18L6 827l159-383 297 68q24-26 50-50l-68-297L827 6l161 259h18q9 0 18-1h18q9 0 18 1L1221 6l383 159-68 297q26 24 50 50l297-68 159 383-259 161zm-117 130q2-24 4-47t2-48q0-23-2-47t-4-47l236-147-86-208-271 63q-31-38-63-70t-71-64l63-271-208-86-148 236q-23-2-47-4t-47-2q-24 0-47 2t-48 4L782 146l-208 86 63 271q-38 31-70 63t-64 71l-271-63-86 208 236 148q-2 24-4 47t-2 48q0 23 2 47t4 47l-236 147 86 208 271-63q31 38 63 70t71 64l-63 271 208 86 148-236q23 2 47 4t47 2q24 0 47-2t48-4l147 236 208-86-63-271q38-31 70-63t64-71l271 63 86-208-236-148zm-642-470q78 0 146 29t120 81 80 119 30 147q0 78-29 146t-81 120-119 80-147 30q-78 0-146-29t-120-81-80-119-30-147q0-78 29-146t81-120 119-80 147-30zm0 640q55 0 103-20t84-57 56-84 21-103q0-55-20-103t-57-84-84-56-103-21q-55 0-103 20t-84 57-56 84-21 103q0 55 20 103t57 84 84 56 103 21z"}))}},581895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(122970),o=n(202784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1920 1920H0L960 0l960 1920zM207 1792h1506L960 286 207 1792zm817-1024v640H896V768h128zm-128 768h128v128H896v-128z"}))}},718269:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var r=n(122970),o=n(412524),a=n.n(o),i=n(202784),s=n(8520),l=n(791841),c=(0,i.forwardRef)((function(e,t){var n,o=e.buttonType,c=void 0===o?s.L$.Brand:o,u=e.buttonSize,d=void 0===u?s.qE.Medium:u,h=e.overlayMode,m=void 0===h?s.gT.Solid:h,p=e.className,g=(0,r.__rest)(e,["buttonType","buttonSize","overlayMode","className"]);return i.createElement(s.Yd,(0,r.__assign)({ref:t,buttonType:c,buttonSize:d,overlayMode:m,className:a()(p,l.CD,(n={},n[l.kI]=d===s.qE.XSmall,n[l.qg]=d===s.qE.Small,n[l.QD]=d===s.qE.Medium,n[l.o9]=d===s.qE.Large,n))},g))}));c.displayName="HeroButtonUnmanaged";var u=(0,i.memo)(c)},94833:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var r=n(122970),o=n(412524),a=n.n(o),i=n(202784),s=n(282008),l=n(8520),c=n(791841),u=(0,i.forwardRef)((function(e,t){var n,o=e.iconClassName,u=e.iconStyle,d=e.iconSize,h=void 0===d?s.Jh.XXSmall:d,m=e.className,p=e.icon,g=e.buttonType,f=void 0===g?l.L$.Brand:g,v=e.buttonSize,_=void 0===v?l.qE.Medium:v,y=e.overlayMode,b=void 0===y?l.gT.Solid:y,C=e.children,E=(0,r.__rest)(e,["iconClassName","iconStyle","iconSize","className","icon","buttonType","buttonSize","overlayMode","children"]);return i.createElement(l.Yd,(0,r.__assign)({ref:t,buttonType:f,overlayMode:b,className:a()(m,c.Hs,(n={},n[c.kI]=_===l.qE.XSmall,n[c.qg]=_===l.qE.Small,n[c.QD]=_===l.qE.Medium,n[c.o9]=_===l.qE.Large,n[c.S5]=_===l.qE.XSmall,n[c.x2]=_===l.qE.Small,n[c.eG]=_===l.qE.Medium,n[c.Sv]=_===l.qE.Large,n))},E),i.createElement(s.JO,{iconSize:h,className:a()(c.pD,c._0,o),style:u,icon:p,"aria-hidden":!0}),C)}));u.displayName="HeroIconButtonUnmanaged";var d=(0,i.memo)(u)},514701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(122970),o=n(412524),a=n.n(o),i=n(202784),s=n(282008),l=n(498900),c=n(791841),u=n(718269),d={basic:l.k,hero:u.K},h={basic:"IconLabelButton",hero:"HeroIconLabelButton"},m=function(e){var t=d[e],n=i.forwardRef((function(e,n){var o=e.iconClassName,l=e.iconStyle,u=e.iconSize,d=void 0===u?s.Jh.XXSmall:u,h=e.className,m=e.icon,p=e.children,g=(0,r.__rest)(e,["iconClassName","iconStyle","iconSize","className","icon","children"]);return i.createElement(t,(0,r.__assign)({ref:n,className:a()(h,c.MM)},g),p,i.createElement(s.JO,{iconSize:d,className:a()(c.pD,c.oI,o),style:l,icon:m,"aria-hidden":!0}))}));return n.displayName=h[e],n},p=(0,i.memo)(m("basic"));(0,i.memo)(m("hero"))},830434:(e,t,n)=>{"use strict";n.d(t,{pp:()=>p,nh:()=>o});var r,o,a=n(122970),i=n(651517),s=n(412524),l=n.n(s),c=n(202784),u=n(282008),d="GamerPic-module__gamerPic___LVS6s";!function(e){e[e.None=0]="None",e[e.Offline=1]="Offline",e[e.Online=2]="Online",e[e.FavoriteOffline=3]="FavoriteOffline",e[e.FavoriteOnline=4]="FavoriteOnline"}(r||(r={})),function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(o||(o={}));var h=[r.FavoriteOnline,r.FavoriteOffline],m=[r.Online,r.FavoriteOnline],p=function(e){var t,n=e.marker,s=void 0===n?r.None:n,p=e.className,g=e.src,f=e.sources,v=e.type,_=void 0===v?"complex":v,y=e.size,b=e.isXbox360GamerPic,C=void 0!==b&&b,E=e.xbox360GamerPicClassName,S=e.role,T=void 0===S?"img":S,w=e.imageTagProps,I=(0,a.__rest)(e,["marker","className","src","sources","type","size","isXbox360GamerPic","xbox360GamerPicClassName","role","imageTagProps"]),k=(0,c.useState)(!1),A=k[0],P=k[1],x=m.includes(s),R=h.includes(s),N="complex"===_&&s!==r.None,O=(0,c.useMemo)((function(){var e;return"complex"===_?l()(((e={})["GamerPic-module__circleMask___j3NCd"]=!N,e["GamerPic-module__smallCircleMarkerMask___U5-8N"]=N&&!R&&y===o.Small,e["GamerPic-module__largeCircleMarkerMask___5sLAp"]=N&&!R&&y===o.Large,e["GamerPic-module__smallFavoriteMarkerMask___vfSur"]=N&&R&&y===o.Small,e["GamerPic-module__largeFavoriteMarkerMask___BF7AW"]=N&&R&&y===o.Large,e)):"GamerPic-module__defaultMask___l6n-E"}),[R,N,y,_]),L=(0,c.useMemo)((function(){var e,t;return N&&(R?c.createElement("svg",{"aria-hidden":!0,className:l()((e={},e["GamerPic-module__smallFavoriteMarker___Z634Y"]=y===o.Small,e["GamerPic-module__largeFavoriteMarker___GXLA9"]=y===o.Large,e["GamerPic-module__onlineGreenFill___StiJC"]=x,e["GamerPic-module__offlineGrayFill___UoOGM"]=!x,e)),viewBox:"0 0 32 32"},c.createElement("path",{d:"M16 27 6.11958763 32 8 20.4251627 0 12.2169197 11.0515464 10.5336226 16 0 20.9484536 10.5336226 32 12.2169197 24 20.4251627 25.8804124 32z"})):c.createElement("div",{"aria-hidden":!0,className:l()((t={},t["GamerPic-module__smallCircleMarker___MnFGP"]=y===o.Small,t["GamerPic-module__largeCircleMarker___kSFgF"]=y===o.Large,t["GamerPic-module__onlineGreenBackground___rWisN"]=x,t["GamerPic-module__offlineGrayBackground___DXdoW"]=!x,t))}))}),[x,R,N,y]);if(!g||A)return c.createElement("div",(0,a.__assign)({className:l()(d,p),role:T},I),c.createElement("div",{className:l()("GamerPic-module__noGamerPicWrapper___IYztp",O)},c.createElement(u.JO,{"aria-hidden":!0,className:"GamerPic-module__playerIcon___plBaj",iconSize:u.Jh.Custom,icon:i.Z})),L);var M=c.createElement("img",(0,a.__assign)({onLoad:function(){return P(!1)},onError:function(){return P(!0)},src:g,alt:"","aria-hidden":!0,className:l()((t={},t["GamerPic-module__imageXbox360___dp+mT"]=C,t["GamerPic-module__image___mdxba"]=!C,t[O]=!C,t))},w));return C?c.createElement("div",(0,a.__assign)({className:l()(d,p),role:T},I),c.createElement("div",{className:l()("GamerPic-module__gamerPicXbox360Wrapper___OM-24",E,O)},f?c.createElement("picture",null,c.createElement(c.Fragment,null,f),M):M),L):c.createElement("div",(0,a.__assign)({className:l()(d,p),role:T},I),f?c.createElement("picture",null,c.createElement(c.Fragment,null,f),M):M,L)}},440380:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});var r=n(122970),o=n(615946),a=n(495895),i=n(412524),s=n.n(i),l=n(202784),c=n(514701),u=n(8520),d=(0,l.memo)((function(e){var t=e.className,n=e.textClassName,r=e.onPress,o=e.index,a=e.selected,i=e.label,c=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e;a&&(null===(e=c.current)||void 0===e||e.focus())}),[a]),l.createElement("button",{className:s()(t,"Picker-module__pickerItem___VyecJ",n),ref:c,role:"option","aria-selected":a,"data-auto-focus":a,onClick:function(){return null===r||void 0===r?void 0:r(o)},onKeyPress:function(e){"Enter"===e.key&&(null===r||void 0===r||r(o))}},i)}));var h=(0,l.memo)((function(e){var t=e.className,n=e.data,i=e.selectedValue,h=e.visibleItems,m=void 0===h?4:h,p=e.onFocus,g=e.onBlur,f=e.onValueChange,v=e.onClose,_=e.openPickerClassName,y=e.itemTextClassName,b=e.selectedItemTextClassName,C=e.isOpen,E=e.setIsOpen,S=e.showFloatingLabel,T=e.buttonClassName,w=e.labelAndValueContainerClassName,I=e.floatingLabelContainerClassName,k=e.floatingValueContainerClassName,A=e.buttonHtmlAttributes,P=(0,r.__rest)(e,["className","data","selectedValue","visibleItems","onFocus","onBlur","onValueChange","onClose","openPickerClassName","itemTextClassName","selectedItemTextClassName","isOpen","setIsOpen","showFloatingLabel","buttonClassName","labelAndValueContainerClassName","floatingLabelContainerClassName","floatingValueContainerClassName","buttonHtmlAttributes"]),x=(0,l.useState)(),R=x[0],N=x[1],O=P["aria-labelledby"],L=(0,l.useRef)(null),M=(0,l.useRef)(null),U=(0,l.useMemo)((function(){return Math.min(n.length,m)}),[n,m]),D=(0,l.useMemo)((function(){var e;return null===(e=n[0])||void 0===e?void 0:e.label}),[n]),B=(0,l.useMemo)((function(){return n.findIndex((function(e,t){return null!==e&&i===n[t].value}))}),[n,i]),F=(0,l.useMemo)((function(){return n.length>0&&-1!==B?n[B].label:" "}),[n,B]),H=(0,l.useState)(0),q=H[0],G=H[1];(0,l.useEffect)((function(){if(L.current){var e=getComputedStyle(L.current).getPropertyValue("--height").trim(),t=parseInt(e.replace("px",""),10);G(t)}}),[L]);var z=(0,l.useCallback)((function(){var e,t,r,o;if(n.length){var a,i=q*U+(U>=n.length?0:2),s=null===(e=L.current)||void 0===e?void 0:e.getBoundingClientRect(),l=(null!==(t=null===s||void 0===s?void 0:s.top)&&void 0!==t?t:0)+window.pageYOffset;l+i>window.innerHeight&&(a="translateY(".concat(-(l+i-window.innerHeight),"px)")),N({size:{width:null!==(r=null===s||void 0===s?void 0:s.width)&&void 0!==r?r:0,height:i},location:{left:null===(o=L.current)||void 0===o?void 0:o.offsetLeft,transform:a}}),null===E||void 0===E||E(!0)}}),[n.length,U,E,q]),X=(0,l.useCallback)((function(){N(void 0),null===E||void 0===E||E(!1)}),[E]),$=(0,l.useCallback)((function(){var e;X(),null===(e=null===M||void 0===M?void 0:M.current)||void 0===e||e.focus(),null===v||void 0===v||v()}),[v,X]),V=function(e){$(),null===f||void 0===f||f(n[e].value)};return(0,l.useEffect)((function(){C?R||z():void 0!==C&&R&&$()}),[C,z,$,R]),(0,o.useBackHandler)((0,l.useCallback)((function(){return void 0!==R&&($(),!0)}),[$,R])),l.createElement("div",{className:s()("Picker-module__pickerContainer___ec-tx",t)},l.createElement("div",{className:"Picker-module__refContainer___XCfTg",ref:L},l.createElement(c.Z,(0,r.__assign)({"aria-expanded":void 0!==R,"aria-haspopup":!0,"aria-labelledby":O,as:"button",buttonType:u.L$.Primary,className:T,icon:a.Z,onBlur:g,onClick:z,onFocus:p,ref:M,role:"combobox"},A),S&&B>0?l.createElement("div",{className:s()("Picker-module__labelAndValueContainer___CaXKe",w)},l.createElement("span",{className:I},D),l.createElement("span",{className:s()("Picker-module__floatingValueContainer___78ffj",k)},F)):l.createElement(l.Fragment,null,F))),R&&l.createElement("div",(0,r.__assign)({role:"listbox"},P),l.createElement("div",{className:"Picker-module__dismissSurface___OB0n8",onMouseDown:function(){return X()},onTouchStart:function(){return X()},onKeyDown:function(){return X()}}),l.createElement(o.FocusContainer,{className:s()("Picker-module__openPicker___xKcqC",null!==_&&void 0!==_?_:""),style:(0,r.__assign)((0,r.__assign)({},null===R||void 0===R?void 0:R.location),null===R||void 0===R?void 0:R.size),autoFocusContainer:!0},l.createElement(o.GamepadScrollable,{className:"Picker-module__gamepadScrollable___3rdHv",scrollAlignment:"align-to-next",stopScrollPropagation:!0,scrollOffsets:2},n.map((function(e,t){var n;return l.createElement(d,{key:t,className:"Picker-module__pickerHeight___xe8cz",textClassName:s()("Picker-module__itemText___1dWtt",(n={},n["Picker-module__selected___q-8Ea"]=e.value===i,n[null!==y&&void 0!==y?y:""]=e.value!==i,n[null!==b&&void 0!==b?b:""]=e.value===i,n)),index:t,selected:e.value===i,onPress:V,label:e.label})}))))))}))},471972:(e,t,n)=>{"use strict";n.d(t,{CC:()=>r,ES:()=>a,jz:()=>i});var r,o=n(122970);!function(e){e[e.DefaultLight=0]="DefaultLight",e[e.DefaultDark=1]="DefaultDark",e[e.DefaultHcWhite=2]="DefaultHcWhite",e[e.DefaultHcBlack=3]="DefaultHcBlack",e[e.DefaultHcDesert=4]="DefaultHcDesert",e[e.DefaultHcAquatic=5]="DefaultHcAquatic"}(r||(r={}));var a=function(e){switch(e){case r.DefaultLight:return"light";case r.DefaultDark:return"dark";case r.DefaultHcWhite:return"hc-white";case r.DefaultHcBlack:return"hc-black";case r.DefaultHcDesert:return"hc-desert";case r.DefaultHcAquatic:return"hc-aquatic"}};function i(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:switch(e){case r.DefaultLight:return[3,1];case r.DefaultDark:return[3,3];case r.DefaultHcWhite:return[3,5];case r.DefaultHcBlack:return[3,7];case r.DefaultHcDesert:return[3,9];case r.DefaultHcAquatic:return[3,11]}return[3,13];case 1:return[4,n.e(99959).then(n.bind(n,599959))];case 2:case 4:case 6:case 8:case 10:case 12:return t.sent(),[2];case 3:return[4,n.e(54041).then(n.bind(n,754041))];case 5:return[4,n.e(9747).then(n.bind(n,409747))];case 7:return[4,n.e(83931).then(n.bind(n,183931))];case 9:return[4,n.e(44497).then(n.bind(n,444497))];case 11:return[4,n.e(24762).then(n.bind(n,224762))];case 13:return[2]}}))}))}},445595:(e,t,n)=>{"use strict";n.d(t,{TA:()=>I,ZP:()=>A});var r=n(202784),o=n(231461),a=n(807896),i=n(580753),s=n(836981),l=n(148570),c=n(373463),u=n.n(c);function d(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function h(e){console.warn("loadable: "+e)}var m=r.createContext();function p(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var g={initialChunks:{}},f="PENDING",v="REJECTED";var _=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?_:t,c=e.render,h=e.onLoad;function p(e,t){void 0===t&&(t={});var p=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),_={};function y(e){return t.cacheKey?t.cacheKey(e):p.resolve?p.resolve(e):"static"}function b(e,r,o){var a=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,l.isValidElementType)(a))throw new Error("resolveComponent returned something that is not a React component!");return u()(o,a,{preload:!0}),a}var C=function(e){var t=y(e),n=_[t];return n&&n.status!==v||((n=p.requireAsync(e)).status=f,_[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:p.resolve(e),chunkName:p.chunkName(e),error:t?t.message:t}),n.status=v}))),n},E=function(e){var t=function(t){return r.createElement(m.Consumer,null,(function(n){return r.createElement(e,Object.assign({__chunkExtractor:n},t))}))};return e.displayName&&(t.displayName=e.displayName+"WithChunkExtractor"),t}(function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:y(n)},d(!n.__chunkExtractor||p.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(p.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(p.chunkName(n))),(0,i.Z)(r)):(!1!==t.ssr&&(p.isReady&&p.isReady(n)||p.chunkName&&g.initialChunks[p.chunkName(n)])&&r.loadSync(),r)}(0,s.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=y(e);return(0,a.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return y(this.props)},r.getCache=function(){return _[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),_[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;h&&setTimeout((function(){h(e.state.result,e.props)}))},r.loadSync=function(){if(this.state.loading)try{var e=b(p.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:p.resolve(this.props),chunkName:p.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=b(t,e.props,S);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},r.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,o.Z)(e,["__chunkExtractor","forwardedRef"]));return C(t)},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,i=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,u=s.loading,d=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===f)throw this.loadAsync();if(l)throw l;var h=r||t.fallback||null;return u?h:c({fallback:h,result:d,options:t,props:(0,a.Z)({},i,{ref:n})})},n}(r.Component)),S=r.forwardRef((function(e,t){return r.createElement(E,Object.assign({forwardedRef:t},e))}));return S.displayName="Loadable",S.preload=function(e){S.load(e)},S.load=function(e){return C(e)},S}return{loadable:p,lazy:function(e,t){return p(e,(0,a.Z)({},t,{suspense:!0}))}}}var b=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),C=b.loadable,E=b.lazy,S=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),T=S.loadable,w=S.lazy;function I(e,t){void 0===e&&(e=function(){});var n=void 0===t?{}:t,r=n.namespace,o=void 0===r?"":r,a=n.chunkLoadingGlobal,i=void 0===a?"__LOADABLE_LOADED_CHUNKS__":a;var s=null,l=p(o),c=document.getElementById(l);if(c){s=JSON.parse(c.textContent);var u=document.getElementById(l+"_ext");if(!u)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(u.textContent).namedChunks.forEach((function(e){g.initialChunks[e]=!0}))}if(!s)return h("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var d=!1;return new Promise((function(e){window[i]=window[i]||[];var t=window[i],n=t.push.bind(t);function r(){s.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(d||(d=!0,e()))}t.push=function(){n.apply(void 0,arguments),r()},r()})).then(e)}var k=C;k.lib=T,E.lib=w;const A=k},609207:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,L:()=>o});var r=n(202784);const o={locales:[],merge:Object.assign,messages:{},pathSep:"."},a=(0,r.createContext)(o)},400031:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(202784),o=n(609207);const a={EBADMSG:"Message with unexpected object value",ENOMSG:"Message not found"};class i extends Error{constructor(e,t,n){super(`${a[t]}: ${n(e)}`),this.code=t,this.path=e}}function s(e,t,n,r){const o=e=>e.join(t||",");function s(e,t){return console.warn(a[t],e),o(e)}if(void 0===n){if("function"===typeof r)return(e,t)=>r(`${a[t]}: ${o(e)}`);n=r}switch(n){case"silent":return o;case"error":return function(e,t){throw new i(e,t,o)};case"warn":return s;default:if("function"===typeof n){const e=n;return(t,n)=>e(new i(t,n,o))}return e.onError||s}}function l({locales:e},t){const n=e.filter((e=>e!==t));return[t].concat(n)}function c({merge:e,messages:t},n,r){const o=Object.assign({},t),a=o[n];return o[n]=a&&"object"===typeof a?e({},a,r):r,o}function u(e){const{children:t,context:n,debug:a,locale:i="",merge:u,messages:d,onError:h,pathSep:m}=e;let p=(0,r.useContext)(o.E);n?p=n:null===n&&(p=o.L);const g=(0,r.useMemo)((()=>{const e=function(e,t){return null===t||"string"===typeof t?t:e.pathSep}(p,m);return{locales:l(p,i),merge:u||p.merge,messages:c(p,i,d),onError:s(p,e,h,a),pathSep:e}}),[p,i,u,d,m]);return(0,r.createElement)(o.E.Provider,{value:g},t)}},321158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buyNowUIUrlPath=t.purchaseUIUrlPath=void 0;var r=n(6036);t.purchaseUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_PURCHASEUI_URL:"int"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)?r.INT_PURCHASEUI_URL:"perf"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)?r.PERF_PURCHASEUI_URL:r.BASE_PURCHASEUI_URL};t.buyNowUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_BUYNOWUI_URL:"int"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)?r.INT_BUYNOWUI_URL:"perf"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)?r.PERF_BUYNOWUI_URL:r.BASE_BUYNOWUI_URL}},916663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefetchUrlByRoute=t.getPrefetchUrl=t.addingQueryParams=t.createInputForArray=t.createInput=void 0;var r=n(6036);t.createInput=function(e,t,n){var r=document.createElement("input");return r.name=e,r.type="hidden",r.value=t?JSON.stringify(t):null!==n&&void 0!==n?n:"",r};t.createInputForArray=function(e,n,r){if(e&&r&&(null===r||void 0===r?void 0:r.length)>0){var o=0;r.forEach((function(r){e.appendChild((0,t.createInput)(n+"["+o+"]",void 0,r)),o++}))}};t.addingQueryParams=function(e,t){return t&&t.length>0?(null===e||void 0===e?void 0:e.indexOf("?"))>-1?e+"&"+t:e+"?"+t:e};t.getPrefetchUrl=function(e,n){var r=new URLSearchParams;return n?(n.market&&r.append("market",n.market),n.locale&&r.append("locale",n.locale),n.clientType&&r.append("clientType",n.clientType),n.cssOverride&&r.append("cssOverride",n.cssOverride),n.optionalAssets&&r.append("optional",n.optionalAssets),(0,t.addingQueryParams)(e,r.toString())):e};t.getPrefetchUrlByRoute=function(e){return e.indexOf("cart")>-1||e.indexOf("checkout")>-1?r.prefetchURLTemplate.replace("{0}",r.purchaseUIAppName).replace("{1}",e):r.prefetchURLTemplate.replace("{0}",r.buyNowUIAppName).replace("{1}",e)}},787061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeToInvokeMarkFromArgsOrNewMetric=t.getTimeToInvokeMark=t.clearPerfMarks=void 0;var n=function(e){var t=function(e){return performance&&performance.getEntriesByName?performance.getEntriesByName(e):[]}(e);return t.length>0?t[0].startTime:-1};t.clearPerfMarks=function(){performance&&performance.clearMarks&&performance.clearMarks()};t.getTimeToInvokeMark=function(e){return function(e){performance&&performance.mark&&performance.mark(e)}(e),n(e)};t.getTimeToInvokeMarkFromArgsOrNewMetric=function(e,n){return n&&n>0?n:(0,t.getTimeToInvokeMark)(e)}},859902:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeWindowListener=t.prefetchBuyNow=t.invokeBuyNowInFrame=void 0;var i=n(916663),s=n(787061),l=n(947401),c=n(6036),u=n(124113);t.invokeBuyNowInFrame=function(e,t){var n;return o(this,void 0,void 0,(function(){var o;return a(this,(function(a){switch(a.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(o=document.createElement("form")).target=e.name,o.action=(0,u.constructBuyNowUrl)(t),o.method="post",(0,u.createInputForBuyNowUI)(o,r(r(r(r({market:t.market,cV:encodeURIComponent(t.cV),locale:t.locale,authToken:t.authToken,xToken:t.xToken,pageFormat:null!==(n=t.pageFormat)&&void 0!==n?n:"full",products:t.products},t.campaignOptions),{urlRef:document.referrer?document.referrer:window.location.href}),t.onBehalfOfOptions),{catalogClientType:t.catalogClientType,clientType:t.clientType,clientVersion:t.clientVersion,osVersion:t.osVersion,purchaseAppVersion:t.purchaseAppVersion,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,uuid:t.uuid,isAddAsyncPIFailed:t.isAddAsyncPIFailed,selectEnv:t.selectEnv,scenario:t.scenario||"",attachRecordId:t.attachRecordId,fulfillmentData:t.fulfillmentData,deviceContext:t.deviceContext,deviceSerialNumber:t.deviceSerialNumber,suppressGiftThankYouPage:t.suppressGiftThankYouPage,isTelemetryEnabled:t.isTelemetryEnabled,clientDebugInfo:t.clientDebugInfo,disableBuyNowFocusTrap:t.disableBuyNowFocusTrap,gifteeType:t.gifteeType,gifteeValue:t.gifteeValue,gamertagImageUrl:t.gamertagImageUrl,modernGamertag:t.modernGamertag,showProductImage:t.showProductImage,optionalAssets:t.optionalAssets,timeToInvokeIframe:(0,s.getTimeToInvokeMarkFromArgsOrNewMetric)("buyNowInvoke",t.timeToInvokeIframe),sdkVersion:l.LIB_VERSION,cartId:t.cartId})),t.frameAllow&&e.setAttribute("allow",t.frameAllow),e.appendChild(o),o.submit(),[4,(0,u.attachingMessageHandler)(o,t)];case 1:return a.sent(),[2,!0]}}))}))};t.prefetchBuyNow=function(e,t){e.src=(0,i.getPrefetchUrl)(c.BUYNOW_PREFETCH_URL,t)};t.makeWindowListener=function(e){return function(t){var n,r,o,a;if(t.origin===c.TARGET_ORIGIN){var i=t.data;switch(i.message){case"done":e.done(i);break;case"openUrl":e.openUrl?e.openUrl(i):window.location.href=i.url;break;case"stageChanged":null===(n=e.stageChanged)||void 0===n||n.call(e,i);break;case"status":null===(r=e.status)||void 0===r||r.call(e,i);break;case"sizeChanged":null===(o=e.sizeChanged)||void 0===o||o.call(e,i);break;case"pageMessage":null===(a=e.pageMessage)||void 0===a||a.call(e,i)}}}}},124113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInputForBuyNowUI=t.attachingMessageHandler=t.constructBuyNowUrl=void 0;var r=n(321158),o=n(916663),a=n(6036);t.constructBuyNowUrl=function(e){var t;return""+a.TARGET_ORIGIN+(0,r.buyNowUIUrlPath)(e,null===e||void 0===e?void 0:e.flights,null===(t=null===e||void 0===e?void 0:e.campaignOptions)||void 0===t?void 0:t.flights)+"/buynow?ms-cv="+encodeURIComponent(e.cV)+"&noCanonical=true&market="+e.market+"&locale="+e.locale+"&clientName="+e.clientType};t.attachingMessageHandler=function(e,t){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===a.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};var i={usePurchaseSdk:!0};t.createInputForBuyNowUI=function(e,t){var n=Object.keys(t);e.appendChild((0,o.createInput)("data",void 0,JSON.stringify(i))),n.forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("xToken"===n)e.appendChild((0,o.createInput)("xToken",void 0,t.xToken));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("products"===n)e.appendChild((0,o.createInput)("products",t.products));else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))}},473410:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchCart=t.makeWindowListener=t.invokeCartInFrame=void 0;var a=n(916663),i=n(787061),s=n(6036),l=n(864701),c=n(947401);t.invokeCartInFrame=function(e,t){var n,a;return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(r=document.createElement("form")).target=e.name,r.action=(0,l.constructCartURl)(t),r.method="post",(0,l.createInputForPurchaseUI)(r,{market:t.market,cV:encodeURIComponent(t.cV),data:(0,l.externalData)(t),locale:t.locale,clientType:t.clientType,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,hostRedirectReturnUrlTemplate:t.hostRedirectReturnUrlTemplate,muid:t.muid,keepShoppingUrl:t.keepShoppingUrl,aveSuccessRedirectUrl:t.aveSuccessRedirectUrl,aveFailureRedirectUrl:t.aveFailureRedirectUrl,postBusyStateToParent:t.postBusyStateToParent,postCartCountToParent:t.postCartCountToParent,productImageBackgroundColorARGB:t.productImageBackgroundColorARGB,pageFormat:t.pageFormat||"full",authToken:t.authToken,xToken:t.xToken,isHosted:null===(n=t.isHosted)||void 0===n||n,canvasType:null!==(a=t.canvasType)&&void 0!==a?a:"web",alternativeMuid:t.alternativeMuid,bearerToken:t.bearerToken,flights:t.flights,corpAccessToken:t.corpAccessToken,billingAccountId:t.billingAccountId,pidlBearerToken:t.pidlBearerToken,clientHandleUrl:!0,GPC_DataSharingOptIn:t.GPC_DataSharingOptIn,queryStringParams:t.queryStringParams,experiments:t.experiments,timeToInvokeIframe:(0,i.getTimeToInvokeMarkFromArgsOrNewMetric)("cartInvoke",t.timeToInvokeIframe),sdkVersion:c.LIB_VERSION}),e.appendChild(r),r.submit(),[4,(0,l.attachingMessageHandler)(r)];case 1:return o.sent(),[2,!0]}}))}))};t.makeWindowListener=function(e){return function(t){var n,r,o,a,i,l,c,u;if(t.origin===s.TARGET_ORIGIN){var d=t.data;switch(null===d||void 0===d?void 0:d.message){case"cartStatus":null===(n=e.cartStatus)||void 0===n||n.call(e,d);break;case"done":e.done(d);break;case"stageChanged":null===(r=e.stageChanged)||void 0===r||r.call(e,d);break;case"status":null===(o=e.status)||void 0===o||o.call(e,d);break;case"sizeChanged":null===(a=e.sizeChanged)||void 0===a||a.call(e,d);break;case"resize":null===(i=e.resize)||void 0===i||i.call(e,d);break;case"ready":null===(l=e.ready)||void 0===l||l.call(e,d);break;case"checkout":null===(c=e.checkout)||void 0===c||c.call(e,d);break;case"openUrl":null===(u=e.openUrl)||void 0===u||u.call(e,d)}}}};t.prefetchCart=function(e){e.src=(0,a.getPrefetchUrlByRoute)(s.appRoutes.cart)}},864701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.externalData=t.createInputForPurchaseUI=t.attachingMessageHandler=t.constructCartURl=void 0;var r=n(321158),o=n(916663),a=n(6036);t.constructCartURl=function(e){var t=""+a.TARGET_ORIGIN+(0,r.purchaseUIUrlPath)(e,e.flights)+a.appRoutes.cart;if(!e.clientType)throw new Error("purchase-sdk: clientType is missing !!!");return t=t+"?client="+e.clientType,(0,o.addingQueryParams)(t,e.queryStringParams)};t.attachingMessageHandler=function(e){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===a.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};t.createInputForPurchaseUI=function(e,t){Object.keys(t).forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("data"===n)e.appendChild((0,o.createInput)("data",t.data));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("experiments"===n)(0,o.createInputForArray)(e,"experiments",t.experiments);else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}else if(n&&n===a.GPC_DataSharingOptInKey){r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))};t.externalData=function(e){var t,n,r,o,a,i;return{usePurchaseSdk:!0,postCartCountToParent:null===e||void 0===e?void 0:e.postCartCountToParent,postBusyStateToParent:null===e||void 0===e?void 0:e.postBusyStateToParent,keepShoppingUrl:null===e||void 0===e?void 0:e.keepShoppingUrl,aveSuccessRedirectUrl:null===e||void 0===e?void 0:e.aveSuccessRedirectUrl,aveFailureRedirectUrl:null===e||void 0===e?void 0:e.aveFailureRedirectUrl,hostRedirectReturnUrlTemplate:null===e||void 0===e?void 0:e.hostRedirectReturnUrlTemplate,clientType:null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.clientType,addPiSuccessUrl:null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n.addPiSuccessUrl,addPiFailureUrl:null===(r=null===e||void 0===e?void 0:e.data)||void 0===r?void 0:r.addPiFailureUrl,layout:null===(o=null===e||void 0===e?void 0:e.data)||void 0===o?void 0:o.layout,cssOverride:null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.cssOverride,data:null===(i=null===e||void 0===e?void 0:e.data)||void 0===i?void 0:i.data}}},493226:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchCheckout=t.makeWindowListener=t.invokeDeviceRepairInFrame=t.invokeCheckoutInFrame=void 0;var a=n(916663),i=n(787061),s=n(6036),l=n(359935),c=n(947401);t.invokeCheckoutInFrame=function(e,t){var n,a;return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(r=document.createElement("form")).target=e.name,r.action=(0,l.constructCheckoutURl)(t),r.method="post",(0,l.createInputForCheckout)(r,{market:t.market,cV:encodeURIComponent(t.cV),data:(0,l.externalData)(t),locale:t.locale,clientType:t.clientType,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,hostRedirectReturnUrlTemplate:t.hostRedirectReturnUrlTemplate,muid:t.muid,keepShoppingUrl:t.keepShoppingUrl,postBusyStateToParent:t.postBusyStateToParent,productImageBackgroundColorARGB:t.productImageBackgroundColorARGB,pageFormat:t.pageFormat||"full",authToken:t.authToken,xToken:t.xToken,isHosted:null===(n=t.isHosted)||void 0===n||n,canvasType:null!==(a=t.canvasType)&&void 0!==a?a:"web",alternativeMuid:t.alternativeMuid,bearerToken:t.bearerToken,flights:t.flights,corpAccessToken:t.corpAccessToken,billingAccountId:t.billingAccountId,pidlBearerToken:t.pidlBearerToken,clientHandleUrl:!0,GPC_DataSharingOptIn:t.GPC_DataSharingOptIn,queryStringParams:t.queryStringParams,experiments:t.experiments,timeToInvokeIframe:(0,i.getTimeToInvokeMarkFromArgsOrNewMetric)("checkoutInvoke",t.timeToInvokeIframe),sdkVersion:c.LIB_VERSION}),e.appendChild(r),r.submit(),[4,(0,l.attachingMessageHandler)(r)];case 1:return o.sent(),[2,!0]}}))}))},t.invokeDeviceRepairInFrame=function(e,t){var n,a;return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(r=document.createElement("form")).target=e.name,r.action=(0,l.constructDeviceRepairURl)(t),r.method="post",(0,l.createInputForDeviceRepair)(r,{market:t.market,cV:encodeURIComponent(t.cV),data:(0,l.externalData)(t),locale:t.locale,cartId:t.cartId,clientType:t.clientType,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,hostRedirectReturnUrlTemplate:t.hostRedirectReturnUrlTemplate,muid:t.muid,postBusyStateToParent:t.postBusyStateToParent,pageFormat:t.pageFormat||"full",authToken:t.authToken,isHosted:null===(n=t.isHosted)||void 0===n||n,canvasType:null!==(a=t.canvasType)&&void 0!==a?a:"web",GPC_DataSharingOptIn:t.GPC_DataSharingOptIn,queryStringParams:t.queryStringParams,experiments:t.experiments,flights:t.flights,sdkVersion:c.LIB_VERSION}),e.appendChild(r),r.submit(),[4,(0,l.attachingMessageHandler)(r)];case 1:return o.sent(),[2,!0]}}))}))};t.makeWindowListener=function(e){return function(t){var n,r,o,a,i,l,c;if(t.origin===s.TARGET_ORIGIN){var u=t.data;switch(null===u||void 0===u?void 0:u.message){case"checkoutStatus":null===(n=e.checkoutStatus)||void 0===n||n.call(e,u);break;case"done":e.done(u);break;case"stageChanged":null===(r=e.stageChanged)||void 0===r||r.call(e,u);break;case"status":null===(o=e.status)||void 0===o||o.call(e,u);break;case"sizeChanged":null===(a=e.sizeChanged)||void 0===a||a.call(e,u);break;case"resize":null===(i=e.resize)||void 0===i||i.call(e,u);break;case"ready":null===(l=e.ready)||void 0===l||l.call(e,u);break;case"openUrl":null===(c=e.openUrl)||void 0===c||c.call(e,u)}}}};t.prefetchCheckout=function(e){e.src=(0,a.getPrefetchUrlByRoute)(s.appRoutes.checkout)}},359935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.externalData=t.constructDeviceRepairURl=t.constructCheckoutURl=t.createInputForDeviceRepair=t.createInputForCheckout=t.attachingMessageHandler=void 0;var r=n(321158),o=n(916663),a=n(6036);t.attachingMessageHandler=function(e){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===a.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};t.createInputForCheckout=function(e,t){Object.keys(t).forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("data"===n)e.appendChild((0,o.createInput)("data",t.data));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("experiments"===n)(0,o.createInputForArray)(e,"experiments",t.experiments);else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}else if(n&&n===a.GPC_DataSharingOptInKey){r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))};t.createInputForDeviceRepair=function(e,t){Object.keys(t).forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("data"===n)e.appendChild((0,o.createInput)("data",t.data));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("experiments"===n)(0,o.createInputForArray)(e,"experiments",t.experiments);else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}else if(n&&n===a.GPC_DataSharingOptInKey){r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))};t.constructCheckoutURl=function(e){var t=""+a.TARGET_ORIGIN+(0,r.purchaseUIUrlPath)(e,e.flights)+a.appRoutes.checkout;if(!e.authToken&&!e.xToken)throw new Error("purchase-sdk: Authentication token is missing !!!");if(!e.clientType)throw new Error("purchase-sdk: clientType is missing !!!");return t=t+"?client="+e.clientType,(0,o.addingQueryParams)(t,e.queryStringParams)};t.constructDeviceRepairURl=function(e){var t=""+a.TARGET_ORIGIN+(0,r.purchaseUIUrlPath)(e,e.flights)+a.appRoutes.deviceRepair;if(!e.authToken)throw new Error("purchase-sdk: authToken is missing !!!");if(!e.cartId)throw new Error("purchase-sdk: order id is missing !!!");if(!e.clientType)throw new Error("purchase-sdk: clientType is missing !!!");return t=t+"?client="+e.clientType};t.externalData=function(e){var t,n,r,o,a,i;return{usePurchaseSdk:!0,postBusyStateToParent:null===e||void 0===e?void 0:e.postBusyStateToParent,keepShoppingUrl:null===e||void 0===e?void 0:e.keepShoppingUrl,aveSuccessRedirectUrl:null===e||void 0===e?void 0:e.aveSuccessRedirectUrl,aveFailureRedirectUrl:null===e||void 0===e?void 0:e.aveFailureRedirectUrl,hostRedirectReturnUrlTemplate:null===e||void 0===e?void 0:e.hostRedirectReturnUrlTemplate,clientType:null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.clientType,addPiSuccessUrl:null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n.addPiSuccessUrl,addPiFailureUrl:null===(r=null===e||void 0===e?void 0:e.data)||void 0===r?void 0:r.addPiFailureUrl,layout:null===(o=null===e||void 0===e?void 0:e.data)||void 0===o?void 0:o.layout,cssOverride:null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.cssOverride,data:null===(i=null===e||void 0===e?void 0:e.data)||void 0===i?void 0:i.data,postCartCountToParent:null===e||void 0===e?void 0:e.postCartCountToParent}}},6036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appRoutes=t.perfFlightName=t.intFlightName=t.ppeFlightName=t.buyNowUIAppName=t.purchaseUIAppName=t.prefetchURLTemplate=t.GPC_DataSharingOptInKey=t.windowTargetCurrent=t.REDEEMNOW_PREFETCH_URL=t.BUYNOW_PREFETCH_URL=t.PERF_BUYNOWUI_URL=t.INT_BUYNOWUI_URL=t.PPE_BUYNOWUI_URL=t.PERF_PURCHASEUI_URL=t.INT_PURCHASEUI_URL=t.PPE_PURCHASEUI_URL=t.BASE_BUYNOWUI_URL=t.BASE_PURCHASEUI_URL=t.TARGET_ORIGIN=void 0,t.TARGET_ORIGIN="https://www.microsoft.com",t.BASE_PURCHASEUI_URL="/store/purchase/purchaseui/",t.BASE_BUYNOWUI_URL="/store/purchase/buynowui",t.PPE_PURCHASEUI_URL="/store/purchase/purchaseui-ppe/",t.INT_PURCHASEUI_URL="/store/purchase/purchaseui-int/",t.PERF_PURCHASEUI_URL="/store/purchase/purchaseui-perf/",t.PPE_BUYNOWUI_URL="/store/purchase/buynowui-ppe",t.INT_BUYNOWUI_URL="/store/purchase/buynowui-int",t.PERF_BUYNOWUI_URL="/store/purchase/buynowui-perf",t.BUYNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/buynow",t.REDEEMNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/redeemnow",t.windowTargetCurrent="current",t.GPC_DataSharingOptInKey="GPC_DataSharingOptIn",t.prefetchURLTemplate="https://www.microsoft.com/store/purchase/{0}/prefetch/{1}",t.purchaseUIAppName="purchaseui",t.buyNowUIAppName="buynowui",t.ppeFlightName="sc_cartppe",t.intFlightName="sc_cartint",t.perfFlightName="sc_cartperf",t.appRoutes={cart:"cart",checkout:"checkout",buyNow:"buynow",redeem:"redeem",deviceRepair:"device-repair",guestOrderLookup:"guest-order-lookup",aadSignIn:"aad-signin",commercialCheckout:"commercial-checkout"}},920536:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeWindowListener=t.prefetchRedeem=t.invokeRedeemNowInFrame=void 0;var i=n(916663),s=n(787061),l=n(947401),c=n(6036),u=n(423043);t.invokeRedeemNowInFrame=function(e,t){var n;return o(this,void 0,void 0,(function(){var o;return a(this,(function(a){switch(a.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(o=document.createElement("form")).target=e.name,o.action=(0,u.constructRedeemUrl)(t),o.method="post",(0,u.createInputForRedeemUI)(o,r(r({market:t.market,cV:encodeURIComponent(t.cV),locale:t.locale,authToken:t.authToken,xToken:t.xToken,pageFormat:null!==(n=t.pageFormat)&&void 0!==n?n:"full"},t.campaignOptions),{urlRef:document.referrer?document.referrer:window.location.href,isRedeem:!0,clientType:t.clientType,deviceFamily:t.deviceFamily,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,clientVersion:t.clientVersion,catalogClientType:t.catalogClientType,osVersion:t.osVersion,purchaseAppVersion:t.purchaseAppVersion,selectEnv:t.selectEnv,isTelemetryEnabled:t.isTelemetryEnabled,disableBuyNowFocusTrap:t.disableBuyNowFocusTrap,uuid:t.uuid,tokenString:t.tokenString,scenario:t.scenario,offerId:t.offerId,productMetadataList:t.productMetadataList,productId:t.productId,skuId:t.skuId,suppressRedeemThankYouPage:t.suppressRedeemThankYouPage,optionalAssets:t.optionalAssets,timeToInvokeIframe:(0,s.getTimeToInvokeMarkFromArgsOrNewMetric)("redeemInvoke",t.timeToInvokeIframe),sdkVersion:l.LIB_VERSION})),e.appendChild(o),o.submit(),[4,(0,u.attachingMessageHandler)(o,t)];case 1:return a.sent(),[2,!0]}}))}))};t.prefetchRedeem=function(e,t){e.src=(0,i.getPrefetchUrl)(c.REDEEMNOW_PREFETCH_URL,t)};t.makeWindowListener=function(e){return function(t){var n,r,o;if(t.origin===c.TARGET_ORIGIN){var a=t.data;switch(a.message){case"done":e.done(a);break;case"openUrl":e.openUrl?e.openUrl(a):window.location.href=a.url;break;case"stageChanged":null===(n=e.stageChanged)||void 0===n||n.call(e,a);break;case"status":null===(r=e.status)||void 0===r||r.call(e,a);break;case"sizeChanged":null===(o=e.sizeChanged)||void 0===o||o.call(e,a)}}}}},423043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInputForRedeemUI=t.attachingMessageHandler=t.constructRedeemUrl=void 0;var r=n(321158),o=n(916663),a=n(6036);t.constructRedeemUrl=function(e){var t;return""+a.TARGET_ORIGIN+(0,r.buyNowUIUrlPath)(e,null===e||void 0===e?void 0:e.flights,null===(t=null===e||void 0===e?void 0:e.campaignOptions)||void 0===t?void 0:t.flights)+"/redeemnow?ms-cv="+encodeURIComponent(e.cV)+"&market="+e.market+"&locale="+e.locale+"&clientName="+e.clientType};t.attachingMessageHandler=function(e,t){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===a.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};var i={usePurchaseSdk:!0};t.createInputForRedeemUI=function(e,t){var n=Object.keys(t);e.appendChild((0,o.createInput)("data",void 0,JSON.stringify(i))),n.forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("xToken"===n)e.appendChild((0,o.createInput)("xToken",void 0,t.xToken));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("productMetadataList"==n)e.appendChild((0,o.createInput)("productMetadataList",t.productMetadataList));else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))}},947401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="VERSION_PLACEHOLDER"},936660:(e,t,n)=>{"use strict";n.d(t,{$:()=>ae,A:()=>M,B:()=>v,C:()=>D,D:()=>b,E:()=>c,F:()=>F,G:()=>V,H:()=>N,I:()=>Y,J:()=>H,K:()=>Z,L:()=>se,M:()=>ue,N:()=>oe,O:()=>he,P:()=>L,Q:()=>x,R:()=>U,S:()=>G,T:()=>O,U:()=>ve,V:()=>ne,W:()=>K,X:()=>Q,Y:()=>J,Z:()=>ee,_:()=>te,a:()=>B,a0:()=>ie,a1:()=>le,a2:()=>ce,a3:()=>de,a4:()=>me,a5:()=>pe,a6:()=>ge,a7:()=>fe,b:()=>q,d:()=>z,e:()=>R,f:()=>X,g:()=>$,h:()=>W,i:()=>_,j:()=>w,k:()=>s,l:()=>T,m:()=>y,n:()=>P,o:()=>m,p:()=>u,q:()=>f,r:()=>h,s:()=>S,t:()=>l,u:()=>d,v:()=>I,y:()=>E,z:()=>C});var r=n(723143),o=n(807896),a=n(583594),i=n(225295),s=function(e){return function(){return e}}(!0),l=function(){};var c=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var u=function(e,t){(0,o.Z)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},d=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function h(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function m(e){var t=!1;return function(){t||(t=!0,e())}}var p=function(e){throw e},g=function(e){return{value:e,done:!0}};function f(e,t,n){void 0===t&&(t=p),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:g,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function v(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var _=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},y=function(e){return Array.apply(null,new Array(e))},b=function(e){return function(t){return e(Object.defineProperty(t,r.Nm,{value:!0}))}},C=function(e){return e===r.EO},E=function(e){return e===r.Wd},S=function(e){return C(e)||E(e)};function T(e,t){var n=Object.keys(e),r=n.length;var o,i=0,s=(0,a.IX)(e)?y(r):{},c={};return n.forEach((function(e){var n=function(n,a){o||(a||S(n)?(t.cancel(),t(n,a)):(s[e]=n,++i===r&&(o=!0,t(s))))};n.cancel=l,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function w(e){return{name:e.name||"anonymous",location:I(e)}}function I(e){return e[r.b_]}var k={isEmpty:s,put:l,take:l};function A(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,a=0,i=function(t){n[o]=t,o=(o+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},l=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)i(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=s,a=o=(o+1)%e;break;case 4:c=2*e,n=l(),r=n.length,o=n.length,a=0,n.length=c,e=c,i(s)}},take:s,flush:l}}var P=function(){return k},x=function(e){return A(e,3)},R=function(e){return A(e,4)},N=Object.freeze({__proto__:null,none:P,fixed:function(e){return A(e,1)},dropping:function(e){return A(e,2)},sliding:x,expanding:R}),O="TAKE",L="PUT",M="ALL",U="RACE",D="CALL",B="CPS",F="FORK",H="JOIN",q="CANCEL",G="SELECT",z="ACTION_CHANNEL",X="CANCELLED",$="FLUSH",V="GET_CONTEXT",W="SET_CONTEXT",K=Object.freeze({__proto__:null,TAKE:O,PUT:L,ALL:M,RACE:U,CALL:D,CPS:B,FORK:F,JOIN:H,CANCEL:q,SELECT:G,ACTION_CHANNEL:z,CANCELLED:X,FLUSH:$,GET_CONTEXT:V,SET_CONTEXT:W}),j=function(e,t){var n;return(n={})[r.IO]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Y=function(e){return j(F,(0,o.Z)({},e.payload,{detached:!0}))};function Z(e,t){return void 0===e&&(e="*"),(0,a.uj)(e)?j(O,{pattern:e}):(0,a.Om)(e)&&(0,a.d5)(t)&&(0,a.uj)(t)?j(O,{channel:e,pattern:t}):(0,a.CE)(e)?j(O,{channel:e}):void 0}var Q=function(){var e=Z.apply(void 0,arguments);return e.payload.maybe=!0,e};function J(e,t){return(0,a.sR)(t)&&(t=e,e=void 0),j(L,{channel:e,action:t})}var ee=function(){var e=J.apply(void 0,arguments);return e.payload.resolve=!0,e};function te(e){var t=j(M,e);return t.combinator=!0,t}function ne(e){var t=j(U,e);return t.combinator=!0,t}function re(e,t){var n,r=null;return(0,a.Yl)(e)?n=e:((0,a.IX)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&(0,a.Z_)(n)&&(0,a.Yl)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(D,re(e,n))}function ae(e,t,n){void 0===n&&(n=[]);return j(D,re([e,t],n))}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(B,re(e,n))}function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(F,re(e,n))}function le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(se.apply(void 0,[e].concat(n)))}function ce(e){return j(H,e)}function ue(e){return void 0===e&&(e=r.sC),j(q,e)}function de(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(G,{selector:e,args:n})}function he(e,t){return j(z,{pattern:e,buffer:t})}function me(){return j(X,{})}function pe(e){return j($,e)}function ge(e){return j(V,e)}function fe(e){return j(W,e)}var ve=oe.bind(null,i.Z)},961260:(e,t,n)=>{"use strict";n.d(t,{CE:()=>I,Ef:()=>s.H,GG:()=>k,Y0:()=>P,ZP:()=>W,b_:()=>r.b_,he:()=>w,j7:()=>V,n1:()=>r.n1,og:()=>s.I,uR:()=>T,xN:()=>A});var r=n(723143),o=n(807896),a=n(231461),i=n(583594),s=n(936660),l=n(118717),c=n(261884),u=[],d=0;function h(e){try{g(),e()}finally{f()}}function m(e){u.push(e),d||(g(),v())}function p(e){try{return g(),e()}finally{v()}}function g(){d++}function f(){d--}function v(){var e;for(f();!d&&void 0!==(e=u.shift());)h(e)}var _=function(e){return function(t){return e.some((function(e){return S(e)(t)}))}},y=function(e){return function(t){return e(t)}},b=function(e){return function(t){return t.type===String(e)}},C=function(e){return function(t){return t.type===e}},E=function(){return s.k};function S(e){var t="*"===e?E:(0,i.Z_)(e)?b:(0,i.IX)(e)?_:(0,i.eR)(e)?b:(0,i.Yl)(e)?y:(0,i.NA)(e)?C:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var T={type:r.sZ},w=function(e){return e&&e.type===r.sZ};function I(e){void 0===e&&(e=(0,s.e)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(T):e.isEmpty()?(n.push(r),r.cancel=function(){(0,s.r)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(T):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,o=e.length;r<o;r++){(0,e[r])(T)}}}}}function k(e,t){void 0===t&&(t=(0,s.n)());var n,r=!1,o=I(t),a=function(){r||(r=!0,(0,i.Yl)(n)&&n(),o.close())};return n=e((function(e){w(e)?a():o.put(e)})),n=(0,s.o)(n),r&&n(),{take:o.take,flush:o.flush,close:a}}function A(){var e,t=!1,n=[],o=n;var a=function(){o===n&&(o=n.slice())},i=function(){t=!0;var e=n=o;o=[],e.forEach((function(e){e(T)}))};return(e={})[r.AS]=!0,e.put=function(e){if(!t)if(w(e))i();else for(var a=n=o,s=0,l=a.length;s<l;s++){var c=a[s];c[r.uq](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=E),t?e(T):(e[r.uq]=n,a(),o.push(e),e.cancel=(0,s.o)((function(){a(),(0,s.r)(o,e)})))},e.close=i,e}function P(){var e=A(),t=e.put;return e.put=function(e){e[r.Nm]?t(e):m((function(){t(e)}))},e}function x(e,t){var n=e[r.n1];(0,i.Yl)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var R,N=0,O=function(){return++N};function L(e){e.isRunning()&&e.cancel()}var M=((R={})[s.T]=function(e,t,n){var o=t.channel,a=void 0===o?e.channel:o,s=t.pattern,l=t.maybe,c=function(e){e instanceof Error?n(e,!0):!w(e)||l?n(e):n(r.EO)};try{a.take(c,(0,i.d5)(s)?S(s):null)}catch(u){return void n(u,!0)}n.cancel=c.cancel},R[s.P]=function(e,t,n){var r=t.channel,o=t.action,a=t.resolve;m((function(){var t;try{t=(r?r.put:e.dispatch)(o)}catch(s){return void n(s,!0)}a&&(0,i.MC)(t)?x(t,n):n(t)}))},R[s.A]=function(e,t,n,r){var o=r.digestEffect,a=N,l=Object.keys(t);if(0!==l.length){var c=(0,s.l)(t,n);l.forEach((function(e){o(t[e],a,c[e],e)}))}else n((0,i.IX)(t)?[]:{})},R[s.R]=function(e,t,n,r){var o=r.digestEffect,a=N,l=Object.keys(t),c=(0,i.IX)(t)?(0,s.m)(l.length):{},u={},d=!1;l.forEach((function(e){var t=function(t,r){d||(r||(0,s.s)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=s.t,u[e]=t})),n.cancel=function(){d||(d=!0,l.forEach((function(e){return u[e].cancel()})))},l.forEach((function(e){d||o(t[e],a,u[e],e)}))},R[s.C]=function(e,t,n,r){var o=t.context,a=t.fn,l=t.args,c=r.task;try{var u=a.apply(o,l);if((0,i.MC)(u))return void x(u,n);if((0,i.hZ)(u))return void $(e,u,c.context,N,(0,s.j)(a),!1,n);n(u)}catch(d){n(d,!0)}},R[s.a]=function(e,t,n){var r=t.context,o=t.fn,a=t.args;try{var s=function(e,t){(0,i.sR)(e)?n(t):n(e,!0)};o.apply(r,a.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(l){n(l,!0)}},R[s.F]=function(e,t,n,r){var o=t.context,a=t.fn,l=t.args,c=t.detached,u=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var o=n.apply(t,r);if((0,i.hZ)(o))return o;var a=!1;return(0,s.q)((function(e){return a?{value:e,done:!0}:(a=!0,{value:o,done:!(0,i.MC)(o)})}))}catch(l){return(0,s.q)((function(){throw l}))}}({context:o,fn:a,args:l}),h=function(e,t){return e.isSagaIterator?{name:e.meta.name}:(0,s.j)(t)}(d,a);p((function(){var t=$(e,d,u.context,N,h,c,void 0);c?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)}))},R[s.J]=function(e,t,n,r){var o=r.task,a=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&(0,s.r)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if((0,i.IX)(t)){if(0===t.length)return void n([]);var l=(0,s.l)(t,n);t.forEach((function(e,t){a(e,l[t])}))}else a(t,n)},R[s.b]=function(e,t,n,o){var a=o.task;t===r.sC?L(a):(0,i.IX)(t)?t.forEach(L):L(t),n()},R[s.S]=function(e,t,n){var r=t.selector,o=t.args;try{n(r.apply(void 0,[e.getState()].concat(o)))}catch(a){n(a,!0)}},R[s.d]=function(e,t,n){var r=t.pattern,o=I(t.buffer),a=S(r),i=function t(n){w(n)||e.channel.take(t,a),o.put(n)},s=o.close;o.close=function(){i.cancel(),s()},e.channel.take(i,a),n(o)},R[s.f]=function(e,t,n,r){n(r.task.isCancelled())},R[s.g]=function(e,t,n){t.flush(n)},R[s.G]=function(e,t,n,r){n(r.task.context[t])},R[s.h]=function(e,t,n,r){var o=r.task;(0,s.p)(o.context,t),n()},R);function U(e,t){return e+"?"+t}function D(e){var t=e.name,n=e.location;return n?t+"  "+U(n.fileName,n.lineNumber):t}function B(e){var t=(0,s.u)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var F=null,H=[],q=function(e){e.crashedEffect=F,H.push(e)},G=function(){F=null,H.length=0},z=function(){var e=H[0],t=H.slice(1),n=e.crashedEffect?function(e){var t=(0,s.v)(e);return t?t.code+"  "+U(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+D(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+D(e.meta)})),[B(H)]).join("\n")};function X(e,t,n,o,a,i,l){var u;void 0===l&&(l=s.t);var d,h,m=0,p=null,g=[],f=Object.create(n),v=function(e,t,n){var r,o=[],a=!1;function i(e){t(),c(),n(e,!0)}function l(t){o.push(t),t.cont=function(l,c){a||((0,s.r)(o,t),t.cont=s.t,c?i(l):(t===e&&(r=l),o.length||(a=!0,n(r))))}}function c(){a||(a=!0,o.forEach((function(e){e.cont=s.t,e.cancel()})),o=[])}return l(e),{addTask:l,cancelAll:c,abort:i,getTasks:function(){return o}}}(t,(function(){g.push.apply(g,v.getTasks().map((function(e){return e.meta.name})))}),_);function _(t,n){if(n){if(m=2,q({meta:a,cancelledTasks:g}),y.isRoot){var o=z();G(),e.onError(t,{sagaStack:o})}h=t,p&&p.reject(t)}else t===r.Wd?m=1:1!==m&&(m=3),d=t,p&&p.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[r.Cs]=!0,u.id=o,u.meta=a,u.isRoot=i,u.context=f,u.joiners=[],u.queue=v,u.cancel=function(){0===m&&(m=1,v.cancelAll(),_(r.Wd,!1))},u.cont=l,u.end=_,u.setContext=function(e){(0,s.p)(f,e)},u.toPromise=function(){return p||(p=(0,c.Z)(),2===m?p.reject(h):0!==m&&p.resolve(d)),p.promise},u.isRunning=function(){return 0===m},u.isCancelled=function(){return 1===m||0===m&&1===t.status},u.isAborted=function(){return 2===m},u.result=function(){return d},u.error=function(){return h},u);return y}function $(e,t,n,o,a,l,c){var u=e.finalizeRunEffect((function(t,n,o){if((0,i.MC)(t))x(t,o);else if((0,i.hZ)(t))$(e,t,h.context,n,a,!1,o);else if(t&&t[r.IO]){(0,M[t.type])(e,t.payload,o,m)}else o(t)}));p.cancel=s.t;var d={meta:a,cancel:function(){0===d.status&&(d.status=1,p(r.Wd))},status:0},h=X(e,d,n,o,a,l,c),m={task:h,digestEffect:g};return c&&(c.cancel=h.cancel),p(),h;function p(e,n){try{var a;n?(a=t.throw(e),G()):(0,s.y)(e)?(d.status=1,p.cancel(),a=(0,i.Yl)(t.return)?t.return(r.Wd):{done:!0,value:r.Wd}):a=(0,s.z)(e)?(0,i.Yl)(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==d.status&&(d.status=3),d.cont(a.value)):g(a.value,o,p)}catch(l){if(1===d.status)throw l;d.status=2,d.cont(l,!0)}}function g(t,n,r,o){void 0===o&&(o="");var a,i=O();function l(n,o){a||(a=!0,r.cancel=s.t,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),o&&function(e){F=e}(t),r(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:o,effect:t}),l.cancel=s.t,r.cancel=function(){a||(a=!0,l.cancel(),l.cancel=s.t,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},u(t,i,l)}}function V(e,t){var n=e.channel,r=void 0===n?P():n,o=e.dispatch,a=e.getState,i=e.context,c=void 0===i?{}:i,u=e.sagaMonitor,d=e.effectMiddlewares,h=e.onError,m=void 0===h?s.B:h;for(var g=arguments.length,f=new Array(g>2?g-2:0),v=2;v<g;v++)f[v-2]=arguments[v];var _=t.apply(void 0,f);var y,b=O();if(u&&(u.rootSagaStarted=u.rootSagaStarted||s.t,u.effectTriggered=u.effectTriggered||s.t,u.effectResolved=u.effectResolved||s.t,u.effectRejected=u.effectRejected||s.t,u.effectCancelled=u.effectCancelled||s.t,u.actionDispatched=u.actionDispatched||s.t,u.rootSagaStarted({effectId:b,saga:t,args:f})),d){var C=l.compose.apply(void 0,d);y=function(e){return function(t,n,r){return C((function(t){return e(t,n,r)}))(t)}}}else y=s.E;var E={channel:r,dispatch:(0,s.D)(o),getState:a,sagaMonitor:u,onError:m,finalizeRunEffect:y};return p((function(){var e=$(E,_,c,b,(0,s.j)(t),!0,void 0);return u&&u.effectResolved(b,e),e}))}const W=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,l=n.channel,c=void 0===l?P():l,u=n.sagaMonitor,d=(0,a.Z)(n,["context","channel","sagaMonitor"]);function h(e){var n=e.getState,r=e.dispatch;return t=V.bind(null,(0,o.Z)({},d,{context:i,channel:c,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return c.put(t),n}}}return h.run=function(){return t.apply(void 0,arguments)},h.setContext=function(e){(0,s.p)(i,e)},h}},905703:(e,t,n)=>{"use strict";n.d(t,{$6:()=>o._,A7:()=>v,By:()=>o.a4,CN:()=>o.X,Cs:()=>o.a1,Ds:()=>b,FW:()=>o.W,Fm:()=>f,P2:()=>_,PV:()=>o.a0,RE:()=>o.N,S3:()=>o.V,XD:()=>y,Ys:()=>o.a3,ZO:()=>o.O,al:()=>o.M,fw:()=>o.a6,gw:()=>o.U,gz:()=>o.Y,ib:()=>g,nn:()=>o.$,qn:()=>o.K,rM:()=>o.L,v:()=>o.a7,v_:()=>o.a2,xN:()=>o.Z,yl:()=>o.a5});var r=n(583594),o=n(936660),a=function(e){return{done:!0,value:e}},i={};function s(e){return(0,r.CE)(e)?"channel":(0,r.eR)(e)?String(e):(0,r.Yl)(e)?e.name:String(e)}function l(e,t,n){var r,s,l,c=t;function u(t,n){if(c===i)return a(t);if(n&&!s)throw c=i,n;r&&r(t);var o=n?e[s](n):e[c]();return c=o.nextState,l=o.effect,r=o.stateUpdater,s=o.errorState,c===i?a(t):l}return(0,o.q)(u,(function(e){return u(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,c={done:!1,value:(0,o.K)(e)},u=function(e){return{done:!1,value:o.L.apply(void 0,[t].concat(r,[e]))}},d=function(e){return i=e};return l({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:u(i)}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,c,u={done:!1,value:(0,o.K)(e)},d=function(e){return{done:!1,value:o.L.apply(void 0,[t].concat(r,[e]))}},h=function(e){return{done:!1,value:(0,o.M)(e)}},m=function(e){return i=e},p=function(e){return c=e};return l({q1:function(){return{nextState:"q2",effect:u,stateUpdater:p}},q2:function(){return i?{nextState:"q3",effect:h(i)}:{nextState:"q1",effect:d(c),stateUpdater:m}},q3:function(){return{nextState:"q1",effect:d(c),stateUpdater:m}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,c={done:!1,value:(0,o.K)(e)},u=function(e){return{done:!1,value:o.N.apply(void 0,[t].concat(r,[e]))}},d=function(e){return i=e};return l({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:u(i)}}},"q1","takeLeading("+s(e)+", "+t.name+")")}function h(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var c,u,d={done:!1,value:(0,o.O)(t,(0,o.Q)(1))},h=function(){return{done:!1,value:(0,o.K)(u)}},m=function(e){return{done:!1,value:o.L.apply(void 0,[n].concat(a,[e]))}},p={done:!1,value:(0,o.U)(e)},g=function(e){return c=e},f=function(e){return u=e};return l({q1:function(){return{nextState:"q2",effect:d,stateUpdater:f}},q2:function(){return{nextState:"q3",effect:h(),stateUpdater:g}},q3:function(){return{nextState:"q4",effect:m(c)}},q4:function(){return{nextState:"q2",effect:p}}},"q1","throttle("+s(t)+", "+n.name+")")}function m(e,t,n){for(var r=e,a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];var u={done:!1,value:o.N.apply(void 0,[n].concat(s))},d={done:!1,value:(0,o.U)(t)};return l({q1:function(){return{nextState:"q2",effect:u,errorState:"q10"}},q2:function(){return{nextState:i}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")}function p(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var c,u,d={done:!1,value:(0,o.K)(t)},h={done:!1,value:(0,o.V)({action:(0,o.K)(t),debounce:(0,o.U)(e)})},m=function(e){return{done:!1,value:o.L.apply(void 0,[n].concat(a,[e]))}},p=function(e){return{done:!1,value:e}},g=function(e){return c=e},f=function(e){return u=e};return l({q1:function(){return{nextState:"q2",effect:d,stateUpdater:g}},q2:function(){return{nextState:"q3",effect:h,stateUpdater:f}},q3:function(){return u.debounce?{nextState:"q1",effect:m(c)}:{nextState:"q2",effect:p(u.action),stateUpdater:g}}},"q1","debounce("+s(t)+", "+n.name+")")}function g(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[c,e,t].concat(r))}function f(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[u,e,t].concat(r))}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[d,e,t].concat(r))}function _(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.L.apply(void 0,[h,e,t,n].concat(a))}function y(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.N.apply(void 0,[m,e,t,n].concat(a))}function b(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.L.apply(void 0,[p,e,t,n].concat(a))}},583594:(e,t,n)=>{"use strict";n.d(t,{CE:()=>h,IX:()=>l,MC:()=>c,NA:()=>p,Om:()=>g,Yl:()=>i,Z_:()=>s,d5:()=>a,eR:()=>m,hZ:()=>u,sR:()=>o,uj:()=>d});var r=n(723143),o=function(e){return null===e||void 0===e},a=function(e){return null!==e&&void 0!==e},i=function(e){return"function"===typeof e},s=function(e){return"string"===typeof e},l=Array.isArray,c=function(e){return e&&i(e.then)},u=function(e){return e&&i(e.next)&&i(e.throw)},d=function e(t){return t&&(s(t)||p(t)||i(t)||l(t)&&t.every(e))},h=function(e){return e&&i(e.take)&&i(e.close)},m=function(e){return i(e)&&e.hasOwnProperty("toString")},p=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},g=function(e){return h(e)&&e[r.AS]}},723143:(e,t,n)=>{"use strict";n.d(t,{AS:()=>l,Cs:()=>d,EO:()=>m,IO:()=>i,Nm:()=>c,Wd:()=>h,b_:()=>p,n1:()=>o,sC:()=>u,sZ:()=>a,uq:()=>s});var r=function(e){return"@@redux-saga/"+e},o=r("CANCEL_PROMISE"),a=r("CHANNEL_END"),i=r("IO"),s=r("MATCH"),l=r("MULTICAST"),c=r("SAGA_ACTION"),u=r("SELF_CANCELLATION"),d=r("TASK"),h=r("TASK_CANCEL"),m=r("TERMINATE"),p=r("LOCATION")},989632:(e,t,n)=>{"use strict";n.d(t,{E8:()=>gt});var r=n(358536),o=n(7790),a=n(273232),i=n(43002),s=n(363699),l=n(221995);let c;function u(e){return c?c.get(e):void 0}function d(e){const t=u(e);if(!t)return;const n={};for(const[,[r,o]]of t)n[r]||(n[r]=[]),n[r].push((0,l.Jr)(o));return n}const h="sentry.source",m="sentry.sample_rate",p="sentry.op",g="sentry.origin";var f,v=n(185112);function _(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}!function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(f||(f={}));function y(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=_(t);"unknown_error"!==n&&e.setStatus(n)}class b{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class C{constructor(e={}){this._traceId=e.traceId||(0,s.DM)(),this._spanId=e.spanId||(0,s.DM)().substring(16),this._startTime=e.startTimestamp||(0,o.ph)(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[g]:e.origin||"manual",[p]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes["sentry.op"]}set op(e){this.setAttribute(p,e)}get origin(){return this._attributes["sentry.origin"]}set origin(e){this.setAttribute(g,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?i.i0:i.ve}}startChild(e){const t=new C({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=(0,v.G)(this);if(t.transaction=n,a.X&&n){const o=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${(0,i.XU)(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;r.kg.log(o),this._logMessage=o}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return y(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=(0,v.G)(this);if(a.X&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&r.kg.log(e.replace("Starting","Finishing"))}this._endTime=(0,i.$k)(e)}toTraceparent(){return(0,i.Hb)(this)}toContext(){return(0,l.Jr)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return(0,i.wy)(this)}getSpanJSON(){return(0,l.Jr)({data:this._getData(),description:this._name,op:this._attributes["sentry.op"],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes["sentry.origin"],_metrics_summary:d(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}var E=n(166465),S=n(792980),T=n(592642);function w(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=(0,T.s3)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function I(e){if(!w())return;const t=P(e),n=(0,E.Gd)(),r=e.scope?e.scope.getSpan():k();if(e.onlyIfParent&&!r)return;const o=(e.scope||(0,T.nZ)()).clone();return A(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function k(){return(0,T.nZ)().getSpan()}function A(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!w())return;const a=(0,E.aF)();let s;if(t&&!r)s=t.startChild(n);else if(t){const r=(0,S.j)(t),{traceId:o,spanId:a}=t.spanContext(),l=(0,i.Tt)(t);s=e.startTransaction({traceId:o,parentSpanId:a,parentSampled:l,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:i,sampled:l}={...a.getPropagationContext(),...o.getPropagationContext()};s=e.startTransaction({traceId:t,parentSpanId:i,parentSampled:l,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return o.setSpan(s),function(e,t,n){e&&((0,l.xp)(e,R,n),(0,l.xp)(e,x,t))}(s,o,a),s}function P(e){if(e.startTime){const t={...e};return t.startTimestamp=(0,i.$k)(e.startTime),delete t.startTime,t}return e}const x="_sentryScope",R="_sentryIsolationScope";class N extends C{constructor(e,t){super(e),this._contexts={},this._hub=t||(0,E.Gd)(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes["sentry.source"]&&{source:this._attributes["sentry.source"]},...this._attributes["sentry.sample_rate"]&&{sampleRate:this._attributes["sentry.sample_rate"]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(h,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new b(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=(0,i.$k)(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){const e=super.toContext();return(0,l.Jr)({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return(0,S.j)(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(a.X&&r.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return a.X&&r.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&(0,i.XU)(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>(0,i.XU)(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:o,isolationScope:s}={scope:(c=this)._sentryScope,isolationScope:c._sentryIsolationScope};var c;const{metadata:u}=this,{source:h}=u,m={contexts:{...this._contexts,trace:(0,i.wy)(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...u,capturedSpanScope:o,capturedSpanIsolationScope:s,...(0,l.Jr)({dynamicSamplingContext:(0,S.j)(this)})},_metrics_summary:d(this),...h&&{transaction_info:{source:h}}};return Object.keys(this._measurements).length>0&&(a.X&&r.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),m.measurements=this._measurements),a.X&&r.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),m}}const O={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},L=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class M extends b{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===(0,i.XU)(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class U extends N{constructor(e,t,n=O.idleTimeout,o=O.finalTimeout,i=O.heartbeatInterval,s=!1,l=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=L[4],this._autoFinishAllowed=!l,s&&(a.X&&r.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),l||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=L[3],this.end())}),this._finalTimeout)}end(e){const t=(0,i.$k)(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){a.X&&r.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;(0,i.XU)(e).timestamp||(e.setStatus("cancelled"),e.end(t),a.X&&r.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:o}=(0,i.XU)(e),s=n&&n<t,l=(this._finalTimeout+this._idleTimeout)/1e3,c=o&&n&&o-n<l;if(a.X){const t=JSON.stringify(e,void 0,2);s?c||r.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):r.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return s&&c})),a.X&&r.kg.log("[Tracing] flushing IdleTransaction")}else a.X&&r.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new M(t,n,this.spanContext().spanId,e),a.X&&r.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=L[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(a.X&&r.kg.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=L[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),a.X&&r.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,a.X&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(a.X&&r.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],a.X&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,o.ph)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=L[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(a.X&&r.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=L[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){a.X&&r.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}var D=n(921240),B=n(182146);function F(e){return(e||(0,E.Gd)()).getScope().getTransaction()}let H=!1;function q(){const e=F();if(e){const t="internal_error";a.X&&r.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}q.tag="sentry_tracingErrorCallback";var G=n(681757);function z(e,t,n){if(!w(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(m,Number(e.sampled)),e;let o;return"function"===typeof t.tracesSampler?(o=t.tracesSampler(n),e.setAttribute(m,Number(o))):void 0!==n.parentSampled?o=n.parentSampled:"undefined"!==typeof t.tracesSampleRate?(o=t.tracesSampleRate,e.setAttribute(m,Number(o))):(o=1,e.setAttribute(m,o)),X(o)?o?(e.sampled=Math.random()<o,e.sampled?(a.X&&r.kg.log(`[Tracing] starting ${e.op} transaction - ${(0,i.XU)(e).description}`),e):(a.X&&r.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),e)):(a.X&&r.kg.log("[Tracing] Discarding transaction because "+("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(a.X&&r.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function X(e){return(0,G.i2)(e)||"number"!==typeof e&&"boolean"!==typeof e?(a.X&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(a.X&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function $(){const e=this.getScope().getSpan();return e?{"sentry-trace":(0,i.Hb)(e)}:{}}function V(e,t){const n=this.getClient(),o=n&&n.getOptions()||{},i=o.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&(a.X&&r.kg.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.\nThe transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let l=new N(e,this);return l=z(l,o,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),l.isRecording()&&l.initSpanRecorder(o._experiments&&o._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",l),l}function W(e,t,n,r,o,a,i,s=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new U(t,e,n,r,i,o,s);return u=z(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...a}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function K(){const e=(0,E.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=V),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=$),H||(H=!0,(0,D.V)(q),(0,B.h)(q)))}var j=n(649691),Y=n(302311),Z=n(154194);const Q="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const J=n(790063).GLOBAL_OBJ;var ee=n(269038);const te=(e,t,n)=>{let r,o;return a=>{t.value>=0&&(a||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},ne=()=>J.__WEB_VITALS_POLYFILL__?J.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=J.performance.timing,t=J.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):J.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],re=()=>{const e=ne();return e&&e.activationStart||0},oe=(e,t)=>{const n=ne();let r="navigate";return n&&(r=J.document&&J.document.prerendering||re()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},ae=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},ie=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==J.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};J.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let se=-1;const le=()=>(se<0&&(J.document&&J.document.visibilityState&&(se="hidden"!==J.document.visibilityState||J.document.prerendering?1/0:0),ie((({timeStamp:e})=>{se=e}),!0)),{get firstHiddenTime(){return se}});let ce=0,ue=1/0,de=0;const he=e=>{e.forEach((e=>{e.interactionId&&(ue=Math.min(ue,e.interactionId),de=Math.max(de,e.interactionId),ce=de?(de-ue)/7+1:0)}))};let me;const pe=()=>{"interactionCount"in performance||me||(me=ae("event",he,{type:"event",buffered:!0,durationThreshold:0}))},ge=()=>me?ce:performance.interactionCount||0,fe=[],ve={},_e=e=>{const t=fe[fe.length-1],n=ve[e.interactionId];if(n||fe.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};ve[t.id]=t,fe.push(t)}fe.sort(((e,t)=>t.latency-e.latency)),fe.splice(10).forEach((e=>{delete ve[e.id]}))}},ye=(e,t)=>{t=t||{},pe();const n=oe("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&_e(e),"first-input"===e.entryType){!fe.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&_e(e)}}));const t=(()=>{const e=Math.min(fe.length-1,Math.floor(ge()/50));return fe[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},a=ae("event",o,{durationThreshold:t.durationThreshold||40});r=te(e,n,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),ie((()=>{o(a.takeRecords()),n.value<0&&ge()>0&&(n.value=0,n.entries=[]),r(!0)})))},be={},Ce=e=>{J.document&&(J.document.prerendering?addEventListener("prerenderingchange",(()=>Ce(e)),!0):"complete"!==J.document.readyState?addEventListener("load",(()=>Ce(e)),!0):setTimeout(e,0))},Ee={},Se={};let Te,we,Ie,ke,Ae;function Pe(e,t){return De(e,t),Se[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);ae(e,(t=>{xe(e,{entries:t})}),t)}(e),Se[e]=!0),Be(e,t)}function xe(e,t){const n=Ee[e];if(n&&n.length)for(const a of n)try{a(t)}catch(o){Q&&r.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,ee.$P)(a)}\nError:`,o)}}function Re(){return((e,t={})=>{const n=oe("CLS",0);let r,o=0,a=[];const i=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=a[0],i=a[a.length-1];o&&0!==a.length&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,a.push(e)):(o=e.value,a=[e]),o>n.value&&(n.value=o,n.entries=a,r&&r())}}))},s=ae("layout-shift",i);if(s){r=te(e,n,t.reportAllChanges);const o=()=>{i(s.takeRecords()),r(!0)};return ie(o),o}})((e=>{xe("cls",{metric:e}),Te=e}),{reportAllChanges:!0})}function Ne(){return(e=>{const t=le(),n=oe("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},a=e=>{e.forEach(o)},i=ae("first-input",a);r=te(e,n),i&&ie((()=>{a(i.takeRecords()),i.disconnect()}),!0)})((e=>{xe("fid",{metric:e}),we=e}))}function Oe(){return(e=>{const t=le(),n=oe("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-re(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},a=ae("largest-contentful-paint",o);if(a){r=te(e,n);const t=()=>{be[n.id]||(o(a.takeRecords()),a.disconnect(),be[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{J.document&&addEventListener(e,t,{once:!0,capture:!0})})),ie(t,!0),t}})((e=>{xe("lcp",{metric:e}),Ie=e}))}function Le(){return((e,t)=>{t=t||{};const n=oe("TTFB"),r=te(e,n,t.reportAllChanges);Ce((()=>{const e=ne();if(e){if(n.value=Math.max(e.responseStart-re(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{xe("ttfb",{metric:e}),ke=e}))}function Me(){return ye((e=>{xe("inp",{metric:e}),Ae=e}))}function Ue(e,t,n,r,o=!1){let a;return De(e,t),Se[e]||(a=n(),Se[e]=!0),r&&t({metric:r}),Be(e,t,o?a:void 0)}function De(e,t){Ee[e]=Ee[e]||[],Ee[e].push(t)}function Be(e,t,n){return()=>{n&&n();const r=Ee[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}var Fe=n(773135),He=n(846894);function qe(e){return[{type:"span"},e]}var Ge=n(633483);function ze(e){return"number"===typeof e&&isFinite(e)}function Xe(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function $e(e){return e/1e3}function Ve(){return J&&J.addEventListener&&J.performance}let We,Ke,je=0,Ye={};function Ze(){const e=Ve();if(e&&o.Z1){e.mark&&J.performance.mark("sentry-tracing-init");const t=function(){return e=({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=$e(o.Z1),a=$e(t.startTime);Q&&r.kg.log("[Measurements] Adding FID"),Ye.fid={value:e.value,unit:"millisecond"},Ye["mark.fid"]={value:n+a,unit:"second"}},Ue("fid",e,Ne,we);var e}(),n=function(e,t=!1){return Ue("cls",e,Re,Te,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Q&&r.kg.log("[Measurements] Adding CLS"),Ye.cls={value:e.value,unit:""},Ke=t)}),!0),a=function(e,t=!1){return Ue("lcp",e,Oe,Ie,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Q&&r.kg.log("[Measurements] Adding LCP"),Ye.lcp={value:e.value,unit:"millisecond"},We=t)}),!0),i=function(){return e=({metric:e})=>{e.entries[e.entries.length-1]&&(Q&&r.kg.log("[Measurements] Adding TTFB"),Ye.ttfb={value:e.value,unit:"millisecond"})},Ue("ttfb",e,Le,ke);var e}();return()=>{t(),n(),a(),i()}}return()=>{}}function Qe(e,t){if(Ve()&&o.Z1){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const a=n.entries.find((e=>e.duration===n.value&&void 0!==Je[e.name])),i=(0,T.s3)();if(!a||!i)return;const s=Je[a.name],l=i.getOptions(),c=$e(o.Z1+a.startTime),u=$e(n.value),d=void 0!==a.interactionId?e[a.interactionId]:void 0;if(void 0===d)return;const{routeName:h,parentContext:m,activeTransaction:p,user:g,replayId:f}=d,v=void 0!==g?g.email||g.id||g.ip_address:void 0,_=void 0!==p?p.getProfileId():void 0,y=new C({startTimestamp:c,endTimestamp:c+u,op:`ui.interaction.${s}`,name:(0,Z.Rt)(a.target),attributes:{release:l.release,environment:l.environment,transaction:h,...void 0!==v&&""!==v?{user:v}:{},...void 0!==_?{profile_id:_}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),b=function(e,t,n){if(!w(t))return!1;let o;return o=void 0!==e&&"function"===typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:J.location}):void 0!==e&&void 0!==e.sampled?e.sampled:"undefined"!==typeof t.tracesSampleRate?t.tracesSampleRate:1,X(o)?!0===o?n:!1===o?0:o*n:(Q&&r.kg.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(m,l,t);if(b&&Math.random()<b){const e=y?function(t,n){const r={sent_at:(new Date).toISOString()};n&&(r.dsn=(0,Fe.RA)(n));const o=t.map(qe);return(0,e.Jd)(r,o)}([y],i.getDsn()):void 0,t=i&&i.getTransport();t&&e&&t.send(e).then(null,(e=>{Q&&r.kg.error("Error while sending interaction:",e)}))}},Ue("inp",n,Me,Ae);var n}(e,t);return()=>{n()}}return()=>{}}const Je={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function et(e){const t=Ve();if(!t||!J.performance.getEntries||!o.Z1)return;Q&&r.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=$e(o.Z1),a=t.getEntries(),{op:s,start_timestamp:l}=(0,i.XU)(e);if(a.slice(je).forEach((t=>{const o=$e(t.startTime),a=$e(t.duration);if(!("navigation"===e.op&&l&&n+o<l))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{tt(e,t,r,n)})),tt(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),tt(e,t,"fetch",n,"cache","domainLookupStart"),tt(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(Xe(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+$e(t.requestStart),endTimestamp:n+$e(t.responseEnd)}),Xe(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+$e(t.responseStart),endTimestamp:n+$e(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const a=o+n,i=a+r;Xe(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:a})}(e,t,o,a,n);const i=le(),s=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&s&&(Q&&r.kg.log("[Measurements] Adding FP"),Ye.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(Q&&r.kg.log("[Measurements] Adding FCP"),Ye.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,a){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i=(0,Ge.en)(n),s={};nt(s,t,"transferSize","http.response_transfer_size"),nt(s,t,"encodedBodySize","http.response_content_length"),nt(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);i.protocol&&(s["url.scheme"]=i.protocol.split(":").pop());i.host&&(s["server.address"]=i.host);s["url.same_origin"]=n.includes(J.location.origin);const l=a+r,c=l+o;Xe(e,{description:n.replace(J.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:s})}(e,t,t.name,o,a,n)}})),je=Math.max(a.length-1,0),function(e){const t=J.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ze(n.rtt)&&(Ye["connection.rtt"]={value:n.rtt,unit:"millisecond"}));ze(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);ze(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=ne();if(!t)return;const{responseStart:n,requestStart:o}=t;o<=n&&(Q&&r.kg.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-o,unit:"millisecond"})}(Ye),["fcp","fp","lcp"].forEach((e=>{if(!Ye[e]||!l||n>=l)return;const t=Ye[e].value,o=n+$e(t),a=Math.abs(1e3*(o-l)),i=a-t;Q&&r.kg.log(`[Measurements] Normalized ${e} from ${t} to ${a} (${i})`),Ye[e].value=a}));const t=Ye["mark.fid"];t&&Ye.fid&&(Xe(e,{description:"first input delay",endTimestamp:t.value+$e(Ye.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete Ye["mark.fid"]),"fcp"in Ye||delete Ye.cls,Object.keys(Ye).forEach((e=>{!function(e,t,n){const r=F();r&&r.setMeasurement(e,t,n)}(e,Ye[e].value,Ye[e].unit)})),function(e){We&&(Q&&r.kg.log("[Measurements] Adding LCP Data"),We.element&&e.setTag("lcp.element",(0,Z.Rt)(We.element)),We.id&&e.setTag("lcp.id",We.id),We.url&&e.setTag("lcp.url",We.url.trim().slice(0,200)),e.setTag("lcp.size",We.size));Ke&&Ke.sources&&(Q&&r.kg.log("[Measurements] Adding CLS Data"),Ke.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,(0,Z.Rt)(t.node)))))}(e)}We=void 0,Ke=void 0,Ye={}}function tt(e,t,n,r,o,a){const i=a?t[a]:t[`${n}End`],s=t[`${n}Start`];s&&i&&Xe(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+$e(s),endTimestamp:r+$e(i)})}function nt(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}var rt=n(912633),ot=n(428315),at=n(439660),it=n(946990);function st(e,t,n,r,o="auto.http.browser"){if(!w()||!e.fetchData)return;const a=t(e.fetchData.url);if(e.endTimestamp&&a){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){y(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const s=(0,T.nZ)(),l=(0,T.s3)(),{method:c,url:u}=e.fetchData,d=function(e){try{return new URL(e).href}catch(t){return}}(u),h=d?(0,Ge.en)(d).host:void 0,m=a?I({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":d,"server.address":h,[g]:o},op:"http.client"}):void 0;if(m&&(e.fetchData.__span=m.spanContext().spanId,r[m.spanContext().spanId]=m),n(e.fetchData.url)&&l){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const a=o||n.getSpan(),s=(0,E.aF)(),{traceId:l,spanId:c,sampled:u,dsc:d}={...s.getPropagationContext(),...n.getPropagationContext()},h=a?(0,i.Hb)(a):(0,j.$p)(l,c,u),m=(0,it.IQ)(d||(a?(0,S.j)(a):(0,S._)(l,t,n))),p=r.headers||("undefined"!==typeof Request&&(0,G.V9)(e,Request)?e.headers:void 0);if(p){if("undefined"!==typeof Headers&&(0,G.V9)(p,Headers)){const e=new Headers(p);return e.append("sentry-trace",h),m&&e.append(it.bU,m),e}if(Array.isArray(p)){const e=[...p,["sentry-trace",h]];return m&&e.push([it.bU,m]),e}{const e="baggage"in p?p.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),m&&t.push(m),{...p,"sentry-trace":h,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":h,baggage:m}}(t,l,s,n,m)}return m}const lt=["localhost",/^\/(?!\/)/],ct={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:lt,tracePropagationTargets:lt};function ut(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:a,enableHTTPTimings:s}={traceFetch:ct.traceFetch,traceXHR:ct.traceXHR,...e},l="function"===typeof a?a:e=>!0,c=e=>function(e,t){return(0,at.U0)(e,t||lt)}(e,r||o),u={};t&&(0,rt.U)((e=>{const t=st(e,l,c,u);if(t){const n=mt(e.fetchData.url),r=n?(0,Ge.en)(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}s&&t&&dt(t)})),n&&(0,ot.UK)((e=>{const t=function(e,t,n,r){const o=e.xhr,a=o&&o[ot.xU];if(!w()||!o||o.__sentry_own_request__||!a)return;const s=t(a.url);if(e.endTimestamp&&s){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==a.status_code&&(y(t,a.status_code),t.end(),delete r[e]))}const l=(0,T.nZ)(),c=(0,E.aF)(),u=mt(a.url),d=u?(0,Ge.en)(u).host:void 0,h=s?I({name:`${a.method} ${a.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":a.method,"http.url":u,url:a.url,"server.address":d,[g]:"auto.http.browser"},op:"http.client"}):void 0;h&&(o.__sentry_xhr_span_id__=h.spanContext().spanId,r[o.__sentry_xhr_span_id__]=h);const m=(0,T.s3)();if(o.setRequestHeader&&n(a.url)&&m){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...l.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(it.bU,n)}catch(r){}}(o,h?(0,i.Hb)(h):(0,j.$p)(e,t,n),(0,it.IQ)(r||(h?(0,S.j)(h):(0,S._)(e,m,l))))}return h}(e,l,c,u);s&&t&&dt(t)}))}function dt(e){const{url:t}=(0,i.XU)(e).data||{};if(!t||"string"!==typeof t)return;const n=Pe("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!o.Z1)return r;return[...r,["http.request.redirect_start",ht(e.redirectStart)],["http.request.fetch_start",ht(e.fetchStart)],["http.request.domain_lookup_start",ht(e.domainLookupStart)],["http.request.domain_lookup_end",ht(e.domainLookupEnd)],["http.request.connect_start",ht(e.connectStart)],["http.request.secure_connection_start",ht(e.secureConnectionStart)],["http.request.connection_end",ht(e.connectEnd)],["http.request.request_start",ht(e.requestStart)],["http.request.response_start",ht(e.responseStart)],["http.request.response_end",ht(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function ht(e=0){return((o.Z1||performance.timeOrigin)+e)/1e3}function mt(e){try{return new URL(e,J.location.origin).href}catch(t){return}}const pt={...O,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...ct},gt=(e={})=>{const t=!!Q&&!(!e.tracePropagationTargets&&!e.tracingOrigins);K(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...pt,...e},a=Ze(),s={};n.enableInp&&Qe(s,n.interactionsSampleRate),n.enableLongTask&&Pe("longtask",(({entries:e})=>{for(const t of e){const e=F();if(!e)return;const n=$e(o.Z1+t.startTime),r=$e(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),n._experiments.enableInteractions&&Pe("event",(({entries:e})=>{for(const t of e){const e=F();if(!e)return;if("click"===t.name){const n=$e(o.Z1+t.startTime),r=$e(t.duration),a={description:(0,Z.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=(0,Z.iY)(t.target);i&&(a.attributes={"ui.component_name":i}),e.startChild(a)}}}));const l={name:void 0,context:void 0};function c(e){const t=(0,E.Gd)(),{beforeStartSpan:o,idleTimeout:i,finalTimeout:s,heartbeatInterval:c}=n,u="pageload"===e.op;let d;if(u){const t=u?ft("sentry-trace"):"",n=u?ft("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:a,sampled:i}=(0,j.pT)(t,n);d={traceId:r,parentSpanId:a,parentSampled:i,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else d={trimEnd:!0,...e};const h=o?o(d):d;h.metadata=h.name!==d.name?{...h.metadata,source:"custom"}:h.metadata,l.name=h.name,l.context=h,!1===h.sampled&&Q&&r.kg.log(`[Tracing] Will not send ${h.op} transaction because of beforeNavigate.`),Q&&r.kg.log(`[Tracing] Starting ${h.op} transaction on scope`);const{location:m}=J,p=W(t,h,i,s,!0,{location:m},c,u);return u&&J.document&&(J.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(J.document.readyState)&&p.sendAutoFinishSignal()})),["interactive","complete"].includes(J.document.readyState)&&p.sendAutoFinishSignal()),p.registerBeforeFinishCallback((e=>{a(),et(e)})),p}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const a=e.getOptions(),{markBackgroundSpan:u,traceFetch:d,traceXHR:m,shouldCreateSpanForRequest:p,enableHTTPTimings:g,_experiments:f}=n,v=a&&a.tracePropagationTargets,_=v||n.tracePropagationTargets;let y;Q&&t&&v&&r.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let b=J.location&&J.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{y&&(Q&&r.kg.log(`[Tracing] Finishing current transaction with op: ${(0,i.XU)(y).op}`),y.end()),y=c({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{y&&(Q&&r.kg.log(`[Tracing] Finishing current transaction with op: ${(0,i.XU)(y).op}`),y.end()),y=c({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&J.location){const t={name:J.location.pathname,startTimestamp:o.Z1?o.Z1/1e3:void 0,origin:"auto.pageload.browser",attributes:{[h]:"url"}};!function(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=k();n&&(0,i.XU)(n).op}(e,t)}n.instrumentNavigation&&e.emit&&J.location&&(0,Y.a)((({to:t,from:n})=>{if(void 0===n&&b&&-1!==b.indexOf(t))b=void 0;else if(n!==t){b=void 0;const t={name:J.location.pathname,origin:"auto.navigation.browser",attributes:{[h]:"url"}};!function(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=k();n&&(0,i.XU)(n).op}(e,t)}})),u&&(J.document?J.document.addEventListener("visibilitychange",(()=>{const e=F();if(J.document.hidden&&e){const t="cancelled",{op:n,status:o}=(0,i.XU)(e);Q&&r.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),o||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):Q&&r.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),f.enableInteractions&&function(e,t){let n;const o=()=>{const{idleTimeout:o,finalTimeout:a,heartbeatInterval:i}=e,s="ui.action.click",l=F();if(l&&l.op&&["navigation","pageload"].includes(l.op))return void(Q&&r.kg.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(Q&&r.kg.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const{location:c}=J,u={name:t.name,op:s,trimEnd:!0,data:{[h]:t.context?vt(t.context):"url"}};n=W((0,E.Gd)(),u,o,a,!0,{location:c},i)};["click"].forEach((e=>{J.document&&addEventListener(e,o,{once:!1,capture:!0})}))}(n,l),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=(0,T.s3)(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,a=void 0!==o?o.getReplayId():void 0,i=F(),s=(0,T.nZ)(),l=void 0!==s?s.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const o=e[r],s=n.duration,c=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(u.map((t=>e[t])).some((e=>e.duration===s&&e.startTime===c)))return}if(!r)return;if(o)o.duration=Math.max(o.duration,s);else if(u.length<10||void 0===d||s>e[d].duration){const n=t.name,o=t.context;n&&o&&(d&&Object.keys(e).length>=10&&delete e[d],e[r]={routeName:n,duration:s,parentContext:o,user:l,activeTransaction:i,replayId:a,startTime:c})}}}))};Pe("event",n),Pe("first-input",n)}(s,l),ut({traceFetch:d,traceXHR:m,tracePropagationTargets:_,shouldCreateSpanForRequest:p,enableHTTPTimings:g})},options:n}};function ft(e){const t=(0,Z.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function vt(e){const t=e.attributes&&e.attributes["sentry.source"],n=e.data&&e.data["sentry.source"],r=e.metadata&&e.metadata.source;return t||n||r}},608589:(e,t,n)=>{"use strict";n.d(t,{RP:()=>u,cc:()=>c,fH:()=>l});var r=n(790063),o=n(597946),a=n(358536),i=n(681757),s=n(273232);function l(){return(0,r.Y)("globalEventProcessors",(()=>[]))}function c(e){l().push(e)}function u(e,t,n,r=0){return new o.cW(((o,l)=>{const c=e[r];if(null===t||"function"!==typeof c)o(t);else{const d=c({...t},n);s.X&&c.id&&null===d&&a.kg.log(`Event processor "${c.id}" dropped event`),(0,i.J8)(d)?d.then((t=>u(e,t,n,r+1).then(o))).then(null,l):u(e,d,n,r+1).then(o).then(null,l)}}))}},592642:(e,t,n)=>{"use strict";n.d(t,{$e:()=>p,Tb:()=>u,Yr:()=>g,av:()=>m,cg:()=>E,eN:()=>d,nZ:()=>_,n_:()=>h,s3:()=>v,xv:()=>f,yj:()=>y});var r=n(358536),o=n(790063),a=n(466417),i=n(273232),s=n(166465),l=n(248364),c=n(248738);function u(e,t){return(0,s.Gd)().captureException(e,(0,c.U0)(t))}function d(e,t){return(0,s.Gd)().captureEvent(e,t)}function h(e,t){(0,s.Gd)().addBreadcrumb(e,t)}function m(e){(0,s.Gd)().setUser(e)}function p(...e){const t=(0,s.Gd)();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function g(e,t){return(0,s.Gd)().startTransaction({...e},t)}async function f(e){const t=v();return t?t.close(e):(i.X&&r.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function v(){return(0,s.Gd)().getClient()}function _(){return(0,s.Gd)().getScope()}function y(e){const t=v(),n=(0,s.aF)(),r=_(),{release:i,environment:c=a.J}=t&&t.getOptions()||{},{userAgent:u}=o.GLOBAL_OBJ.navigator||{},d=(0,l.Hv)({release:i,environment:c,user:r.getUser()||n.getUser(),...u&&{userAgent:u},...e}),h=n.getSession();return h&&"ok"===h.status&&(0,l.CT)(h,{status:"exited"}),b(),n.setSession(d),r.setSession(d),d}function b(){const e=(0,s.aF)(),t=_(),n=t.getSession()||e.getSession();n&&(0,l.RJ)(n),C(),e.setSession(),t.setSession()}function C(){const e=(0,s.aF)(),t=_(),n=v(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function E(e=!1){e?b():C()}},166465:(e,t,n)=>{"use strict";n.d(t,{Gd:()=>_,aF:()=>y,cu:()=>f});var r=n(681757),o=n(363699),a=n(7790),i=n(358536),s=n(790063),l=n(466417),c=n(273232),u=n(651877),d=n(248364),h=n(791476);const m=parseFloat(h.J),p=100;class g{constructor(e,t,n,r=m){let o,a;this._version=r,t?o=t:(o=new u.sX,o.setClient(e)),n?a=n:(a=new u.sX,a.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(o){throw this.popScope(),o}return(0,r.J8)(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,o.DM)(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:(0,o.DM)(),a=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:a,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,o.DM)();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=p}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const l={timestamp:(0,a.yW)(),...e},c=o?(0,i.Cf)((()=>o(l,t))):l;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=v(this);try{e(this)}finally{v(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return c.X&&i.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(c.X&&!n){this.getClient()?i.kg.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):i.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,d.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=l.J}=n&&n.getOptions()||{},{userAgent:a}=s.GLOBAL_OBJ.navigator||{},i=(0,d.Hv)({release:r,environment:o,user:t.getUser(),...a&&{userAgent:a},...e}),c=t.getSession&&t.getSession();return c&&"ok"===c.status&&(0,d.CT)(c,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=f().__SENTRY__;if(n&&n.extensions&&"function"===typeof n.extensions[e])return n.extensions[e].apply(this,t);c.X&&i.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function f(){return s.GLOBAL_OBJ.__SENTRY__=s.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},s.GLOBAL_OBJ}function v(e){const t=f(),n=E(t);return S(t,e),n}function _(){const e=f();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return b(e)}function y(){return _().getIsolationScope()}function b(e=f()){return C(e)&&!E(e).isOlderThan(m)||S(e,new g),E(e)}function C(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function E(e){return(0,s.Y)("hub",(()=>new g),e)}function S(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}},348889:(e,t,n)=>{"use strict";n.d(t,{RN:()=>m,_I:()=>p,m7:()=>h,m8:()=>c,q4:()=>u,uf:()=>d});var r=n(363699),o=n(358536),a=n(273232),i=n(608589),s=n(166465);const l=[];function c(e){const t=e.defaultIntegrations||[],n=e.integrations;let o;t.forEach((e=>{e.isDefaultInstance=!0})),o=Array.isArray(n)?[...t,...n]:"function"===typeof n?(0,r.lE)(n(t)):t;const a=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(o),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(a,(e=>"Debug"===e.name));if(-1!==i){const[e]=a.splice(i,1);a.push(e)}return a}function u(e,t){const n={};return t.forEach((t=>{t&&h(e,t,n)})),n}function d(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function h(e,t,n){if(n[t.name])a.X&&o.kg.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===l.indexOf(t.name)&&(t.setupOnce(i.cc,s.Gd),l.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),e.on&&"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}a.X&&o.kg.log(`Integration installed: ${t.name}`)}}function m(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function p(e){return e}},651877:(e,t,n)=>{"use strict";n.d(t,{lW:()=>h,sX:()=>d});var r=n(681757),o=n(7790),a=n(363699),i=n(358536),s=n(608589),l=n(248364),c=n(29390);let u;class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=m()}static clone(e){return e?e.clone():new d}clone(){const e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,l.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e;if(t instanceof d){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if((0,r.PO)(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=m(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,o.yW)(),...e},a=this._breadcrumbs;return a.push(r),this._breadcrumbs=a.length>n?a.slice(-n):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:a,_level:i,_fingerprint:s,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:a,level:i,fingerprint:s||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e,t={},n=[]){(0,c.gi)(e,this.getScopeData());const r=[...n,...(0,s.fH)(),...this._eventProcessors];return(0,s.RP)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,a.DM)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(i.kg.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function h(){return u||(u=new d),u}function m(){return{traceId:(0,a.DM)(),spanId:(0,a.DM)().substring(16)}}},792980:(e,t,n)=>{"use strict";n.d(t,{_:()=>l,j:()=>c});var r=n(221995),o=n(466417),a=n(592642),i=n(185112),s=n(43002);function l(e,t,n){const a=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},l=(0,r.Jr)({environment:a.environment||o.J,release:a.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",l),l}function c(e){const t=(0,a.s3)();if(!t)return{};const n=l((0,s.XU)(e).trace_id||"",t,(0,a.nZ)()),r=(0,i.G)(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:c,source:u}=r.metadata;null!=c&&(n.sample_rate=`${c}`);const d=(0,s.XU)(r);return u&&"url"!==u&&(n.transaction=d.description),n.sampled=String((0,s.Tt)(r)),t.emit&&t.emit("createDsc",n),n}},194923:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var r=n(94388),o=n(597946);function a(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(a){if(!(void 0===e||t.length<e))return(0,o.$2)(new r.b("Not adding Promise because buffer limit was reached."));const i=a();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new o.cW(((n,r)=>{let a=t.length;if(!a)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,o.WD)(e).then((()=>{--a||(clearTimeout(i),n(!0))}),r)}))}))}}}var i=n(846894);function s(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},a=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(a)for(const s of a.trim().split(",")){const[e,t,,,n]=s.split(":",5),a=parseInt(e,10),i=1e3*(isNaN(a)?60:a);if(t)for(const s of t.split(";"))"metric_bucket"===s&&n&&!n.split(";").includes("custom")||(o[s]=r+i);else o.all=r+i}else i?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(i,r):429===t&&(o.all=r+6e4);return o}var l=n(358536),c=n(273232);function u(e,t,n=a(e.bufferSize||30)){let u={};function h(a){const h=[];if((0,i.gv)(a,((t,n)=>{const r=(0,i.mL)(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(u,r)){const o=d(t,n);e.recordDroppedEvent("ratelimit_backoff",r,o)}else h.push(t)})),0===h.length)return(0,o.WD)();const m=(0,i.Jd)(a[0],h),p=t=>{(0,i.gv)(m,((n,r)=>{const o=d(n,r);e.recordDroppedEvent(t,(0,i.mL)(r),o)}))};return n.add((()=>t({body:(0,i.V$)(m,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&c.X&&l.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),u=s(u,e),e)),(e=>{throw p("network_error"),e})))).then((e=>e),(e=>{if(e instanceof r.b)return c.X&&l.kg.error("Skipped sending event because buffer is full."),p("queue_overflow"),(0,o.WD)();throw e}))}return h.__sentry__baseTransport__=!0,{send:h,flush:e=>n.drain(e)}}function d(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}},29390:(e,t,n)=>{"use strict";n.d(t,{gi:()=>l,yo:()=>c});var r=n(221995),o=n(363699),a=n(792980),i=n(185112),s=n(43002);function l(e,t){const{fingerprint:n,span:l,breadcrumbs:c,sdkProcessingMetadata:u}=t;!function(e,t){const{extra:n,tags:o,user:a,contexts:i,level:s,transactionName:l}=t,c=(0,r.Jr)(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=(0,r.Jr)(o);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=(0,r.Jr)(a);d&&Object.keys(d).length&&(e.user={...d,...e.user});const h=(0,r.Jr)(i);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts});s&&(e.level=s);l&&(e.transaction=l)}(e,t),l&&function(e,t){e.contexts={trace:(0,s.wy)(t),...e.contexts};const n=(0,i.G)(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:(0,a.j)(t),...e.sdkProcessingMetadata};const r=(0,s.XU)(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,l),function(e,t){e.fingerprint=e.fingerprint?(0,o.lE)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,c),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,u)}function c(e,t){const{extra:n,tags:r,user:o,contexts:a,level:i,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:m,transactionName:p,span:g}=t;u(e,"extra",n),u(e,"tags",r),u(e,"user",o),u(e,"contexts",a),u(e,"sdkProcessingMetadata",s),i&&(e.level=i),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...m}}function u(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}},248738:(e,t,n)=>{"use strict";n.d(t,{R:()=>m,U0:()=>g});var r=n(363699),o=n(7790),a=n(439660),i=n(790063),s=n(369180),l=n(466417),c=n(608589),u=n(651877),d=n(29390),h=n(43002);function m(e,t,n,m,g,f){const{normalizeDepth:v=3,normalizeMaxBreadth:_=1e3}=e,y={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,o.yW)()},b=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:l.J);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=(0,a.$G)(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,a.$G)(s.value,i));const c=e.request;c&&c.url&&(c.url=(0,a.$G)(c.url,i))}(y,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(y,b),void 0===t.type&&function(e,t){const n=i.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let r;const o=p.get(t);o?r=o:(r=new Map,p.set(t,r));const a=Object.keys(n).reduce(((e,o)=>{let a;const i=r.get(o);i?a=i:(a=t(o),r.set(o,a));for(let t=a.length-1;t>=0;t--){const r=a[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=a[e.filename])}))}))}catch(s){}}(y,e.stackParser);const C=function(e,t){if(!t)return e;const n=e?e.clone():new u.sX;return n.update(t),n}(m,n.captureContext);n.mechanism&&(0,r.EG)(y,n.mechanism);const E=g&&g.getEventProcessors?g.getEventProcessors():[],S=(0,u.lW)().getScopeData();if(f){const e=f.getScopeData();(0,d.yo)(S,e)}if(C){const e=C.getScopeData();(0,d.yo)(S,e)}const T=[...n.attachments||[],...S.attachments];T.length&&(n.attachments=T),(0,d.gi)(y,S);const w=[...E,...(0,c.fH)(),...S.eventProcessors];return(0,c.RP)(w,y,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"===typeof v&&v>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,s.Fv)(e.data,t,n)}})))},...e.user&&{user:(0,s.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,s.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,s.Fv)(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,s.Fv)(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=(0,h.XU)(e).data;return r&&(e.data=(0,s.Fv)(r,t,n)),e})));return r}(e,v,_):e)))}const p=new WeakMap;function g(e){if(e)return function(e){return e instanceof u.sX||"function"===typeof e}(e)||function(e){return Object.keys(e).some((e=>f.includes(e)))}(e)?{captureContext:e}:e}const f=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},276122:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(791476);function o(e,t,n=[t],o="npm"){const a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:r.J}))),version:r.J}),e._metadata=a}},43002:(e,t,n)=>{"use strict";n.d(t,{$k:()=>u,Hb:()=>c,Tt:()=>m,XU:()=>h,i0:()=>s,ve:()=>i,wy:()=>l});var r=n(221995),o=n(649691),a=n(7790);const i=0,s=1;function l(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:a,parent_span_id:i,status:s,tags:l,origin:c}=h(e);return(0,r.Jr)({data:o,op:a,parent_span_id:i,span_id:t,status:s,tags:l,trace_id:n,origin:c})}function c(e){const{traceId:t,spanId:n}=e.spanContext(),r=m(e);return(0,o.$p)(t,n,r)}function u(e){return"number"===typeof e?d(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?d(e.getTime()):(0,a.ph)()}function d(e){return e>9999999999?e/1e3:e}function h(e){return function(e){return"function"===typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"===typeof e.toJSON?e.toJSON():{}}function m(e){const{traceFlags:t}=e.spanContext();return Boolean(t&s)}},266212:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},26411:(e,t,n)=>{"use strict";n.d(t,{RH:()=>s});var r=n(348889),o=n(358536),a=n(266212);const i="Dedupe",s=(0,r._I)((()=>{let e;return{name:i,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!c(e,t))return!1;if(!l(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=u(t),r=u(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!c(e,t))return!1;if(!l(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return a.X&&o.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}}));(0,r.RN)(i,s);function l(e,t){let n=d(e),r=d(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function c(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function u(e){return e.exception&&e.exception.values&&e.exception.values[0]}function d(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}},618796:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var r=n(348889),o=n(681757),a=n(369180),i=n(221995),s=n(358536),l=n(266212);const c="ExtraErrorData",u=(0,r._I)(((e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:c,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!(0,o.VZ)(t.originalException))return e;const c=t.originalException.name||t.originalException.constructor.name,u=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const a=e[t];r[t]=(0,o.VZ)(a)?a.toString():a}if(t&&void 0!==e.cause&&(r.cause=(0,o.VZ)(e.cause)?e.cause.toString():e.cause),"function"===typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=(0,o.VZ)(n)?n.toString():n}}return r}catch(n){l.X&&s.kg.error("Unable to extract extra data from the Error object:",n)}return null}(t.originalException,r);if(u){const t={...e.contexts},r=(0,a.Fv)(u,n);return(0,o.PO)(r)&&((0,i.xp)(r,"__sentry_skip_normalization__",!0),t[c]=r),{...e,contexts:t}}return e}(e,r,t,n)}}));(0,r.RN)(c,u)},946990:(e,t,n)=>{"use strict";n.d(t,{EN:()=>c,IQ:()=>u,bU:()=>i});var r=n(851982),o=n(681757),a=n(358536);const i="baggage",s="sentry-",l=/^sentry-/;function c(e){if(!(0,o.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=d(t);for(const r of Object.keys(n))e[r]=n[r];return e}),{});else{if(!e)return;t=d(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(l)){e[t.slice(s.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function u(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],o)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===o?i:`${e},${i}`;return s.length>8192?(r.X&&a.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`sentry-${t}`]=n),e)),{}))}function d(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}},154194:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>a,iY:()=>c,l4:()=>s,qT:()=>l});var r=n(681757);const o=(0,n(790063).R)();function a(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let a=0,s=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&a++<r&&(u=i(n,d),!("html"===u||a>1&&s+o.length*c+u.length>=h));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(l)}catch(n){return"<unknown>"}}function i(e,t){const n=e,a=[];let i,s,l,c,u;if(!n||!n.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;a.push(n.tagName.toLowerCase());const d=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(d&&d.length)d.forEach((e=>{a.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&a.push(`#${n.id}`),i=n.className,i&&(0,r.HD)(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)a.push(`.${s[u]}`);const h=["aria-label","type","name","title","alt"];for(u=0;u<h.length;u++)l=h[u],c=n.getAttribute(l),c&&a.push(`[${l}="${c}"]`);return a.join("")}function s(){try{return o.document.location.href}catch(e){return""}}function l(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null}function c(e){if(!o.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},773135:(e,t,n)=>{"use strict";n.d(t,{RA:()=>i,vK:()=>l});var r=n(851982),o=n(358536);const a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e,t=!1){const{host:n,path:r,pass:o,port:a,projectId:i,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&o?`:${o}`:""}@${n}${a?`:${a}`:""}/${r?`${r}/`:r}${i}`}function s(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function l(e){const t="string"===typeof e?function(e){const t=a.exec(e);if(!t)return void(0,o.Cf)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",l,c="",u]=t.slice(1);let d="",h=u;const m=h.split("/");if(m.length>1&&(d=m.slice(0,-1).join("/"),h=m.pop()),h){const e=h.match(/^\d+/);e&&(h=e[0])}return s({host:l,pass:i,path:d,projectId:h,port:c,protocol:n,publicKey:r})}(e):s(e);if(t&&function(e){if(!r.X)return!0;const{port:t,projectId:n,protocol:a}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0)))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(a)?!t||!isNaN(parseInt(t,10))||(o.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(o.kg.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),!1):(o.kg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}},846894:(e,t,n)=>{"use strict";n.d(t,{BO:()=>s,Cd:()=>g,HY:()=>p,Jd:()=>i,V$:()=>u,gv:()=>l,mL:()=>m,zQ:()=>d});var r=n(773135),o=n(369180),a=n(221995);function i(e,t=[]){return[e,t]}function s(e,t){const[n,r]=e;return[n,[...r,t]]}function l(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function c(e,t){return(t||new TextEncoder).encode(e)}function u(e,t){const[n,r]=e;let a=JSON.stringify(n);function i(e){"string"===typeof a?a="string"===typeof e?a+e:[c(a,t),e]:a.push("string"===typeof e?c(e,t):e)}for(const l of r){const[e,t]=l;if(i(`\n${JSON.stringify(e)}\n`),"string"===typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch(s){e=JSON.stringify((0,o.Fv)(t))}i(e)}}return"string"===typeof a?a:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}(a)}function d(e,t){const n="string"===typeof e.data?c(e.data,t):e.data;return[(0,a.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const h={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function m(e){return h[e]}function p(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function g(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:(0,r.RA)(o)},...i&&{trace:(0,a.Jr)({...i})}}}},94388:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},194618:(e,t,n)=>{"use strict";n.d(t,{D2:()=>c,Hj:()=>l,rK:()=>u});var r=n(851982),o=n(358536),a=n(269038);const i={},s={};function l(e,t){i[e]=i[e]||[],i[e].push(t)}function c(e,t){s[e]||(t(),s[e]=!0)}function u(e,t){const n=e&&i[e];if(n)for(const i of n)try{i(t)}catch(s){r.X&&o.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,a.$P)(i)}\nError:`,s)}}},912633:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(221995),o=n(49798),a=n(790063),i=n(194618);function s(e){const t="fetch";(0,i.Hj)(t,e),(0,i.D2)(t,l)}function l(){(0,o.t$)()&&(0,r.hl)(a.GLOBAL_OBJ,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:u(t),method:c(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:u(t),method:c(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return(0,i.rK)("fetch",{...o}),e.apply(a.GLOBAL_OBJ,t).then((e=>{const t={...o,endTimestamp:Date.now(),response:e};return(0,i.rK)("fetch",t),e}),(e=>{const t={...o,endTimestamp:Date.now(),error:e};throw(0,i.rK)("fetch",t),e}))}}))}function c(e,t){return!!e&&"object"===typeof e&&!!e[t]}function u(e){return"string"===typeof e?e:e?c(e,"url")?e.url:e.toString?e.toString():"":""}},921240:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(790063),o=n(194618);let a=null;function i(e){const t="error";(0,o.Hj)(t,e),(0,o.D2)(t,s)}function s(){a=r.GLOBAL_OBJ.onerror,r.GLOBAL_OBJ.onerror=function(e,t,n,r,i){const s={column:r,error:i,line:n,msg:e,url:t};return(0,o.rK)("error",s),!(!a||a.__SENTRY_LOADER__)&&a.apply(this,arguments)},r.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}},182146:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(790063),o=n(194618);let a=null;function i(e){const t="unhandledrejection";(0,o.Hj)(t,e),(0,o.D2)(t,s)}function s(){a=r.GLOBAL_OBJ.onunhandledrejection,r.GLOBAL_OBJ.onunhandledrejection=function(e){const t=e;return(0,o.rK)("unhandledrejection",t),!(a&&!a.__SENTRY_LOADER__)||a.apply(this,arguments)},r.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},302311:(e,t,n)=>{"use strict";n.d(t,{a:()=>c});var r=n(221995),o=n(790063);const a=(0,o.R)();var i=n(194618);const s=o.GLOBAL_OBJ;let l;function c(e){const t="history";(0,i.Hj)(t,e),(0,i.D2)(t,u)}function u(){if(!function(){const e=a.chrome,t=e&&e.app&&e.app.runtime,n="history"in a&&!!a.history.pushState&&!!a.history.replaceState;return!t&&n}())return;const e=s.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=l,t=String(n);l=t;const r={from:e,to:t};(0,i.rK)("history",r)}return e.apply(this,t)}}s.onpopstate=function(...t){const n=s.location.href,r=l;l=n;const o={from:r,to:n};if((0,i.rK)("history",o),e)try{return e.apply(this,t)}catch(a){}},(0,r.hl)(s.history,"pushState",t),(0,r.hl)(s.history,"replaceState",t)}},428315:(e,t,n)=>{"use strict";n.d(t,{UK:()=>c,xU:()=>l});var r=n(681757),o=n(221995),a=n(790063),i=n(194618);const s=a.GLOBAL_OBJ,l="__sentry_xhr_v3__";function c(e){(0,i.Hj)("xhr",e),(0,i.D2)("xhr",u)}function u(){if(!s.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;(0,o.hl)(e,"open",(function(e){return function(...t){const n=Date.now(),a=(0,r.HD)(t[0])?t[0].toUpperCase():void 0,s=function(e){if((0,r.HD)(e))return e;try{return e.toString()}catch(t){}return}(t[1]);if(!a||!s)return e.apply(this,t);this[l]={method:a,url:s,request_headers:{}},"POST"===a&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const c=()=>{const e=this[l];if(e&&4===this.readyState){try{e.status_code=this.status}catch(t){}const r={args:[a,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};(0,i.rK)("xhr",r)}};return"onreadystatechange"in this&&"function"===typeof this.onreadystatechange?(0,o.hl)(this,"onreadystatechange",(function(e){return function(...t){return c(),e.apply(this,t)}})):this.addEventListener("readystatechange",c),(0,o.hl)(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,a=this[l];return a&&(0,r.HD)(n)&&(0,r.HD)(o)&&(a.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),(0,o.hl)(e,"send",(function(e){return function(...t){const n=this[l];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);const r={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return(0,i.rK)("xhr",r),e.apply(this,t)}}))}},681757:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>v,HD:()=>c,J8:()=>f,Kj:()=>g,Le:()=>u,PO:()=>h,TX:()=>s,V9:()=>y,VW:()=>i,VZ:()=>o,cO:()=>m,fm:()=>l,i2:()=>_,kK:()=>p,pt:()=>d,y1:()=>b});const r=Object.prototype.toString;function o(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function a(e,t){return r.call(e)===`[object ${t}]`}function i(e){return a(e,"ErrorEvent")}function s(e){return a(e,"DOMError")}function l(e){return a(e,"DOMException")}function c(e){return a(e,"String")}function u(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||u(e)||"object"!==typeof e&&"function"!==typeof e}function h(e){return a(e,"Object")}function m(e){return"undefined"!==typeof Event&&y(e,Event)}function p(e){return"undefined"!==typeof Element&&y(e,Element)}function g(e){return a(e,"RegExp")}function f(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function v(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _(e){return"number"===typeof e&&e!==e}function y(e,t){try{return e instanceof t}catch(n){return!1}}function b(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}},358536:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>s,LD:()=>i,RU:()=>a,kg:()=>l});var r=n(851982),o=n(790063);const a=["debug","info","warn","error","log","assert","trace"],i={};function s(e){if(!("console"in o.GLOBAL_OBJ))return e();const t=o.GLOBAL_OBJ.console,n={},r=Object.keys(i);r.forEach((e=>{const r=i[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const l=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?a.forEach((n=>{t[n]=(...t)=>{e&&s((()=>{o.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):a.forEach((e=>{t[e]=()=>{}})),t}()},363699:(e,t,n)=>{"use strict";n.d(t,{DM:()=>a,Db:()=>l,EG:()=>c,YO:()=>u,jH:()=>s,lE:()=>d});var r=n(221995),o=n(790063);function a(){const e=o.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){const{message:t,event_id:n}=e;if(t)return t;const r=i(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],a=o[0]=o[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function c(e,t){const n=i(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(t){}return!1}function d(e){return Array.isArray(e)?e:[e]}},369180:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>i,Qy:()=>s});var r=n(681757);var o=n(221995),a=n(269038);function i(e,t=100,n=1/0){try{return l("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function s(e,t=3,n=102400){const r=i(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?s(e,t-1,n):r;var o}function l(e,t,i=1/0,s=1/0,c=function(){const e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[u,d]=c;if(null==t||["number","boolean","string"].includes(typeof t)&&!(0,r.i2)(t))return t;const h=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof n.g&&t===n.g)return"[Global]";if(t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"===typeof t&&t!==t)return"[NaN]";if("function"===typeof t)return`[Function: ${(0,a.$P)(t)}]`;if("symbol"===typeof t)return`[${String(t)}]`;if("bigint"===typeof t)return`[BigInt: ${String(t)}]`;const o=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(o){return`**non-serializable** (${o})`}}(e,t);if(!h.startsWith("[object "))return h;if(t.__sentry_skip_normalization__)return t;const m="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:i;if(0===m)return h.replace("object ","");if(u(t))return"[Circular ~]";const p=t;if(p&&"function"===typeof p.toJSON)try{return l("",p.toJSON(),m-1,s,c)}catch(_){}const g=Array.isArray(t)?[]:{};let f=0;const v=(0,o.Sh)(t);for(const n in v){if(!Object.prototype.hasOwnProperty.call(v,n))continue;if(f>=s){g[n]="[MaxProperties ~]";break}const e=v[n];g[n]=l(n,e,m-1,s,c),f++}return d(t),g}},221995:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>u,HK:()=>d,Jr:()=>v,Sh:()=>m,_j:()=>h,hl:()=>l,xp:()=>c,zf:()=>f});var r=n(154194),o=n(851982),a=n(681757),i=n(358536),s=n(439660);function l(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"===typeof o&&u(o,r),e[t]=o}function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){o.X&&i.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(n){}}function d(e){return e.__sentry_original__}function h(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function m(e){if((0,a.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if((0,a.cO)(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...g(e)};return"undefined"!==typeof CustomEvent&&(0,a.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return(0,a.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function g(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function f(e,t=40){const n=Object.keys(m(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,s.$G)(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:(0,s.$G)(e,t)}return""}function v(e){return _(e,new Map)}function _(e,t){if(function(e){if(!(0,a.PO)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(t){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const o of Object.keys(e))"undefined"!==typeof e[o]&&(r[o]=_(e[o],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(_(e,t))})),r}return e}},269038:(e,t,n)=>{"use strict";n.d(t,{$P:()=>l,Sq:()=>i,pE:()=>a});const r=/\(error: (.*)\)/,o=/captureMessage|captureException/;function a(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const a=[],i=e.split("\n");for(let o=n;o<i.length;o++){const e=i[o];if(e.length>1024)continue;const n=r.test(e)?e.replace(r,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){a.push(t);break}}if(a.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),o.test(t[t.length-1].function||"")&&(t.pop(),o.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(a)}}function i(e){return Array.isArray(e)?a(...e):e}const s="<anonymous>";function l(e){try{return e&&"function"===typeof e&&e.name||s}catch(t){return s}}},439660:(e,t,n)=>{"use strict";n.d(t,{$G:()=>o,U0:()=>i,nK:()=>a});var r=n(681757);function o(e,t=0){return"string"!==typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function a(e,t){if(!Array.isArray(e))return"";const n=[];for(let a=0;a<e.length;a++){const t=e[a];try{(0,r.y1)(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function i(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},49798:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>i,Du:()=>s,t$:()=>l});var r=n(851982),o=n(358536);const a=(0,n(790063).R)();function i(){if(!("fetch"in a))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function l(){if("string"===typeof EdgeRuntime)return!0;if(!i())return!1;if(s(a.fetch))return!0;let e=!1;const t=a.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){r.X&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}},597946:(e,t,n)=>{"use strict";n.d(t,{$2:()=>i,WD:()=>a,cW:()=>s});var r,o=n(681757);function a(e){return new s((t=>{t(e)}))}function i(e){return new s(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new s(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(o){r(o)}else n(t)},e=>{if(t)try{n(t(e))}catch(o){r(o)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,o.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},7790:(e,t,n)=>{"use strict";n.d(t,{Z1:()=>s,ph:()=>a,yW:()=>o});var r=n(790063);function o(){return Date.now()/1e3}const a=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return o;const t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let i;const s=(()=>{const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return void(i="none");const t=36e5,n=e.now(),o=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,s=a<t,l=e.timing&&e.timing.navigationStart,c="number"===typeof l?Math.abs(l+n-o):t;return s||c<t?a<=c?(i="timeOrigin",e.timeOrigin):(i="navigationStart",l):(i="dateNow",o)})()},649691:(e,t,n)=>{"use strict";n.d(t,{$p:()=>l,pT:()=>s});var r=n(946990),o=n(363699);const a=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(e){if(!e)return;const t=e.match(a);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function s(e,t){const n=i(e),a=(0,r.EN)(t),{traceId:s,parentSpanId:l,parentSampled:c}=n||{};return n?{traceId:s||(0,o.DM)(),parentSpanId:l||(0,o.DM)().substring(16),spanId:(0,o.DM)().substring(16),sampled:c,dsc:a||{}}:{traceId:s||(0,o.DM)(),spanId:(0,o.DM)().substring(16)}}function l(e=(0,o.DM)(),t=(0,o.DM)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},633483:(e,t,n)=>{"use strict";function r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}n.d(t,{en:()=>r})},790063:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{GLOBAL_OBJ:()=>o,R:()=>a,Y:()=>i});const o="object"==typeof globalThis&&r(globalThis)||r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function a(){return o}function i(e,t,n){const r=n||o,a=r.__SENTRY__=r.__SENTRY__||{};return a[e]||(a[e]=t())}},84792:(e,t,n)=>{"use strict";n.d(t,{JC:()=>i,if:()=>o,wG:()=>r,x1:()=>a});const r="xbl_pa",o="xbl_sb",a="msa_ra",i="1"},204806:(e,t,n)=>{"use strict";var r;n.d(t,{b5:()=>r,qX:()=>a.q,ki:()=>o,x1:()=>i.x1,JC:()=>i.JC,wG:()=>i.wG,Q7:()=>s,if:()=>i.if,t2:()=>l.t2,i4:()=>l.i4,OZ:()=>u.O,nI:()=>l.nI,CD:()=>l.CD,Yr:()=>l.Yr,Em:()=>c.E,P9:()=>d.P,gZ:()=>l.gZ}),function(e){e.InGamePurchase="184",e.CrossNetworkPlay="185",e.PlayTournament="186",e.CreateTourname="187",e.Clubs="188",e.Sessions="189",e.Broadcast="190",e.PremiumMusicContent="191",e.SkypeAdvertisement="192",e.DownloadFreeContent="193",e.FitnessSubscriptionContent="194",e.FitnessUpload="195",e.ManageProfilePrivacySetting="196",e.GameDVR="198",e.ShareKinectContent="199",e.MarkPeopleAsKnown="200",e.LinkXboxGraphToFacebook="201",e.XboxMusic="202",e.MultiplayerParties="203",e.LiveTV="204",e.CommunicationVoiceIngame="205",e.CommunicationSkype="206",e.CloudGamingManageSession="207",e.CloudGamingJoinSession="208",e.CloudSavedGames="209",e.ShareContent="211",e.PremiumContent="214",e.InternetExplorer="217",e.SocialNetworkSharing="220",e.PIIAccess="221",e.PremiumVideo="224",e.BillingSwitching="227",e.PassportSwitching="228",e.VideoCommunications="235",e.PurchaseContent="245",e.UserCreatedContent="247",e.Communication="252",e.Multiplayer="254",e.AddFriend="255"}(r||(r={}));var o,a=n(316065),i=n(84792);!function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.MuidAuthorization="x-authorization-muid",e.S2sAuthHeader="X-S2S-Authorization"}(o||(o={}));var s,l=n(285040),c=n(277747);!function(e){e.XboxLive="http://xboxlive.com",e.MDollar="http://mp.microsoft.com/",e.XCloud="http://gssv.xboxlive.com/",e.XCloudWebPortal="rp://gswp.xboxlive.com/",e.SISU="http://sisu.xboxlive.com/",e.Greenbelt="rp://greenbelt.xboxlive.com/",e.Playfab="http://playfab.xboxlive.com/"}(s||(s={}));var u=n(818637),d=n(558635)},285040:(e,t,n)=>{"use strict";n.d(t,{CD:()=>o,Yr:()=>r,gZ:()=>i,i4:()=>l,nI:()=>a,t2:()=>s});const r="1f907974-e22b-4810-a9de-d9647380c97e",o="https://login.microsoftonline.com/consumers",a="xboxlive.signin",i="sandboxId",s="https://consentservice.microsoft.com/checkin/UnifiedUserConsent.Read",l="https://consentservice.microsoft.com/web/UnifiedUserConsent.ReadWrite"},277747:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});const r="cobrandid"},894944:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(815245);class o extends r.R{}},815245:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});class r{constructor(e){this.options=e,this.eventTarget=new EventTarget}dispatchEvent(e){this.options.logger.verbose(`dispatchEvent: ${e.type}`),this.eventTarget.dispatchEvent(e)}addEventListener(e,t,n){this.eventTarget.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventTarget.removeEventListener(e,t,n)}}},223723:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(815245);class o extends r.R{}},747772:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(316065);class o extends Event{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.q.Unknown;super(o.type),this.authStateChange=e}}o.type="activeAuthUserChanged"},689895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});class r extends Event{constructor(){super(r.type)}}r.type="initialized"},467498:(e,t,n)=>{"use strict";n.d(t,{S_:()=>o.S,Nb:()=>a.N,bK:()=>r});class r extends Event{constructor(e){super(r.type),this.xboxTokenCacheKey=e}}r.type="xboxTokenLCEChanged";var o=n(747772),a=(n(863024),n(689895))},376090:(e,t,n)=>{"use strict";n.d(t,{Wg:()=>s,Op:()=>o,ZM:()=>r,F3:()=>l,VZ:()=>u.V,fW:()=>c});n(368995);function r(){return new Date(Date.now()+7776e6)}function o(){return new Date(Date.now()+432e5)}n(73439);var a=n(585144),i=n(851061);const s=e=>`XBL3.0 x=${e.userHash||0};${e.token}`,l=async(e,t)=>{const n=await e.acquireTokenSilently(t);if(n)return s(n)},c=e=>{const t=((e,t)=>{if(!e.expires)return!1;const n=(0,a.I)(e);return!n||!!(0,i.q)(n)&&n<t})(e,new Date);return t};var u=n(374169)},585144:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(851061);const o=e=>{if(!e.expires)return;const t="string"===typeof e.expires?new Date(e.expires):e.expires;return(0,r.q)(t)?t:void 0}},374169:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>void 0!==e.message&&"string"===typeof e.message},851061:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r=e=>!isNaN(e.valueOf())},171315:(e,t,n)=>{"use strict";n.d(t,{uG:()=>l,S_:()=>C.S_,b5:()=>s.b5,qX:()=>s.qX,zC:()=>g,j2:()=>a,K_:()=>we,Iz:()=>Ne,Nb:()=>C.Nb,cE:()=>xe,Q7:()=>s.Q7,Zb:()=>h,gz:()=>W,t2:()=>s.t2,i4:()=>s.i4,EJ:()=>k.EJ,Py:()=>d,Ws:()=>m,nI:()=>s.nI,CD:()=>s.CD,Yr:()=>s.Yr,Wg:()=>o.Wg,R6:()=>k.R6,nY:()=>k.nY,p5:()=>pe.p5,le:()=>b,Vm:()=>k.Vm,bV:()=>k.bV,oI:()=>k.oI,yB:()=>k.yB,Yd:()=>k.Yd,IL:()=>pe.IL,PY:()=>k.PY,CZ:()=>k.CZ,bt:()=>k.bt,R8:()=>k.R8,CG:()=>k.CG,gV:()=>k.gV,kN:()=>k.ng,rb:()=>k.rb,by:()=>k.by,bG:()=>k.bG,c1:()=>k.c1,V_:()=>k.V_,NA:()=>k.NA,mh:()=>k.mh,F3:()=>o.F3,t_:()=>k.t_,ey:()=>pe.ey,Jf:()=>pe.oE,Tv:()=>f,AZ:()=>P,Pj:()=>x,Q0:()=>N,hI:()=>k.hI,M3:()=>k.M3});n(73439);var r=n(901523),o=n(376090);class a{constructor(e,t){this._logger=new i(e);const n=new r.LK(null===t||void 0===t?void 0:t.userAgent);n.isSafari||n.isSupportedTVBrowser?this.isSingleSignOnSupported=!1:this.isSingleSignOnSupported=!0}setupLogger(e){this._logger=new i(e)}async acquireTokenSilently(e){const t=this.getCachedTokensInternal()[e];if(t){if(!(0,o.fW)(t))return t;this._logger.info(`Token expired for relying party '${e}'. Attempting to get fresh token.`)}else null===t?this._logger.warn(`Unable to get token for relying party: '${e}'`):this._logger.info(`Cached token doesn't exist for relying party: '${e}'. Attempting to get token.`);const n=await this.acquireTokenAsyncInternal(e);return n&&!(0,o.fW)(n)?n:void this._logger.info(`Unable to get token for relying party: '${e}' after calling acquireTokenAsyncInternal. Token is expired or undefined.`)}}class i{constructor(e){this._logger=e}verbose(e){this._logger&&this._logger.verbose(e)}info(e){this._logger&&this._logger.info(e)}warn(e){this._logger&&this._logger.warn(e)}error(e,t){this._logger&&this._logger.error(e,t)}}var s=n(204806);class l{constructor(e,t){this.config=e,this._traceLogger=t}async authenticate(e,t){const n=e.clone();return n.headers.set(s.ki.AadUserAuthorization,`Bearer ${this.config.aadToken}`),n}}n(571372);class c extends Error{constructor(e){super(`Failed to authenticate for mandatory authenticated request. TargetUri: ${e}`),this.httpStatusCode=403,Object.setPrototypeOf(this,c.prototype)}}var u=n(251175);class d{constructor(e,t,n){this._authenticationProvider=t,this._traceLogger=n,this._relyingParty=e.relyingParty,this._isMandatory=e.isMandatory,this._anonymousTokenAuthenticator=e.anonymousTokenAuthenticator,this._aadAuthenticator=e.aadAuthenticator,this._xTokenOverride=e.xTokenOverride}async authenticate(e,t){let n=this._xTokenOverride;if(!n)try{n=await this._authenticationProvider.acquireTokenSilently(this._relyingParty)}catch(a){(0,o.VZ)(a)&&this._traceLogger.warn(`Error while acquiring xToken for request: ${e.url}. Error: ${a.message}`)}let r=e;if(n)r=this._authenticateRequest(e,n);else if(this._isMandatory)throw new c(e.url);return this._anonymousTokenAuthenticator&&(r=await this._anonymousTokenAuthenticator.authenticate(r,t)),this._aadAuthenticator&&(r=await this._aadAuthenticator.authenticate(r,t)),r}_authenticateRequest(e,t){const n=e.clone();return n.headers.set(u.HttpHeader.Authorization,(0,o.Wg)(t)),n}}class h{constructor(e,t,n){this.cartMuid=n,this._xTokenAuthenticator=new d({isMandatory:!1,relyingParty:s.Q7.MDollar},e,t)}async authenticate(e,t){if(!this.cartMuid)throw new c(e.url);const n=e.clone();return n.headers.set(s.ki.MuidAuthorization,this.cartMuid),this._xTokenAuthenticator.authenticate(n)}}class m{constructor(e){this._config=e}async authenticate(e,t){var n;return e.headers&&(null===(n=this._config)||void 0===n?void 0:n.anonToken)&&e.headers.set(s.ki.S2sAuthHeader,`Bearer ${this._config.anonToken}`),e}}var p=n(202784);const g=(0,p.createContext)({}),f=()=>(0,p.useContext)(g);var v=n(316216),_=n(20608);function*y(){return yield(0,_.getContext)(v.iBy.authentication)}function b(){return(0,_.call)(y)}var C=n(467498),E=n(900814),S=n.n(E),T=(n(906886),n(821883)),w=n(387342),I=n(474495),k=n(438205),A=n(957497);const P=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,I.useSelector)(k.yB),[r,o]=(0,p.useState)(t),a=(0,I.useSelector)(k.CG)===v.zHJ.Adult,i=(0,I.useSelector)(k.Yd),s=(0,I.useDispatch)(),l=(0,w.Fj)();(0,p.useEffect)((()=>{e&&n&&a&&((0,T.isValidNotRequestedLCE)(i)||(0,T.isExpiredContent)(i)||r&&(0,T.isContent)(i))&&(l.info("[usePrivacyConsent] Dispatching fetchPrivacyConsent action"),s(A.h.fetchPrivacyConsent.start()),r&&o(!1))}),[i,s,n,l,a,r,e]);const c=(0,p.useMemo)((()=>{var e;return null!==(e=(0,T.getUnexpiredDataOrPrevious)(i))&&void 0!==e?e:[]}),[i]);return(0,p.useMemo)((()=>[c,S()({loading:(0,T.isFetching)(i)},i)]),[i,c])},x=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,I.useSelector)(k.yB),r=(0,I.useSelector)(k.CG)===v.zHJ.Adult,o=(0,w.Fj)(),a=(0,I.useSelector)((t=>(0,k.bn)(t,e))),i=(0,I.useDispatch)();(0,p.useEffect)((()=>{t&&n&&r&&(0,T.isNotRequested)(a)&&(o.info(`[usePrivacyConsentUiDetails] Dispatching fetchPrivacyConsentUiDetails action with: ${e}`),i(A.h.fetchPrivacyConsentUiDetails.start(e)))}),[i,n,e,o,a,r,t]);const s=(0,p.useMemo)((()=>{var e;return null!==(e=(0,T.getDataOrPrevious)(a))&&void 0!==e?e:[]}),[a]);return(0,p.useMemo)((()=>[s,S()({loading:(0,T.isFetching)(a)},a)]),[s,a])};var R=n(444080);const N=e=>{const t=(0,I.useSelector)(k.yB),n=(0,I.useSelector)(k.Fu),r=(0,w.Fj)(),o=(0,I.useSelector)(k.Eo),a=(0,I.useSelector)(k.oE),i=(0,I.useDispatch)(),s=(0,p.useCallback)((n=>{let{id:o,values:a,consentSurface:s}=n;t&&(r.info("[useSubmitConsent] Dispatching submitConsent action"),i(A.h.submitConsent.start({id:o,values:a,modelType:e,consentSurface:s})))}),[i,t,r,e]),l=(0,p.useMemo)((()=>e===R.ModelType.XboxOptionalDataCollection?n:e===R.ModelType.XboxFinPartnerSharing?a:o),[a,n,o,e]);return(0,p.useMemo)((()=>[s,l,n,o]),[n,o,l,s])};n(70424),n(136728),n(904173),n(606710),n(477950),n(888233),n(231235),n(385940),n(94908),n(748166),n(464925),n(426464),n(945162),n(654819),n(567526),n(886668),n(33354),n(325870),n(210930),n(240574),n(194116),n(543267),n(574614),n(619852),n(144306),n(626077),n(971072),n(450183),n(214121),n(460523);var O=n(567907),L=n(169573),M=n(649845),U=n(127694),D=n(100806),B=n(203062),F=n(888767),H=n(285040);n(581497),n(875640),n(801871);class q{constructor(e){this.keys=["isAuthenticatedWithExternalTokens","hasAttemptedSisuRemediation"],this.storage=e.storage}readIsAuthenticatedWithExternalTokens(e){const t=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");return"true"===this.storage.getItem(t)}writeIsAuthenticatedWithExternalTokens(e,t){const n=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");this.storage.setItem(n,t.toString())}readHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");return"true"===this.storage.getItem(t)}writeHasAttemptedSisuRemediation(e,t){const n=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.setItem(n,t.toString())}clearHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.removeItem(t)}clearAllForUser(e){for(const n of this.keys)this.storage.removeItem(this.makeCacheKey(e,n));const t=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const n of t)this.storage.removeItem(n)}makeCacheKey(e,t){return`${btoa(e)}-${t}`}}var G=n(124560);n(344112);class z extends U.d{navigateInternal(e,t){return super.navigateInternal(e,t)}navigateExternal(e,t){const n=e.startsWith("https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize");return super.navigateExternal(e,S()(S()({},t),{},{noHistory:n||t.noHistory}))}}class X extends L.Lx{constructor(e){const t=e.logger;super({auth:{clientId:H.Yr,authority:H.CD,navigateToLoginRequestUrl:!1},cache:{cacheLocation:M.Ix.LocalStorage,claimsBasedCachingEnabled:!0},system:{navigationClient:e.enableCustomNavigationClient?new z:new U.d,loggerOptions:{logLevel:void 0,loggerCallback:(e,n,r)=>{if(!r)switch(e){case D.i.Error:return void t.error(n);case D.i.Warning:return void t.warn(n);case D.i.Info:return void t.info(n);case D.i.Verbose:t.verbose(n)}},piiLoggingEnabled:!1},allowRedirectInIframe:!!e.msaSessionId}}),this.userStorageProvider=new q({storage:globalThis.localStorage}),this.traceLogger=t,this.msaSessionId=e.msaSessionId,this.silentRedirectUri=e.silentRedirectUri}static async create(e){const t=new X(e);return await t.initialize(),t}async clearStorage(e){const t=this.getAccountByHomeId(e);t?(await this.clearCache({account:t}),this.userStorageProvider.clearAllForUser(e),this.setActiveAccount(null)):this.traceLogger.warn("[MsaPublicClientApplication] -  No account found for msaHomeAccountId. Skipping clearStorage.")}createCorrelationId(){return(0,F.Z)()}async startNewSignInWithRedirect(e){var t;try{this.traceLogger.verbose("[MsaPublicClientApplication] - Clearing out any existing MSA redirect sign-ins."),await this.handleRedirectPromise()}catch(n){const e=(0,O.toError)(n);this.traceLogger.error("[MsaPublicClientApplication] - startNewSignInWithRedirect cleared out in-progress login via instance.handleRedirectPromise.",e)}return this.getLogger().info(`Kicking off MSA loginRedirect with redirectUri: ${null===(t=e.redirectUri)||void 0===t?void 0:t.toString()}`),this.loginRedirect(e)}signInWithExternalTokens(e,t){if(!(null===e||void 0===e?void 0:e.client_info))throw new Error("Missing expected 'client_info' parameter. Try adding a 'client_info: 1' to the body of the request.");const n=this.getTokenCache(),r={scopes:[H.nI],authority:`https://login.windows.net/${B.gT.CONSUMER_UTID}`};let o=e.expires_in,a=e.ext_expires_in;o&&(o+=t,a&&(a+=o));const i={expiresOn:o,extendedExpiresOn:a,clientInfo:e.client_info},s=n.loadExternalTokens(r,e,i);if(!(null===s||void 0===s?void 0:s.account))throw new Error("Error getting account information after loading external tokens to tokenCache");return this.userStorageProvider.writeIsAuthenticatedWithExternalTokens(s.account.homeAccountId,!0),s.account}async startSignOutWithRedirect(e){try{await Promise.race([this.logoutRedirect(e),new Promise(((e,t)=>setTimeout((()=>t(new $)),1e4)))])}catch(t){const e=(0,O.toError)(t);throw this.traceLogger.error("[MsaPublicClientApplication] - startSignOutWithRedirect error",e),t}}async silentSingleSignOn(e){return this.ssoSilent(S()(S()({},e),{},{prompt:"none",redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}getAccountFromMsaSessionId(){var e;if(this.msaSessionId)return null===(e=this.getAllAccounts())||void 0===e?void 0:e.find((e=>{var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)===this.msaSessionId}))}acquireTokenSilent(e){return super.acquireTokenSilent(S()(S()({},e),{},{redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}}class $ extends G.l{constructor(){super("SignOutRedirectTimedOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Sign-out redirect timed out.",arguments.length>1?arguments[1]:void 0)}}var V=n(885215);class W extends G.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireMsaAccessTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire access token.",e),this.requiresInteraction=e instanceof V.Yo}}class K extends G.l{constructor(){super("UnableToFindAccountInfoError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to find account info.",arguments.length>1?arguments[1]:void 0)}}class j{constructor(e){this.msaInstance=e.msaInstance,this.accountInfo=e.accountInfo,this.logger=e.logger}async getMsaAccessToken(e){try{try{return(await this.msaInstance.acquireTokenSilent(S()({account:this.accountInfo},e))).accessToken}catch(t){const n=(0,O.toError)(t);if(n instanceof V.Yo){this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently. Going to try acquiring token using ssoSilent");const t=await this.msaInstance.silentSingleSignOn(S()(S()({},e),{},{account:this.accountInfo}));return this.logger.verbose("[ClientMsaTokenProvider] Successfully acquired MSA access token using ssoSilent"),t.accessToken}throw this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently and error is not an InteractionRequiredAuthError."),n}}catch(t){const e=(0,O.toError)(t);throw this.logger.error("[ClientMsaTokenProvider] Unable to acquire MSA access token",e),new W(e.message,e)}}}n(821515),n(34715),n(319570);var Y=n(248448),Z=n(892938),Q=n(43485);class J extends G.l{constructor(){super("UnableToAcquireXboxUserTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire xbox user token.",arguments.length>1?arguments[1]:void 0)}}class ee extends G.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireXboxTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire XboxToken.",arguments.length>2?arguments[2]:void 0),this.xboxTokenCacheKey=e}}class te extends G.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("RequiresSisuRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Requires sisu redirect.",arguments.length>2?arguments[2]:void 0),this.xErrorCode=e}}const ne="http://auth.xboxlive.com";class re{constructor(e){this.inflightRequests=new Map,this.userId=e.userId,this.msaTokenProvider=e.msaTokenProvider,this.telemetryProvider=e.telemetryProvider,this.logger=e.telemetryProvider.logger(),this.xboxTokenCache=e.xboxTokenCache,this.httpClient=(0,w.Yr)(new u.HttpClientBuilder,this.telemetryProvider).build(),this.xboxUserTokenRequestFactory=u.RequestFactory.withBaseUrl("https://user.auth.xboxlive.com").setCommonHeaders({[u.HttpHeader.ContentType]:"application/json",[u.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(u.DEFAULT_MAX_RETRIES),this.xstsRequestFactory=u.RequestFactory.withBaseUrl("https://xsts.auth.xboxlive.com").setCommonHeaders({[u.HttpHeader.ContentType]:"application/json",[u.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(u.DEFAULT_MAX_RETRIES)}destroy(){this.inflightRequests.forEach(((e,t)=>{let{abortController:n}=e;n.abort("[ClientXboxTokenHandler] - Aborting request due to destroy"),this.inflightRequests.delete(t)}))}getOrFetchXboxToken(e){const t=this.xboxTokenCache.getTokenLCE(e),n=(0,T.getUnexpiredDataOrPrevious)(t);if(n)return Promise.resolve(n);const r=this.getInflightRequestCacheKey(e),o=this.inflightRequests.get(r);if(o)return this.logger.info(`[XboxTokenHandler] Returning inflight request for XboxUserToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),o.promise;(0,T.isError)(t)&&this.logger.warn(`[XboxTokenHandler] XboxToken is in an error state, will fetch again. Error: ${t.error.message}`);const a=new AbortController,i=this.fetchXboxToken(e,a.signal).finally((()=>{this.inflightRequests.delete(r)}));return this.inflightRequests.set(r,{promise:i,abortController:a}),this.logger.info(`[XboxTokenHandler] Returning new request for XboxToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),i}async fetchXboxToken(e,t){try{let n;switch(this.xboxTokenCache.writeTokenAsFetching(e),e.identityType){case Z.Hz.UserToken:n=await this.fetchXboxUserToken(e,t);break;case Z.Hz.XToken:n=await this.fetchXboxXToken(e,t)}const r=Z.kW.parse(n.data),o=Y.I.fromXboxTokenResponseSchema(e,r);return this.xboxTokenCache.writeToken(o),o}catch(n){let e=(0,O.toError)(n);throw this.logger.error("[XboxTokenHandler] Error fetching XboxToken",e),e instanceof G.l||(e=new J(e.message,e)),this.xboxTokenCache.writeTokenAsError(e,{identityType:Z.Hz.UserToken,relyingParty:ne}),e}}async fetchXboxUserToken(e,t){const n=await this.msaTokenProvider.getMsaAccessToken({scopes:[H.nI]});return await this.httpClient.execute(this.xboxUserTokenRequestFactory.post("user/authenticate",JSON.stringify({Properties:{AuthMethod:"RPS",RpsTicket:`d=${n}`,SiteName:"user.auth.xboxlive.com"},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[u.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}async fetchXboxXToken(e,t){var n;try{const r=null!==(n=e.sandboxId)&&void 0!==n?n:Q.Q,o={identityType:Z.Hz.UserToken,relyingParty:ne,sandboxId:r},a=await this.getOrFetchXboxToken(o);return await this.httpClient.execute(this.xstsRequestFactory.post("xsts/authorize",JSON.stringify({Properties:{SandboxId:r,UserTokens:[a.tokenData.token]},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[u.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}catch(r){const t=(0,O.toError)(r);if(this.logger.error("[XboxTokenHandler] Failed to fetch XToken",t),t instanceof G.l)throw t;if(t instanceof u.HttpError){let n;try{const e=await t.response.json();n=Z.cU.parse(e).XErr}catch(o){const n=(0,O.toError)(o);throw this.logger.error("[XboxTokenHandler] Failed to parse XErr code from response",n),new ee(t.message,e,t)}throw new te(t.message,n,t)}throw new ee(t.message,e,t)}}getInflightRequestCacheKey(e){return`${this.userId}.${e.identityType}.${e.relyingParty}`}}var oe=n(830195),ae=n(22373);const ie=oe.z.object({ru:oe.z.string(),msaId:oe.z.string(),sid:oe.z.string().optional()}),se=oe.z.array(oe.z.object({Item1:oe.z.string(),Item2:Z.kW}).transform((e=>({relyingParty:e.Item1,tokenResponse:e.Item2}))));var le=n(24308),ce=n(321672);class ue extends ce.p{constructor(e){var t;const n=null!==(t=e.id)&&void 0!==t?t:ce.p.fallbackUserId,r=e.xboxTokenCache;super({id:n,initialXboxTokens:e.initialXboxTokens,xboxTokenCache:r,sandboxId:e.sandboxId}),this.xboxTokenCache=r}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:le.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}isClientAuthUser(){return!0}__unstable__dev_tools(){const e=e=>{this.xboxTokenCache.cache.forEach((t=>{const n=(0,T.getDataOrPrevious)(t);n&&(n.tokenData.expiration=new Date(Date.now()+e),this.xboxTokenCache.writeToken(n))}))};return{expireAllXboxTokens:()=>e(2e3),expireAllXboxTokensInOneMinute:()=>e(6e4)}}}var de=n(890867),he=n(696732),me=n(223723),pe=n(276474);class ge extends ue{constructor(e){const t=e.msaHomeAccountId,n=new he.X({userId:t,storage:globalThis.localStorage,logger:e.telemetryProvider.logger(),eventManager:new me.t({logger:e.telemetryProvider.logger()})});super(S()(S()({},e),{},{id:t,xboxTokenCache:n})),this.refreshXboxTokenTimeoutIds=new Map,this.msaTokenProvider=e.msaTokenProvider,this.msaHomeAccountId=e.msaHomeAccountId,this.msaName=e.msaName,this.msaUsername=e.msaUsername,this.xboxTokenCache=n,this.authCookiesProvider=e.authCookiesProvider,this.xboxTokenHandler=new re({userId:this.id,xboxTokenCache:n,msaTokenProvider:this.msaTokenProvider,telemetryProvider:e.telemetryProvider}),this.logger=e.telemetryProvider.logger()}static async createFromMsaAccount(e){const t=new ge(S()(S()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));try{await Promise.all((0,pe.IL)().map((e=>t.getOrFetchXboxToken(e))))}catch(n){const e=(0,O.toError)(n);throw t.destroy(),e}return t.initializeXboxTokenRefreshTimeouts(),t}static hydrateFromMsaAccount(e){const t=new ge(S()(S()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));for(const n of(0,pe.IL)()){const r=t.getXboxTokenLCE(n);if(!(0,T.isContent)(r))throw t.destroy(),new Error(`XboxTokenLCE needs to be content for hydration [relyingParty:${n}]`);t.updateSandboxId(r.data.sandboxId),e.authCookiesProvider.writeXboxTokenAsCookie(r.data)}return t.initializeXboxTokenRefreshTimeouts(),t}static createFromSisuRemediationAccessToken(e){let{telemetryProvider:t,msaTokenProvider:n,accessToken:r,accountInfo:o,sandboxId:a,authCookiesProvider:i}=e;const s=atob(r),l=(c=s,ae.D.pipe(se).parse(c)).map((e=>Y.I.fromXboxTokenResponseSchema({identityType:le.H.XToken,relyingParty:e.relyingParty,sandboxId:a},S()({},e.tokenResponse))));var c;const u=new ge({msaHomeAccountId:o.homeAccountId,msaName:o.name,msaUsername:o.username,telemetryProvider:t,msaTokenProvider:n,initialXboxTokens:l,sandboxId:a,authCookiesProvider:i});return u.initializeXboxTokenRefreshTimeouts(),u}destroy(){super.destroy(),this.xboxTokenHandler.destroy(),this.refreshXboxTokenTimeoutIds.forEach((e=>{clearTimeout(e)}))}async getOrFetchXboxToken(e){return this.xboxTokenHandler.getOrFetchXboxToken({identityType:le.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}isFullUser(){return!0}isSessionUser(){return!1}addEventListener(e,t,n){this.xboxTokenCache.addEventListener(e,t,n)}removeEventListener(e,t,n){this.xboxTokenCache.removeEventListener(e,t,n)}initializeXboxTokenRefreshTimeouts(){this.logger.verbose("[FullClientAuthUser] - Initializing XboxToken refresh timeouts");const e=this.xboxTokenCache.getAllLceTokens();for(const t of e){if(!(0,T.isContent)(t))continue;const e=t.data;if(e.identityType!==le.H.XToken)continue;const n=e.tokenData.expiration.getTime()-Date.now();if(n<=0){this.logger.verbose(`[FullClientAuthUser] - Token expired. Refreshing now [relyingParty:${e.relyingParty}]`),this.refreshXboxToken(e.relyingParty);continue}const r=e.relyingParty,o=setTimeout((()=>{this.refreshXboxToken(r)}),n);this.refreshXboxTokenTimeoutIds.set(r,o),this.logger.verbose(`[FullClientAuthUser] - Set timeout to refresh token [relyingParty:${r} msUntilExpiration:${n}]`)}}async refreshXboxToken(e){try{const t=await this.getOrFetchXboxToken(e),n=t.tokenData.expiration.getTime()-Date.now();if(n<=0)return void this.logger.warn(`[FullClientAuthUser] - Token expired after refresh. Going to ignore [relyingParty:${e}]`);const r=setTimeout((()=>{this.refreshXboxToken(e)}),n);this.refreshXboxTokenTimeoutIds.set(e,r),this.logger.verbose(`[FullClientAuthUser] - Successfully refreshed. Setting new timeout. [relyingParty:${e} msUntilExpiration:${n}]`),(0,pe.IL)().includes(e)&&this.authCookiesProvider.writeXboxTokenAsCookie(t)}catch(t){const n=(0,O.toError)(t);this.logger.error(`[FullClientAuthUser] - Failed to refresh token [relyingParty:${e}]`,n)}}}class fe extends ue{static hydrateFromXboxTokenOverride(e){return new fe({sandboxId:e.xboxToken.sandboxId,telemetryProvider:e.telemetryProvider,initialXboxTokens:[e.xboxToken],xboxTokenCache:new he.p({logger:e.telemetryProvider.logger(),userId:ce.p.fallbackUserId})})}isSessionUser(){return!0}isFullUser(){return!1}}var ve=n(747772),_e=n(894944),ye=n(316065),be=n(689895),Ce=n(414710);class Ee extends G.l{constructor(){super("CompleteAuthenticationViaRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No account found in redirect result",arguments.length>1?arguments[1]:void 0)}}class Se extends G.l{constructor(){super("UnableToCompleteSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class Te extends G.l{constructor(){super("UnableToCompleteSignInAfterRedirectFromSisuError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in after redirect from SISU",arguments.length>1?arguments[1]:void 0)}}class we extends G.l{constructor(){super("AuthenticationRedirectLoopDetectedError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Authentication redirect loop detected",arguments.length>1?arguments[1]:void 0)}}class Ie extends G.l{constructor(){super("UnableToStartSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class ke extends G.l{constructor(){super("UnableToSignInWithExternalTokensError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign in with external tokens",arguments.length>1?arguments[1]:void 0)}}class Ae extends G.l{constructor(){super("UnableToStartFrontChannelSignOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start front channel sign out",arguments.length>1?arguments[1]:void 0)}}class Pe extends G.l{constructor(){super("UnableToSignOutAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign out authentication redirect",arguments.length>1?arguments[1]:void 0)}}class xe extends G.l{constructor(){super("NotInMiddleOfMsaRedirectFlowError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not in the middle of an MSA redirect flow",arguments.length>1?arguments[1]:void 0)}}class Re{constructor(e){this.store=e.store||sessionStorage,this.key=e.key||"loginRedirectsCount",this.logger=e.logger}incrementAttemptOrThrow(){if(this.get()>0){this.reset();const e=new we;throw this.logger.error(`[LoginRedirectsCounter] ${e.message}`,e),e}this.increment()}reset(){this.store.removeItem(this.key)}increment(){this.store.setItem(this.key,String(this.get()+1))}get(){return Number(this.store.getItem(this.key)||0)}}class Ne extends Ce.f{constructor(e){var t,n;const r=e.telemetryProvider.logger(),o=e.authCookiesProvider;super({authCookiesProvider:o}),this.users=new Map,this._initialized=!1,this.authCookiesProvider=o,this.msaInstance=e.msaInstance,this.telemetryProvider=e.telemetryProvider,this.logger=r,this.loginRedirectsCounter=new Re({logger:this.logger}),this.defaultRedirectUrl=e.defaultRedirectUrl,this.locale=e.locale,this.eventManager=new _e.X({logger:r}),this.isSisuUcsSupportEnabled=null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,this.skipLoginRedirectCounter=null!==(n=e.skipLoginRedirectCounter)&&void 0!==n&&n;for(const a of e.initialAuthUsers)this.users.set(a.id,a),this.logger.verbose(`[ClientAuthProvider] Loaded AuthUser from cache [userId:${a.id}]`);globalThis.location.pathname.includes(this.defaultRedirectUrl)||(0===e.initialAuthUsers.length?(this.logger.verbose("[ClientAuthProvider] No AuthUsers loaded from cache. Going to try to ssoSilent"),this.attemptSsoSilent()):this.initialized=!0)}get initialized(){return this._initialized}set initialized(e){this._initialized!==e&&(this._initialized=e,e&&this.eventManager.dispatchEvent(new be.N))}static async create(e){var t;const n=e.telemetryProvider.logger(),r=await X.create({logger:n,msaSessionId:e.msaSessionId,silentRedirectUri:e.silentRedirectUri,enableCustomNavigationClient:!0===e.skipLoginRedirectCounter}),o=new de.y({cookiesProvider:e.cookiesProvider,logger:n}),a=[],i=r.getAllAccounts();for(const l of i){const t=new j({accountInfo:l,msaInstance:r,logger:n});try{const n=ge.hydrateFromMsaAccount({accountInfo:l,msaTokenProvider:t,telemetryProvider:e.telemetryProvider,authCookiesProvider:o});a.push(n)}catch(s){const e=(0,O.toError)(s);n.warn(`[ClientAuthProvider] - Failed to hydrate from MSA account. This is OK. Skipping account [errorMessage:${e.message}]`);continue}}if(0===a.length){n.verbose("[ClientAuthProvider] - No hydrated AuthUsers found. We will attempt to load a user from XboxToken override session cookie.");const t=o.readXboxTokenOverrideFromSessionCookie();if(t){n.verbose("[ClientAuthProvider] - Found XboxToken override cookie. Creating AuthUser.");const r=fe.hydrateFromXboxTokenOverride({telemetryProvider:e.telemetryProvider,xboxToken:t});a.push(r)}}return new Ne({telemetryProvider:e.telemetryProvider,msaInstance:r,defaultRedirectUrl:e.defaultRedirectUrl,locale:e.locale,initialAuthUsers:a,authCookiesProvider:o,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter})}isInitialized(){return this.initialized}getAuthUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.fallbackUserId;var t;return null!==(t=this.users.get(e))&&void 0!==t?t:null}getActiveAuthUser(){return this.getAuthUser(this.getMsaActiveHomeAccountId())}async attemptV2ToV3UserTransition(){if(this.getActiveAuthUser())return;const[e]=this.msaInstance.getAllAccounts();if(!e)return;globalThis.localStorage.getItem("xboxcom_xbl_user_info")&&await this.handleNewMsaUser(e,ye.q.SilentSignIn)}async startSignInWithRedirect(e){var t;try{this.skipLoginRedirectCounter||this.loginRedirectsCounter.incrementAttemptOrThrow();const n=this.msaInstance.createCorrelationId(),r=null!==(t=e.prompt)&&void 0!==t?t:"select_account",o={scopes:[s.nI],prompt:r,extraQueryParameters:{},state:encodeURIComponent(e.returnUrlAfterSignIn),correlationId:n,onRedirectNavigate:()=>("select_account"===r&&this.authCookiesProvider.deleteAllAuthRelatedCookies(),!0)},a=new URLSearchParams(location.search),i=a.get(s.Em);i&&(o.extraQueryParameters={[s.Em]:i});const l=new URL(this.defaultRedirectUrl,window.location.origin),c=new URLSearchParams;c.set("action","loggedIn");const u=a.get(s.gZ);return u&&c.set(s.gZ,u),c.set("locale_hint",this.locale),l.search=c.toString(),o.redirectUri=l.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInStarted",version:"v3",msaCorrelationId:n,prompt:r}),await this.msaInstance.startNewSignInWithRedirect(o)}catch(n){const e=(0,O.toError)(n);if(e instanceof G.l)throw e;throw new Ie("Unable to start sign in authentication redirect",e)}}async signInWithExternalMsaTokens(e){try{const t=this.msaInstance.signInWithExternalTokens(e.serverAuthorizationTokenResponse,e.requestTimestamp);await this.handleNewMsaUser(t,ye.q.DeviceCodeSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInSuccess",version:"v3",msaCorrelationId:e.msaCorrelationId})}catch(t){let n=(0,O.toError)(t);throw n instanceof G.l||(n=new ke("Unable to sign in with external tokens",n)),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e.msaCorrelationId}),n}}async startSignOutWithRedirect(e){var t,n,r,o;const a=this.msaInstance.createCorrelationId();this.loginRedirectsCounter.reset();try{if(e.msaSessionId){const t=this.msaInstance.getAllAccounts().find((t=>{const n=t.idTokenClaims;return(null===n||void 0===n?void 0:n.sid)===e.msaSessionId}));return void await this.msaInstance.startSignOutWithRedirect({account:t,correlationId:a,onRedirectNavigate:()=>!1})}const i=null!==(t=e.msaHomeAccountId)&&void 0!==t?t:this.getMsaActiveHomeAccountId();if(!i)return this.logger.warn("[ClientAuthProvider] - No MSA account found to sign out, just clearing cookies and redirecting"),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(n=globalThis.window)||void 0===n||n.location.assign(e.returnUrlAfterSignOut));const s=this.getAuthUser(i),l="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());if(this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(i)||l)return this.logger.info("[ClientAuthProvider] - Signing out external user"),await this.msaInstance.clearStorage(i),null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(i),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(o=globalThis.window)||void 0===o||o.location.assign(e.returnUrlAfterSignOut));{this.logger.info("[ClientAuthProvider] - Signing out normal user");if(!this.msaInstance.getAccountByHomeId(i))throw new K;const t=new URL(this.defaultRedirectUrl,window.location.origin),n=new URLSearchParams;n.set("action","loggedOut"),n.set("returnUrl",e.returnUrlAfterSignOut),n.set("locale_hint",this.locale),t.search=n.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOut",version:"v3",msaCorrelationId:a}),await this.msaInstance.startSignOutWithRedirect({correlationId:a,postLogoutRedirectUri:t.toString(),onRedirectNavigate:()=>(null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(i),this.authCookiesProvider.deleteAllAuthRelatedCookies(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOutOnRedirect",version:"v3",msaCorrelationId:a}),!0)})}}catch(i){const e=(0,O.toError)(i);if(e instanceof G.l)throw e;throw new Pe("Unable to sign out",e)}}async startFrontChannelSignOut(){try{const e=this.msaInstance.getAccountFromMsaSessionId();if(!e)throw new Ae;await this.msaInstance.startSignOutWithRedirect({account:e,onRedirectNavigate:()=>!1})}catch(e){const t=(0,O.toError)(e);if(t instanceof G.l)throw t;throw new Ae("Unable to start front channel sign out",t)}}async completeSignInAfterRedirectIfNeeded(){this.logger.info("[ClientAuthProvider] Completing sign in after redirect");try{const e=await this.msaInstance.handleRedirectPromise();if(!e)throw new xe;const t=null===e||void 0===e?void 0:e.account,n=null===e||void 0===e?void 0:e.state;if(!t||!n){const e=new Ee,t="[ClientAuthProvider] No account found in redirect result";throw this.logger.error(t,e),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInError",version:"v3",message:t,error:e}),e}this.loginRedirectsCounter.reset();const r=decodeURIComponent(n);return this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInSuccess",version:"v3"}),await this.handleNewMsaUser(t,ye.q.InteractiveSignIn,r),this.initialized=!0,r}catch(e){const t=(0,O.toError)(e);if(t instanceof G.l)throw t;throw new Se("Unable to complete sign in authentication redirect",t)}}async completeSignInAfterRedirectFromSisu(){var e;try{const t=globalThis.location.hash.replace("#",""),n=new URLSearchParams(t),r=n.get("state");if(!r)throw new Error("No state found in searchParams from sisu redirect");const{sisuReturnUrl:o,msaHomeAccountId:a,sandboxId:i}=function(e){const t=ae.D.pipe(ie).parse(e);return{sisuReturnUrl:t.ru,msaHomeAccountId:t.msaId,sandboxId:t.sid}}(r),s=null!==(e=n.get("cv"))&&void 0!==e?e:"";this.logger.info(`[ClientAuthProvider] - attempting to complete a pending SISU remediation with cV: ${s}`);if(!this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(a))throw new Error("User has not initiated SISU remediation");const l=n.get("accessToken");if(!l)throw new Error("No accessToken found in searchParams from sisu redirect");const c=this.msaInstance.getAccountByHomeId(a);if(!c)throw new K;const u=new j({msaInstance:this.msaInstance,accountInfo:c,logger:this.logger}),d=ge.createFromSisuRemediationAccessToken({telemetryProvider:this.telemetryProvider,msaTokenProvider:u,accessToken:l,accountInfo:c,sandboxId:i,authCookiesProvider:this.authCookiesProvider});return this.users.set(d.id,d),await this.setActiveMsaAccount(c,d,ye.q.InteractiveSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectSuccess",version:"v3"}),o}catch(t){let e=(0,O.toError)(t);throw e instanceof G.l||(e=new Te("Unable to complete sign in after redirect from SISU",e)),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectError",version:"v3",error:e}),t}}createMsaCorrelationId(){return this.msaInstance.createCorrelationId()}isClientInstance(){return!0}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}__unstable__dev_tools(){return{expireAllMsaAccessTokens:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);if(null===t||void 0===t?void 0:t.includes("login.windows.net-accesstoken")){const e=localStorage.getItem(t);if(!e)continue;const n=JSON.parse(e),r=S()(S()({},n),{},{expiresOn:"0"});localStorage.setItem(t,JSON.stringify(r))}}},deleteMsaRefreshToken:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);(null===t||void 0===t?void 0:t.includes("login.windows.net-refreshtoken"))&&localStorage.removeItem(t)}},expireXboxTokensInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokens()},expireXboxTokensInOneMinuteInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokensInOneMinute()}}}async handleNewMsaUser(e,t,n){var r;this.logger.verbose(`[ClientAuthProvider] Handling new MSA user [msaHomeAccountId:${e.homeAccountId} returnUrlAfterSignIn:${n}]`);const o=new URLSearchParams(globalThis.location.search).get(s.gZ),a=null!==o&&void 0!==o?o:Q.Q;try{const n=new j({msaInstance:this.msaInstance,accountInfo:e,logger:this.logger}),o=await ge.createFromMsaAccount({accountInfo:e,telemetryProvider:this.telemetryProvider,msaTokenProvider:n,sandboxId:a,authCookiesProvider:this.authCookiesProvider});this.users.set(o.id,o),await this.setActiveMsaAccount(e,o,t),this.authCookiesProvider.writeMsaRecentlyAuthenticatedCookie();const i="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(e.homeAccountId)||this.msaInstance.userStorageProvider.writeIsAuthenticatedWithExternalTokens(e.homeAccountId,i);const s=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const e of s)globalThis.localStorage.removeItem(e)}catch(i){const t=(0,O.toError)(i);if(t instanceof G.l)throw t instanceof te&&await this.handleSisuRedirectErrorForMsaUser(e,a,n),t;throw i}}async handleSisuRedirectErrorForMsaUser(e,t,n){var r;this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(e.homeAccountId)&&(this.logger.warn("[ClientAuthProvider] Signing out user due to already attempting to remediate SISU error, but user was unable to remediate"),await this.startSignOutWithRedirect({msaHomeAccountId:e.homeAccountId,returnUrlAfterSignOut:null!==n&&void 0!==n?n:globalThis.location.href})),this.msaInstance.userStorageProvider.writeHasAttemptedSisuRemediation(e.homeAccountId,!0);const o=null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint;if(!o)throw new Error("No msaAccountLoginHint found in accountInfo");const a=new URL(this.defaultRedirectUrl,window.location.origin),i=new URLSearchParams;i.set("action","loggedIn"),a.search=i.toString();const s=new URL("/connect/XboxLive","https://sisu.xboxlive.com/"),l=new URLSearchParams;l.set("ru",a.toString()),l.set("login_hint",o),this.isSisuUcsSupportEnabled&&(l.set("userPrompts","XboxOptionalDataCollection"),l.set("consent","required"));const c=this.telemetryProvider.cv().increment();l.set("cv",c);let u=n;u||(u=globalThis.location.href.includes(this.defaultRedirectUrl)?"/":globalThis.location.href),l.set("state",function(e){const t={ru:e.sisuReturnUrl,msaId:e.msaHomeAccountId,sid:e.sandboxId};return JSON.stringify(t)}({sisuReturnUrl:u,msaHomeAccountId:e.homeAccountId,sandboxId:t})),s.search=l.toString();const d=s.toString();this.logger.info(`[ClientAuthProvider] - Redirecting to SISU remediation flow for cv ${c}, to url: ${d}`),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectStarted",version:"v3",sisuCv:c}),await this.navigateToExternalHrefAndBlock(d)}async navigateToExternalHrefAndBlock(e){globalThis.location.href=e,await new Promise((e=>{setTimeout(e,5e3)}))}getMsaActiveHomeAccountId(){var e;return null===(e=this.msaInstance.getActiveAccount())||void 0===e?void 0:e.homeAccountId}getAuthUserOrThrow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.fallbackUserId;const t=this.getAuthUser(e);if(!t)throw this.logger.verbose(`[ClientAuthProvider] No AuthUser found [id:${e}]`),new Error("[ClientAuthProvider] No AuthUser found");return t}async setActiveMsaAccount(e,t,n){this.msaInstance.setActiveAccount(e),this.eventManager.dispatchEvent(new ve.S(n));const r=await Promise.all((0,pe.IL)().map((e=>t.getOrFetchXboxToken(e))));for(const o of r)this.authCookiesProvider.writeXboxTokenAsCookie(o)}async attemptSsoSilent(){const e=this.msaInstance.createCorrelationId();try{this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInStarted",version:"v3",msaCorrelationId:e,mode:"sso"});const{account:t}=await this.msaInstance.silentSingleSignOn({correlationId:e});t&&(await this.handleNewMsaUser(t,ye.q.SilentSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInSuccess",version:"v3",msaCorrelationId:e,mode:"sso"}))}catch(t){const n=(0,O.toError)(t);this.logger.info(`[ClientAuthProvider] - Attempted ssoSilent with no success [error:${n.message}]`),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e,mode:"sso"})}finally{this.initialized=!0}}}n(138463)},38838:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(830195),o=n(248448),a=n(204806),i=n(22373),s=n(892938);class l{constructor(e){this.xboxTokenOverrideCookieKey="xbox_token_override",this.xboxTokenCookieExtractorRegex=/^XBXXtk(rp.+|http.+)$/,this.logger=e.logger,this.cookiesProvider=e.cookiesProvider}readXboxTokenOverrideFromSessionCookie(){const e=this.cookiesProvider.get(this.xboxTokenOverrideCookieKey);if(!e)return;const t=i.D.pipe(s.ti).safeParse(e);if(t.success)return o.I.fromXboxTokenOverrideSchema(t.data);this.logger.warn(`[ClientAuthCookiesProvider] - Failed to parse XboxTokenOverride cookie [value:${e}]`)}readPreviouslyAuthenticatedCookie(){const e=this.cookiesProvider.get(a.wG);if(!e)return;const t=r.z.coerce.number().transform(((e,t)=>{const n=new Date(e);return isNaN(n.getTime())?(t.addIssue({code:r.z.ZodIssueCode.invalid_date,message:`Invalid date [value:${e}]`}),r.z.NEVER):n})).safeParse(e);if(t.success)return t.data;this.logger.warn(`[AuthCookiesProvider] - Failed to parse previouslyAuthenticated cookie [value:${e}]`)}deletePreviouslyAuthenticatedCookie(){this.cookiesProvider.delete(a.wG,{path:"/",domain:".xbox.com"})}readSandboxIdCookie(){return this.cookiesProvider.get(a.if)}deleteSandboxIdCookie(){this.cookiesProvider.delete(a.if,{path:"/",domain:".xbox.com"})}hasMsaRecentlyAuthenticatedCookie(){return this.cookiesProvider.get(a.x1)===a.JC}deleteMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.delete(a.x1,{path:"/",domain:".xbox.com"})}makeXboxTokenCookieKey(e){return`XBXXtk${e.relyingParty}`}makeXboxTokenCookieKeyForRelyingParty(e){return`XBXXtk${e}`}}},890867:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});n(888233),n(231235),n(906886);var r=n(316216),o=n(204806),a=n(43485),i=n(376090),s=n(276474),l=n(38838),c=n(124560);class u extends c.l{constructor(){super("XboxTokenNotAllowedAsCookieError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XboxToken not allowed as cookie",arguments.length>1?arguments[1]:void 0)}}class d extends l.p{writeXboxTokenAsCookie(e){if(!(0,s.IL)().includes(e.relyingParty))throw new u(`This XboxToken cannot be written as a cookie because it's relying party is not allowed [relyingParty:${e.relyingParty}]`);const t=this.makeXboxTokenCookieKey(e);(0,r.kTi)(t,"/",".xbox.com"),this.cookiesProvider.set(t,e.serializeForCookie(),{expires:e.tokenData.expiration,sameSite:"none",path:"/",secure:!0,domain:".xbox.com",essential:!0}),this.writePreviouslyAuthenticatedCookie(),e.sandboxId.toUpperCase()!==a.Q&&this.writeSandboxIdCookie(e.sandboxId.toUpperCase()),this.logger.verbose(`[AuthCookiesProvider] - Set cookie for XboxToken [relyingParty:${e.relyingParty}]`)}writeMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.set(o.x1,o.JC,{expires:(0,i.Op)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}deleteAllAuthRelatedCookies(){this.deleteAllXboxTokenCookies(),this.deletePreviouslyAuthenticatedCookie(),this.deleteSandboxIdCookie(),this.deleteMsaRecentlyAuthenticatedCookie()}deleteAllXboxTokenCookies(){for(const e of Object.values(o.Q7))this.cookiesProvider.delete(this.makeXboxTokenCookieKeyForRelyingParty(e),{path:"/",domain:".xbox.com"})}writePreviouslyAuthenticatedCookie(){this.cookiesProvider.set(o.wG,Date.now().toString(),{expires:(0,i.ZM)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}writeSandboxIdCookie(e){this.cookiesProvider.set(o.if,e,{expires:(0,i.ZM)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}}},414710:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});class r{constructor(e){this.authCookiesProvider=e.authCookiesProvider}lastAuthenticationDate(){return this.authCookiesProvider.readPreviouslyAuthenticatedCookie()}}},188747:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});class r{constructor(e){this.token=e.token,this.expiration=e.expiration,this.issueInstant=e.issueInstant,this.userHash=e.userHash,this.userGamertag=e.userGamertag,this.userModernGamertag=e.userModernGamertag,this.userModernGamertagSuffix=e.userModernGamertagSuffix,this.userUniqueModernGamertag=e.userUniqueModernGamertag,this.userXuid=e.userXuid,this.userAgeGroup=e.userAgeGroup,this.userPrivileges=e.userPrivileges,this.userSettingsRestrictions=e.userSettingsRestrictions,this.userEnforcementRestrictions=e.userEnforcementRestrictions,this.userTitleRestrictions=e.userTitleRestrictions}static deserialize(e){return new r(e)}static fromXboxTokenJwt(e){var t,n,o,a,i,s,l,c,u,d,h,m,p,g,f,v,_,y,b,C,E,S,T,w,I,k,A,P,x,R,N,O,L;return new r({token:e.Token,expiration:e.ExpiresAt,issueInstant:e.IssueInstant,userHash:null===(o=null===(n=null===(t=e.DisplayClaims)||void 0===t?void 0:t.xui)||void 0===n?void 0:n[0])||void 0===o?void 0:o.uhs,userGamertag:null===(s=null===(i=null===(a=e.DisplayClaims)||void 0===a?void 0:a.xui)||void 0===i?void 0:i[0])||void 0===s?void 0:s.gtg,userModernGamertag:null===(u=null===(c=null===(l=e.DisplayClaims)||void 0===l?void 0:l.xui)||void 0===c?void 0:c[0])||void 0===u?void 0:u.mgt,userModernGamertagSuffix:null===(m=null===(h=null===(d=e.DisplayClaims)||void 0===d?void 0:d.xui)||void 0===h?void 0:h[0])||void 0===m?void 0:m.mgs,userUniqueModernGamertag:null===(f=null===(g=null===(p=e.DisplayClaims)||void 0===p?void 0:p.xui)||void 0===g?void 0:g[0])||void 0===f?void 0:f.umg,userXuid:null===(y=null===(_=null===(v=e.DisplayClaims)||void 0===v?void 0:v.xui)||void 0===_?void 0:_[0])||void 0===y?void 0:y.xid,userAgeGroup:null===(E=null===(C=null===(b=e.DisplayClaims)||void 0===b?void 0:b.xui)||void 0===C?void 0:C[0])||void 0===E?void 0:E.agg,userPrivileges:null===(w=null===(T=null===(S=e.DisplayClaims)||void 0===S?void 0:S.xui)||void 0===T?void 0:T[0])||void 0===w?void 0:w.prv,userSettingsRestrictions:null===(A=null===(k=null===(I=e.DisplayClaims)||void 0===I?void 0:I.xui)||void 0===k?void 0:k[0])||void 0===A?void 0:A.usr,userEnforcementRestrictions:null===(R=null===(x=null===(P=e.DisplayClaims)||void 0===P?void 0:P.xui)||void 0===x?void 0:x[0])||void 0===R?void 0:R.uer,userTitleRestrictions:null===(L=null===(O=null===(N=e.DisplayClaims)||void 0===N?void 0:N.xui)||void 0===O?void 0:O[0])||void 0===L?void 0:L.utr})}serialize(){return{token:this.token,expiration:this.expiration,issueInstant:this.issueInstant,userHash:this.userHash,userGamertag:this.userGamertag,userModernGamertag:this.userModernGamertag,userModernGamertagSuffix:this.userModernGamertagSuffix,userUniqueModernGamertag:this.userUniqueModernGamertag,userXuid:this.userXuid,userAgeGroup:this.userAgeGroup,userPrivileges:this.userPrivileges,userSettingsRestrictions:this.userSettingsRestrictions,userEnforcementRestrictions:this.userEnforcementRestrictions,userTitleRestrictions:this.userTitleRestrictions}}}},248448:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var r=n(900814),o=n.n(r),a=(n(606710),n(204806)),i=n(43485),s=n(892938),l=n(188747);class c{constructor(e){var t;this.userId=e.userId,this.identityType=e.identityType,this.relyingParty=e.relyingParty,this.tokenData=l.q.deserialize(e.tokenData),this.sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:i.Q}static fromServerXboxTokenSchema(e,t){return new c(o()(o()({},t),{},{relyingParty:e}))}static fromXboxTokenResponseSchema(e,t){var n,r,a,i,s,l,u,d,h,m,p,g,f,v,_,y,b,C,E,S,T,w;const I=t.DisplayClaims;return new c(o()(o()({},e),{},{tokenData:{token:t.Token,expiration:t.ExpiresAt,issueInstant:t.IssueInstant,userHash:null===(r=null===(n=null===I||void 0===I?void 0:I.xui)||void 0===n?void 0:n[0])||void 0===r?void 0:r.uhs,userGamertag:null===(i=null===(a=null===I||void 0===I?void 0:I.xui)||void 0===a?void 0:a[0])||void 0===i?void 0:i.gtg,userModernGamertag:null===(l=null===(s=null===I||void 0===I?void 0:I.xui)||void 0===s?void 0:s[0])||void 0===l?void 0:l.mgt,userModernGamertagSuffix:null===(d=null===(u=null===I||void 0===I?void 0:I.xui)||void 0===u?void 0:u[0])||void 0===d?void 0:d.mgs,userUniqueModernGamertag:null===(m=null===(h=null===I||void 0===I?void 0:I.xui)||void 0===h?void 0:h[0])||void 0===m?void 0:m.umg,userXuid:null===(g=null===(p=null===I||void 0===I?void 0:I.xui)||void 0===p?void 0:p[0])||void 0===g?void 0:g.xid,userAgeGroup:null===(v=null===(f=null===I||void 0===I?void 0:I.xui)||void 0===f?void 0:f[0])||void 0===v?void 0:v.agg,userPrivileges:null===(y=null===(_=null===I||void 0===I?void 0:I.xui)||void 0===_?void 0:_[0])||void 0===y?void 0:y.prv,userSettingsRestrictions:null===(C=null===(b=null===I||void 0===I?void 0:I.xui)||void 0===b?void 0:b[0])||void 0===C?void 0:C.usr,userEnforcementRestrictions:null===(S=null===(E=null===I||void 0===I?void 0:I.xui)||void 0===E?void 0:E[0])||void 0===S?void 0:S.uer,userTitleRestrictions:null===(w=null===(T=null===I||void 0===I?void 0:I.xui)||void 0===T?void 0:T[0])||void 0===w?void 0:w.utr}}))}static fromXboxTokenOverrideSchema(e){let{token:t,userHash:n}=e;return new c({identityType:s.Hz.XToken,relyingParty:a.Q7.MDollar,tokenData:{expiration:new Date(Date.now()+864e5),issueInstant:new Date,token:t,userHash:n}})}serialize(){return{identityType:this.identityType,relyingParty:this.relyingParty,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId}}serializeForCookie(){const e={identityType:this.identityType,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId,userId:this.userId};return JSON.stringify(e)}}},439002:(e,t,n)=>{"use strict";n.d(t,{E:()=>r.E,h:()=>r.h});var r=n(957497)},957497:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,h:()=>s});n(906886);var r=n(316216),o=n(204806);const a="";var i;!function(e){e.SET_USER_INFO="@user/SET_USER_INFO",e.RESET_USER_INFO="@user/RESET_USER_INFO",e.UPDATE_AAD_USER="@user/UPDATE_AAD_USER ",e.FETCH_AGE_GATING_INFO="@user/UPDATE_AGE_GATING_INFO",e.UPDATE_USER_AGE_GATING_INFO="@user/UPDATE_USER_AGE_GATING_INFO",e.FETCH_AGE_GATING_INFO_ERROR="@user/UPDATE_AGE_GATING_INFO_ERROR",e.FETCH_PRIVACY_CONSENT_UI_DETAILS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR",e.FETCH_PRIVACY_CONSENT="@user/FETCH_PRIVACY_CONSENT",e.FETCH_PRIVACY_CONSENT_SUCCESS="@user/FETCH_PRIVACY_CONSENT_SUCCESS",e.FETCH_PRIVACY_CONSENT_ERROR="@user/FETCH_PRIVACY_CONSENT_ERROR",e.FETCH_FAMILY_INFO="@user/FETCH_FAMILY_INFO",e.FETCH_FAMILY_INFO_SUCCESS="@user/FETCH_FAMILY_INFO_SUCCESS",e.FETCH_FAMILY_INFO_ERROR="@user/FETCH_FAMILY_INFO_ERROR",e.SUBMIT_CONSENT="@user/SUBMIT_CONSENT",e.SUBMIT_CONSENT_SUCCESS="@user/SUBMIT_CONSENT_SUCCESS",e.SUBMIT_CONSENT_ERROR="@user/SUBMIT_CONSENT_ERROR",e.FETCH_CONTACT_PREFERENCES="@user/FETCH_CONTACT_PREFERENCES",e.FETCH_CONTACT_PREFERENCES_SUCCESS="@user/FETCH_CONTACT_PREFERENCES_SUCCESS",e.FETCH_CONTACT_PREFERENCES_ERROR="@user/FETCH_CONTACT_PREFERENCES_ERROR",e.SUBMIT_CONTACT_PREFERENCES="@user/SUBMIT_CONTACT_PREFERENCES",e.SUBMIT_CONTACT_PREFERENCES_SUCCESS="@user/SUBMIT_CONTACT_PREFERENCES_SUCCESS",e.SUBMIT_CONTACT_PREFERENCES_ERROR="@user/SUBMIT_CONTACT_PREFERENCES_ERROR",e.SET_GAMER_PIC_URL="@user/SET_GAMER_PIC_URL"}(i||(i={}));const s={setUserInfo:(0,r.PHw)(i.SET_USER_INFO,o.OZ,a,((e,t)=>({isSignedIn:e,args:t}))),resetUserInfo:(0,r.PHw)(i.RESET_USER_INFO,o.OZ,a,(()=>({}))),updateAadUser:(0,r.PHw)(i.UPDATE_AAD_USER,o.OZ,a,((e,t)=>({aadUser:e,aadAccessToken:t}))),fetchAgeGatingInfo:(0,r.FZu)(o.OZ,a,i.FETCH_AGE_GATING_INFO,(e=>({type:i.FETCH_AGE_GATING_INFO,xuid:e})),i.UPDATE_USER_AGE_GATING_INFO,((e,t)=>({type:i.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t})),i.FETCH_AGE_GATING_INFO_ERROR,(e=>({type:i.FETCH_AGE_GATING_INFO_ERROR,error:e}))),updateUserAgeGatingInfo:(0,r.PHw)(i.UPDATE_USER_AGE_GATING_INFO,o.OZ,a,((e,t)=>({type:i.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t}))),fetchFamilyInfo:(0,r.FZu)(o.OZ,a,i.FETCH_FAMILY_INFO,(()=>({type:i.FETCH_FAMILY_INFO})),i.FETCH_FAMILY_INFO_SUCCESS,(e=>({type:i.FETCH_FAMILY_INFO_SUCCESS,familyData:e})),i.FETCH_FAMILY_INFO_ERROR,(e=>({type:i.FETCH_FAMILY_INFO_ERROR,error:e}))),fetchPrivacyConsentUiDetails:(0,r.FZu)(o.OZ,a,i.FETCH_PRIVACY_CONSENT_UI_DETAILS,(e=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS,consentSurface:e})),i.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,((e,t)=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,privacyConsentUiDetails:e,consentSurface:t})),i.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,((e,t)=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,error:e,consentSurface:t}))),fetchPrivacyConsent:(0,r.FZu)(o.OZ,a,i.FETCH_PRIVACY_CONSENT,(e=>({type:i.FETCH_PRIVACY_CONSENT,shouldSendSnapshot:e})),i.FETCH_PRIVACY_CONSENT_SUCCESS,(e=>({type:i.FETCH_PRIVACY_CONSENT_SUCCESS,privacyConsent:e})),i.FETCH_PRIVACY_CONSENT_ERROR,(e=>({type:i.FETCH_PRIVACY_CONSENT_ERROR,error:e}))),submitConsent:(0,r.FZu)(o.OZ,a,i.SUBMIT_CONSENT,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:i.SUBMIT_CONSENT,id:t,values:n,modelType:r,consentSurface:o}}),i.SUBMIT_CONSENT_SUCCESS,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:i.SUBMIT_CONSENT_SUCCESS,id:t,values:n,modelType:r,consentSurface:o}}),i.SUBMIT_CONSENT_ERROR,((e,t)=>({type:i.SUBMIT_CONSENT_ERROR,error:e,modelType:t}))),fetchContactPreferences:(0,r.FZu)(o.OZ,a,i.FETCH_CONTACT_PREFERENCES,(()=>({type:i.FETCH_CONTACT_PREFERENCES})),i.FETCH_CONTACT_PREFERENCES_SUCCESS,(e=>({type:i.FETCH_CONTACT_PREFERENCES_SUCCESS,contactPreferences:e})),i.FETCH_CONTACT_PREFERENCES_ERROR,(e=>({type:i.FETCH_CONTACT_PREFERENCES_ERROR,error:e}))),submitContactPreferences:(0,r.FZu)(o.OZ,a,i.SUBMIT_CONTACT_PREFERENCES,((e,t,n)=>({type:i.SUBMIT_CONTACT_PREFERENCES,contactPreferences:e,onSuccess:t,onFailure:n})),i.SUBMIT_CONTACT_PREFERENCES_SUCCESS,(()=>({type:i.SUBMIT_CONTACT_PREFERENCES_SUCCESS})),i.SUBMIT_CONTACT_PREFERENCES_ERROR,(e=>({type:i.SUBMIT_CONTACT_PREFERENCES_ERROR,error:e}))),setGamerPicUrl:(0,r.PHw)(i.SET_GAMER_PIC_URL,o.OZ,a,(e=>({type:i.SET_GAMER_PIC_URL,gamerPicUrl:e})))}},438205:(e,t,n)=>{"use strict";n.d(t,{EJ:()=>r.E,R6:()=>U,nY:()=>_,Vm:()=>L,oE:()=>R,Fu:()=>P,Eo:()=>x,bV:()=>M,oI:()=>C,yB:()=>v,Yd:()=>w,bn:()=>T,PY:()=>O,CZ:()=>k,bt:()=>A,R8:()=>b,CG:()=>p,gV:()=>f,ng:()=>g,rb:()=>m,by:()=>S,bG:()=>u,c1:()=>d,V_:()=>c,NA:()=>h,mh:()=>E,t_:()=>y,hI:()=>r.h,M3:()=>o.M3});var r=n(439002),o=n(212919),a=n(20608),i=(n(571372),n(231235),n(748166),n(474407),n(426464),n(945162),n(264903),n(906886),n(821883)),s=n(597698),l=n(444080);const c=e=>e.user,u=e=>c(e).userInfo,d=e=>c(e).userInfoOverride,h=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.xuid},m=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.gamerTag},p=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.ageGroup},g=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.firstName},f=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.email},v=e=>c(e).isSignedIn,_=(0,s.createSelector)(c,(e=>({aadUser:e.aadUser,accessToken:e.aadAccessToken||"",refreshToken:e.aadRefreshToken||""}))),y=e=>c(e).xTokenOverride,b=e=>c(e).userAgeGatingInfo,C=e=>c(e).isDefaultUserAgeGatingInfo,E=e=>{const{aadUser:t}=_(e),n=null===t||void 0===t?void 0:t.name,r=(null===t||void 0===t?void 0:t.exp)&&t.exp>Math.round(Date.now()/1e3)+60;return!!n&&!!r},S=(e,t)=>{var n,r;return null===(r=null===(n=c(e).userInfo)||void 0===n?void 0:n.privileges)||void 0===r?void 0:r.includes(t)},T=(0,s.createSelector)([e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsentUiDetails},(e,t)=>t],((e,t)=>{switch(t){case l.ConsentSurface.WebStart:return e.webStart;case l.ConsentSurface.Backstage2:return e.backStage2;case l.ConsentSurface.SISU:return e.sisu;default:throw new Error("Invalid consent surface")}})),w=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsent},I=(e,t)=>{var n,r,o;const a=T(e,l.ConsentSurface.Backstage2);if((0,i.isContent)(a)){const s=a.data.find((e=>e.modelType===t));if(s){const t=w(e);if((0,i.isContent)(t)){const e=t.data.find((e=>e.id===s.id)),a=null!==(o=null===(r=null===(n=null===e||void 0===e?void 0:e.values)||void 0===n?void 0:n[0])||void 0===r?void 0:r.value)&&void 0!==o?o:"optOut"===s.consentType||"unknown"===s.consentType;return{ucsUiDetails:s,initialValue:a}}}}return{ucsUiDetails:null,initialValue:!1}},k=e=>I(e,l.ModelType.XboxOptionalDataCollection),A=e=>I(e,l.ModelType.XboxPersonalizedPurchaseUpsell),P=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didOptionalPrivacyConsentSubmissionSucceed},x=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didPersonalizedPrivacyConsentSubmissionSucceed},R=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didFinPartnerSharingConsentSubmissionSucceed},N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{var n,r,o,a;const s=null!==(r=null===(n=(0,i.getContentOrPrevious)(e))||void 0===n?void 0:n.lastFetchedMS)&&void 0!==r?r:0;return(null!==(a=null===(o=(0,i.getContentOrPrevious)(t))||void 0===o?void 0:o.lastFetchedMS)&&void 0!==a?a:0)>s?t:e}))},O=(0,s.createSelector)([e=>T(e,l.ConsentSurface.WebStart),e=>T(e,l.ConsentSurface.Backstage2),e=>T(e,l.ConsentSurface.SISU),w,P,x],((e,t,n,r,o,a)=>{let s=null,c=null;if((0,i.isError)(o)&&(s=o),(0,i.isError)(a)&&(c=a),s||c){const e=(null===s||void 0===s?void 0:s.error)||(null===c||void 0===c?void 0:c.error);if(e)return(0,i.lceError)(e)}const u=N(e,t,n),d=N(u,r);return(0,i.isContent)(u)&&(0,i.isFetching)(r)?(0,i.lceTransform)(u,l.transformConsentValuesToSimplifiedConsentValues):(0,i.isContent)(r)&&(0,i.isFetching)(u)||(0,i.isFetching)(r)?(0,i.lceTransform)(r,l.transformConsentValuesToSimplifiedConsentValues):(0,i.isFetching)(u)?(0,i.lceTransform)(u,l.transformConsentValuesToSimplifiedConsentValues):d!==i.LCE_NOT_REQUESTED?(0,i.lceTransform)(d,l.transformConsentValuesToSimplifiedConsentValues):i.LCE_NOT_REQUESTED})),L=e=>c(e).contactPreferences,M=e=>c(e).familyInfo;function*U(){const e=yield(0,a.select)(c);return{isMandatory:!1,aadToken:(null===e||void 0===e?void 0:e.aadAccessToken)||""}}},276474:(e,t,n)=>{"use strict";n.d(t,{IL:()=>a,ey:()=>s,oE:()=>o,p5:()=>l});n(9e4),n(426464),n(18339);let r=[];const o=e=>{r=e};function a(){return r}let i=[];const s=e=>i=e.filter(((e,t,n)=>n.indexOf(e)===t)),l=()=>i},22373:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(830195);const o=r.z.union([r.z.string(),r.z.number(),r.z.boolean(),r.z.null()]),a=r.z.lazy((()=>r.z.union([o,r.z.array(a),r.z.record(a)]))),i=r.z.string().transform(((e,t)=>{try{return JSON.parse(e)}catch(n){return t.addIssue({code:"custom",message:"Invalid JSON"}),r.z.NEVER}}))},892938:(e,t,n)=>{"use strict";n.d(t,{Hz:()=>r,cU:()=>d,kW:()=>s,n3:()=>u,ti:()=>h});var r,o=n(900814),a=n.n(o),i=n(830195);!function(e){e.XToken="XToken",e.UserToken="UserToken"}(r||(r={}));const s=i.z.object({Token:i.z.string(),NotAfter:i.z.coerce.date(),IssueInstant:i.z.coerce.date(),DisplayClaims:i.z.object({xui:i.z.array(i.z.object({uhs:i.z.string().optional(),gtg:i.z.string().optional(),mgt:i.z.string().optional(),mgs:i.z.string().optional(),umg:i.z.string().optional(),xid:i.z.string().optional(),agg:i.z.string().optional(),prv:i.z.string().optional(),usr:i.z.string().optional(),uer:i.z.string().optional(),utr:i.z.string().optional()})).optional()}).optional()}).transform(((e,t)=>{const n=6e5,r=e.NotAfter.getTime()-e.IssueInstant.getTime();let o;return o=r<=n?new Date(Date.now()+r):new Date(Date.now()+r-n),Date.now()>=o.getTime()?(t.addIssue({code:i.z.ZodIssueCode.custom,message:"Token is already expired"}),i.z.NEVER):a()(a()({},e),{},{ExpiresAt:o})})),l=i.z.object({token:i.z.string(),expiration:i.z.coerce.date(),issueInstant:i.z.coerce.date().optional(),userHash:i.z.string().optional(),userGamertag:i.z.string().optional(),userModernGamertag:i.z.string().optional(),userModernGamertagSuffix:i.z.string().optional(),userUniqueModernGamertag:i.z.string().optional(),userXuid:i.z.string().optional(),userAgeGroup:i.z.string().optional(),userPrivileges:i.z.string().optional(),userSettingsRestrictions:i.z.string().optional(),userEnforcementRestrictions:i.z.string().optional(),userTitleRestrictions:i.z.string().optional()}),c=i.z.object({userId:i.z.string().optional(),identityType:i.z.nativeEnum(r),relyingParty:i.z.string(),tokenData:l,sandboxId:i.z.string()}),u=(c.omit({relyingParty:!0}).merge(i.z.object({tokenData:l.refine((e=>e.expiration.getTime()>Date.now()),(e=>({message:`Token is expired - [expiration:${e.expiration} currentTime:${Date.now()} msSinceExpiration:${Date.now()-e.expiration.getTime()}]`})))})),i.z.object({tokens:i.z.array(c)})),d=i.z.object({XErr:i.z.number()}),h=i.z.object({token:i.z.string(),userHash:i.z.string()})},696732:(e,t,n)=>{"use strict";n.d(t,{p:()=>u,X:()=>d});var r=n(900814),o=n.n(r),a=(n(606710),n(464925),n(654819),n(906886),n(248448)),i=n(892938),s=n(22373),l=n(467498),c=(n(136728),n(34715),n(426464),n(319570),n(821883));n(888233),n(567526),n(886668),n(33354),n(325870),n(210930),n(240574),n(194116),n(543267),n(574614),n(619852),n(144306),n(626077),n(971072),n(450183);class u extends class{constructor(e){this.cache=new Map,this.logger=e.logger,this.userId=e.userId}set(e,t){this.cache.set(this.getCacheKey(e),t)}delete(e){this.cache.delete(this.getCacheKey(e))}clear(){this.cache.clear()}getCacheKey(e){return`${this.userId}.${e.identityType.toString()}.${e.relyingParty}`}}{getTokenLCE(e){const t=this.getCacheKey(e),n=this.cache.get(t);return n?(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache hit: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),n):(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache miss: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),c.LCE_NOT_REQUESTED)}getAllValidTokens(){const e=[];return this.cache.forEach((t=>{const n=(0,c.getUnexpiredDataOrPrevious)(t);n&&e.push(n)})),e}getAllLceTokens(){return Array.from(this.cache.values())}clearAllTokens(){this.logger.verbose(`[InMemoryXboxTokenCache] - Clearing tokens for user: [userId:${this.userId}]`),this.clear(),this.logger.verbose(`[InMemoryXboxTokenCache] - Cleared tokens for user: [userId:${this.userId}]`)}writeToken(e){const t=e.tokenData.expiration.getTime()-Date.now();this.set(e,(0,c.lceContent)(e,t)),this.logger.verbose(`[InMemoryXboxTokenCache] - Token successfully written to cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsFetching(e){this.set(e,(0,c.lceFetching)(this.getTokenLCE(e))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceFetching in cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsError(e,t){this.set(t,(0,c.lceError)(e,this.getTokenLCE(t))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceError in cache: [identityType:${t.identityType} relyingParty:${t.relyingParty}]`)}}class d extends u{constructor(e){super(e),this.storage=e.storage,this.eventManager=e.eventManager,this.persistKey=`Auth.User.${e.userId}`;const t=this.storage.getItem(this.persistKey);if(!t)return void this.logger.verbose(`[PersistedXboxTokenCache] - No existing serialized tokens found in storage [persistKey:${this.persistKey}]`);const n=this.deserializeMultiTokenBlob(t);this.logger.verbose(`[PersistedXboxTokenCache] - Successfully deserialized tokens from storage [tokenCount:${n.length} persistKey:${this.persistKey}]`);for(const r of n)super.writeToken(r)}writeToken(e){super.writeToken(e);const t=this.getAllValidTokens(),n=this.serializeMultiTokenBlob(t);this.storage.setItem(this.persistKey,JSON.stringify(n)),this.logger.verbose("[PersistedXboxTokenCache] - Xbox token successfully written to storage.")}clearAllTokens(){this.storage.removeItem(this.persistKey),super.clearAllTokens(),this.logger.verbose(`[PersistedXboxTokenCache] - Cleared tokens for user [persistKey:${this.persistKey}].`)}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}set(e,t){super.set(e,t),this.eventManager.dispatchEvent(new l.bK(e))}delete(e){super.delete(e),this.eventManager.dispatchEvent(new l.bK(e))}serializeMultiTokenBlob(e){return{tokens:e.map((e=>e.serialize()))}}deserializeMultiTokenBlob(e){return s.D.pipe(i.n3).parse(e).tokens.map((e=>new a.I(o()(o()({},e),{},{userId:this.userId}))))}}},321672:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});n(906886);var r=n(24308),o=n(43485);class a{constructor(e){var t;if(this.id=e.id,this._sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:o.Q,this.xboxTokenCache=e.xboxTokenCache,e.initialXboxTokens)for(const n of e.initialXboxTokens)this.xboxTokenCache.writeToken(n)}get sandboxId(){return this._sandboxId}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:r.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}updateSandboxId(e){this._sandboxId=e}}a.fallbackUserId="__no-msa-home-account-id__"},567907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(451098);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return r.ValidationError}});var o=n(34422);Object.defineProperty(t,"orDefault",{enumerable:!0,get:function(){return o.orDefault}});var a=n(469121);Object.defineProperty(t,"asError",{enumerable:!0,get:function(){return a.asError}}),Object.defineProperty(t,"toError",{enumerable:!0,get:function(){return a.toError}});var i=n(838726);Object.defineProperty(t,"asBool",{enumerable:!0,get:function(){return i.asBool}}),Object.defineProperty(t,"asOptionalBool",{enumerable:!0,get:function(){return i.asOptionalBool}}),Object.defineProperty(t,"asNumber",{enumerable:!0,get:function(){return i.asNumber}}),Object.defineProperty(t,"asOptionalNumber",{enumerable:!0,get:function(){return i.asOptionalNumber}}),Object.defineProperty(t,"asString",{enumerable:!0,get:function(){return i.asString}}),Object.defineProperty(t,"asOptionalString",{enumerable:!0,get:function(){return i.asOptionalString}}),Object.defineProperty(t,"asDate",{enumerable:!0,get:function(){return i.asDate}}),Object.defineProperty(t,"asOptionalDate",{enumerable:!0,get:function(){return i.asOptionalDate}}),Object.defineProperty(t,"asArray",{enumerable:!0,get:function(){return i.asArray}}),Object.defineProperty(t,"asCompactArray",{enumerable:!0,get:function(){return i.asCompactArray}}),Object.defineProperty(t,"asOptionalArray",{enumerable:!0,get:function(){return i.asOptionalArray}}),Object.defineProperty(t,"asOptionalCompactArray",{enumerable:!0,get:function(){return i.asOptionalCompactArray}}),Object.defineProperty(t,"asObject",{enumerable:!0,get:function(){return i.asObject}}),Object.defineProperty(t,"asOptionalObject",{enumerable:!0,get:function(){return i.asOptionalObject}}),Object.defineProperty(t,"asObjectWithSchema",{enumerable:!0,get:function(){return i.asObjectWithSchema}}),Object.defineProperty(t,"asOptionalObjectWithSchema",{enumerable:!0,get:function(){return i.asOptionalObjectWithSchema}});var s=n(181479);Object.defineProperty(t,"EnumMatchBehavior",{enumerable:!0,get:function(){return s.EnumMatchBehavior}}),Object.defineProperty(t,"createStringEnumMatcher",{enumerable:!0,get:function(){return s.createStringEnumMatcher}}),Object.defineProperty(t,"createStringUnionMatcher",{enumerable:!0,get:function(){return s.createStringUnionMatcher}})},361030:(e,t,n)=>{"use strict";n.d(t,{gI:()=>o,UD:()=>l,po:()=>u,y_:()=>c,iV:()=>a,NE:()=>s,QF:()=>i});n(73439),n(906886);var r=n(316216);const o=async e=>{let t;try{t="en-US"===e.localeWithScript?(await n.e(38705).then(n.bind(n,749072))).default:(await n(420518)(`./strings.${e.localeWithScript}.resjson`)).default}catch(o){try{let o=e.language;e.script&&(o=(0,r.yuW)(e.language,e.script)),t=(await n(420518)(`./strings.${o}.resjson`)).default}catch(a){if(e.script)try{t=(await n(420518)(`./strings.${e.language}.resjson`)).default}catch(i){t=(await n.e(38705).then(n.bind(n,749072))).default}else t=(await n.e(38705).then(n.bind(n,749072))).default}}return t},a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return(0,r.iNM)(e,"baseStrings",...n)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.WD1)("baseStrings",...t)},s=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return(0,r.Fsx)("baseStrings",e,t,...o)};function l(e,t){return(0,r.FL2)("baseStrings",e,t)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.s8U)("baseStrings",...t)}function u(e){return(0,r.XY5)("baseStrings",e)}},416109:(e,t,n)=>{"use strict";n.d(t,{So:()=>g});var r=n(316216);const o="Entitlement";var a=n(900814),i=n.n(a),s=(n(474407),n(426464),n(264903),n(821883));const l={};n(571372);var c=n(122799),u=n(171315),d=n(703380),h=n(387342),m=n(20608);function p(e){const t=function(e){return function*(t){const{productIds:n}=t;if(0!==n.length)try{if(!(yield(0,m.select)(u.yB))){const t=new Error("Cannot fetch bulk entitlements for an anonymous user");return void(yield(0,m.put)(e.fetchEntitlements.error(n,t)))}const t=yield(0,m.select)(r.yWe),o=yield(0,h.Si)(),a=yield(0,u.le)(),i=yield(0,m.call)(r.gjf),s=yield(0,m.call)(u.R6),l={dependencyName:h.JS.EmeraldXbetService,dependencyOperationName:"GetBulkEntitlements"},c={addAuthorization:!0,isRequired:!0},p=yield(0,m.select)(r.$Pr,r.vCX.StagingFD),g=yield(0,m.call)(d.M3,(e=>e.post("entitlements/bulk",{ProductIds:n},{params:{locale:t.localeWithScript}})),o,i,l,p,{authConfig:c,authenticationProvider:a,aadAuthConfig:s});if(!(0,r.hAT)(g.status))throw new Error(g.statusText);yield(0,m.put)(e.fetchEntitlements.success(n,g.data.entitlements))}catch(o){const t=(0,c.toError)(o);yield(0,m.put)(e.fetchEntitlements.error(n,t))}else yield(0,m.put)(e.fetchEntitlements.success(n,{}))}}(e);return function*(){yield(0,m.takeEvery)((0,r.UoI)(e.fetchEntitlements.start),t)}}function g(e,t){const n=function(e){return{updateEntitlements:(0,r.PHw)("@entitlement/UPDATE_ENTITLEMENTS",o,e,(e=>({entitlements:e}))),fetchEntitlements:(0,r.LG0)(o,e,"@entitlement/FETCH_ENTITLEMENTS",(e=>({productIds:e})),((e,t)=>({productIds:e,response:t})),((e,t)=>({productIds:e,error:t})))}}(e),a=function(e){return(0,r.$ex)([o],new r.h7h(l).on(e.updateEntitlements,(function(e,t){return t.entitlements.length?t.entitlements.reduce(((e,t)=>(t&&(e[(0,r.Lx9)(t.productId)]=(0,s.lceContent)(t)),e)),i()({},e)):e})).on(e.fetchEntitlements.start,(function(e,t){return t.productIds.reduce(((t,n)=>{const o=(0,r.Lx9)(n),a=e[o];return t[o]=(0,s.lceFetching)(a),t}),i()({},e))})).on(e.fetchEntitlements.success,(function(e,t){return t.productIds.reduce(((e,n)=>{const o=(0,r.Lx9)(n);return e[o]=(0,s.lceContent)(t.response[o]||null),e}),i()({},e))})).on(e.fetchEntitlements.error,(function(e,t){return t.productIds.reduce(((n,o)=>{const a=(0,r.Lx9)(o),i=e[a];return n[a]=(0,s.lceError)(t.error,i),n}),i()({},e))})).build())}(n),c=p(n),u=function(e){const t=(t,n)=>e(t)[(0,r.Lx9)(n)]||(0,s.lceNotRequested)();return{getEntitlementByProductId:t,getOwnershipOrSatisfactionByProductId:(e,n)=>{const r=t(e,n);return(0,s.lceTransform)(r,(e=>!!e&&(e.isOwned||e.isSatisfyingEntitlement)))}}}(t);return{entitlementActions:n,entitlementReducer:a,entitlementSagas:c,entitlementSelectors:u}}},175500:(e,t,n)=>{"use strict";n.d(t,{vA:()=>E,Pd:()=>c,Wd:()=>h,uw:()=>m,Bs:()=>p,Qz:()=>b,Ce:()=>S,H0:()=>_,Vb:()=>L,m1:()=>M,mZ:()=>T,Nd:()=>C});var r;!function(e){e.Addons="addons",e.Docs="docs",e.Games="games",e.Hardware="hardware",e.Passes="passes",e.General="general"}(r||(r={}));var o=n(900814),a=n.n(o),i=(n(136728),n(443430),n(477950),n(74069),n(344112),n(464925),n(474407),n(426464),n(654819),n(264903),n(906886),n(316216)),s=n(387342),l=n(612502);const c=(e,t)=>{const n=`_CHANNELID=${t}`,r=`_FILTERS=${g(e)}`;return(0,i.kgH)(`${s.uZ.Browse.toUpperCase()}${n}${r}`)},u=/_CHANNELID=(.*?)_FILTERS=/i,d=e=>{var t,n;return(0,i.kgH)(e).startsWith("BROWSE_")&&null!==(n=null===(t=e.match(u))||void 0===t?void 0:t[1])&&void 0!==n?n:e},h=(e,t,n)=>`${s.uZ.Search}_${t}_SEARCHQUERY=${n.split(" ").join("-")}_${g(e)}`.toUpperCase(),m=(e,t)=>Object.keys(r).reduce(((n,o)=>a()(a()({},n),{},{[r[o]]:h(t,o,e)})),{}),p=e=>h({},"PROMO",e),g=e=>f(e).sort().join("&"),f=e=>{const t=[];for(const[n,r]of Object.entries(e))0!==r.length&&t.push(`${n.toUpperCase()}=${v(r)}`);return t},v=e=>e.map((e=>e.toUpperCase())).sort().join(","),_=e=>{let t="";if(!e||0===e.length)return t;switch(e[0]){case l.Zr.Consumable:case l.Zr.Durable:t="AddOnsByParentWithDetails"}return t};n(888233),n(214121),n(460523);var y=n(474495);const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return new URL(`${t}/games/browse/${n}`,e).toString()},C=e=>{const t=(0,y.useSelector)(i.Yzi);return(0,i.uQr)(i.VYl,{locale:t,collection:e})};var E;n(9e4),n(34715),n(18339),n(319570);!function(e){e.Accessibility="Accessibility",e.Genre="Genre",e.MaturityRating="MaturityRating",e.Multiplayer="Multiplayer",e.OrderBy="orderby",e.PlayWith="PlayWith",e.Price="Price",e.SupportedLanguages="SupportedLanguages",e.TechnicalFeatures="TechnicalFeatures",e.IncludedInSubscription="IncludedInSubscription"}(E||(E={}));const S=e=>{const t={};return Object.values(E).forEach((n=>{var r;const o=(null===(r=e.get(n))||void 0===r?void 0:r.split(",").filter((e=>""!==e.trim())))||[];o.length>0&&(t[n]={id:n,choices:o.map((e=>({id:e})))})})),t},T=e=>e?e.substring(0,100).trim():"";var w=n(361030);const I=e=>`channelsTitle_${e}`;n(200634);var k,A=n(821883),P=n(612928);!function(e){e.Channels="Channels",e.Filters="Filters"}(k||(k={}));const x={channelData:{},channelMetadata:{}};var R,N;!function(e){e.FETCHING_INITIAL_CHANNELS_DATA="@channels/FETCHING_INITIAL_CHANNELS_DATA",e.FETCH_CHANNEL="@channels/FETCH_CHANNEL"}(R||(R={})),function(e){e.FETCH_FILTERS="@filters/FETCH_FILTERS"}(N||(N={}));const O={};function L(e,t){const n=function(e){return{startFetchingChannels:(0,i.PHw)(R.FETCHING_INITIAL_CHANNELS_DATA,"Channels",e,((e,t)=>({channelKeys:e,channelIds:t}))),fetchChannel:(0,i.LG0)("Channels",e,R.FETCH_CHANNEL,((e,t,n,r,o,a)=>({channelKey:e,encodedFilters:t,requestPath:n,encodedCT:r,query:o,channelId:a})),((e,t)=>({channels:e,isLoadMore:t})),((e,t)=>({error:e,channelKey:t})))}}(e),r=(o=n,(0,P.$e)([k.Channels],new P.h7(x).on(o.startFetchingChannels,(function(e,t){const n=t.channelKeys;if(!n.length)return e;let r=e.channelMetadata;return t.channelIds&&(r=t.channelIds.reduce(((t,n)=>{const r=(0,i.kgH)(n),o=e.channelMetadata[r];return o&&!(0,A.isError)(o)||(t[r]=(0,A.lceFetching)()),t}),a()({},e.channelMetadata))),{channelData:n.reduce(((t,n)=>{const r=(0,i.kgH)(n);return t[r]=(0,A.lceFetching)(e.channelData[r]),t}),a()({},e.channelData)),channelMetadata:r}})).on(o.fetchChannel.start,(function(e,t){const n=t.channelKey;if(!n)return e;let r=a()({},e.channelMetadata);const o=(0,i.kgH)(t.channelId);return o&&!e.channelMetadata[o]&&(r=a()(a()({},e.channelMetadata),{},{[o]:(0,A.lceFetching)()})),{channelData:a()(a()({},e.channelData),{},{[(0,i.kgH)(n)]:(0,A.lceFetching)(e.channelData[(0,i.kgH)(n)])}),channelMetadata:r}})).on(o.fetchChannel.success,(function(e,t){const n=Object.keys(t.channels);if(!n.length)return e;let r=e.channelMetadata;return t.isLoadMore||(r=n.reduce(((e,n)=>{const r=(0,i.kgH)(d(n)),o=t.channels[n];return e[r]=(0,A.lceContent)({channelTitleModuleData:{title:o.title,backgroundColor:o.backgroundColor,description:o.description,footer:o.footer,foregroundColor:o.foregroundColor,imageUrl:o.imageUrl,link:o.link,subHeader:o.subHeader},isFilterable:o.isFilterable,vanityName:o.vanityName,channelName:o.channelName,channelLocalizationKey:o.channelKey}),e}),a()({},e.channelMetadata))),{channelData:n.reduce(((n,r)=>{const o=(0,i.kgH)(r),a=t.channels[r];if(t.isLoadMore){const t=(0,A.getDataOrPrevious)(e.channelData[o]);t&&(n[o]=(0,A.lceContent)({encodedCT:a.encodedCT,totalItems:a.totalItems,products:[...t.products,...a.products]}))}else n[o]=(0,A.lceContent)({products:a.products,encodedCT:a.encodedCT,totalItems:a.totalItems});return n}),a()({},e.channelData)),channelMetadata:r}})).on(o.fetchChannel.error,(function(e,t){return t.channelKey?{channelData:a()(a()({},e.channelData),{},{[(0,i.kgH)(t.channelKey)]:(0,A.lceError)(t.error,e.channelData[(0,i.kgH)(t.channelKey)])}),channelMetadata:a()({},e.channelMetadata)}:e})).build()));var o;const s=function(e){const t=(t,n)=>{const r=(0,i.kgH)(n);return(0,A.getDataOrPrevious)(e(t).channelData[r])},n=(t,n)=>{const r=(0,i.kgH)(n);return(0,A.getDataOrPrevious)(e(t).channelMetadata[r])},r=(t,n)=>{const r=(0,i.kgH)(n);return e(t).channelData[r]||(0,A.lceNotRequested)()};return{getChannelByChannelKey:t,getChannelMetadata:n,getLCEChannelByChannelKey:r,getLibraryLCEChannel:e=>r(e,"LIBRARY"),getChannelProductIdentifiersByChannelProductKey:(e,n)=>{const r=t(e,n);return r?r.products.map((e=>({productId:e.productId,skuId:e.skuId||"",availabilityId:""}))):[]},getChannelName:(e,t)=>{const r=d(t),o=n(e,r);return(null===o||void 0===o?void 0:o.channelName)||""},getChannelLocalizationKey:(e,t)=>{const r=n(e,t);return(null===r||void 0===r?void 0:r.channelLocalizationKey)||""},getChannelMetadataLCEByChannelId:(t,n)=>e(t).channelMetadata[(0,i.kgH)(n)]||(0,A.lceNotRequested)(),getChannelVanityName:(e,t)=>{const r=n(e,t);return null===r||void 0===r?void 0:r.vanityName}}}(t);var l;return{channelsActions:n,channelsReducers:r,channelsSelectors:s,channelsHooks:(l=s,{useChannelName:function(e,t){const{getChannelName:n,getChannelLocalizationKey:r}=l,o=(0,y.useSelector)((t=>r(t,e))),a=I(o),i=(0,y.useSelector)((t=>n(t,e))),s=(0,w.NE)(a,i);return t||s}})}}function M(e,t){const n=function(e){return{fetchFiltersResults:(0,i.LG0)("Filters",e,N.FETCH_FILTERS,(e=>({filterKey:e})),(e=>({data:e})),((e,t)=>({error:e,filterKey:t})))}}(e),r=(o=n,(0,i.$ex)([k.Filters],new i.h7h(O).on(o.fetchFiltersResults.start,(function(e,t){const n=t.filterKey;return n?a()(a()({},e),{},{[n]:(0,A.lceFetching)(e[n])}):e})).on(o.fetchFiltersResults.success,(function(e,t){if(!t.data)return e;const n={};for(const[r,o]of Object.entries(t.data))n[r]=(0,A.lceContent)(o);return a()(a()({},e),n)})).on(o.fetchFiltersResults.error,(function(e,t){if(t.filterKey){const n=t.filterKey;return a()(a()({},e),{},{[n]:(0,A.lceError)(t.error,e[n])})}return e})).build()));var o;const s=function(e){const t=(t,n)=>e(t)[n]||(0,A.lceNotRequested)();return{getFilters:t,getSortInfo:(e,n)=>{const r=(0,A.getDataOrPrevious)(t(e,n));return null===r||void 0===r?void 0:r[E.OrderBy]}}}(t);return{filtersActions:n,filtersReducers:r,filtersSelectors:s}}},235609:(e,t,n)=>{"use strict";n.d(t,{C6:()=>r,F8:()=>i,J2:()=>c,Rc:()=>l,a8:()=>s,sJ:()=>a,yf:()=>o});const r="https://emerald.xboxservices.com/xboxcomfd",o="https://emerald-staging.xboxservices.com/xboxcomfd",a="https://cart.production.store-web.dynamics.com/v1.0",i="https://cem.services.microsoft.com/v1",s="https://accounts.xboxlive.com",l="https://displaycatalog.mp.microsoft.com/v7.0",c="https://sisu.xboxlive.com"},114501:(e,t,n)=>{"use strict";var r;n.d(t,{z:()=>r}),function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.CartSessionId="x-ms-ucs-sid",e.ContentLength="Content-Length",e.ContinuationToken="x-ms-ct",e.Forwarded="Forwarded",e.ForwardedFor="X-Forwarded-For",e.MsApiVersion="X-MS-API-Version",e.MuidAuthorization="x-authorization-muid",e.TrueClientIp="True-Client-IP",e.UserAgent="User-Agent",e.XblContractVersion="X-XBL-Contract-Version",e.XblExperiments="xbl-experiments",e.XUserAgent="X-User-Agent",e.ValidationField="x-validation-field-1",e.VectorId="X-MS-Vector-Id"}(r||(r={}))},68833:(e,t,n)=>{"use strict";n.d(t,{zF:()=>a.z,WE:()=>i.W,cG:()=>r,nV:()=>s,F8:()=>o.F8,Rc:()=>o.Rc,J2:()=>o.J2,sJ:()=>o.sJ,C6:()=>o.C6,yf:()=>o.yf,a8:()=>o.a8,YK:()=>l.YK,Wr:()=>l.Wr,S8:()=>l.S8,HN:()=>l.HN});var r,o=n(235609),a=n(114501),i=n(839683);n(395682),n(521045),n(17244),n(342068),n(475519),n(839432),n(173574),n(233619),n(753862),n(226881),n(35359),n(98208),n(913608),n(875676),n(305993),n(874456),n(906886);!function(e){e.SetSwitch="setSwitch",e.SetGateValue="setGateValue",e.ThemeOverride="th"}(r||(r={}));const s={allowDurablesAndConsumables:"allowDurablesAndConsumables",billingMarket:"billingMarket",buddyPassOfferId:"offerId",cId:"cId",campaignId:"campaignId",concernCategory:"concernCategory",deviceFamily:"deviceFamily",enableFullDetail:"enableFullDetail",filters:"filters",giftingString:"giftingString",isHelpful:"isHelpful",isPreview:"isPreview",itemCount:"itemCount",itemType:"itemType",locale:"locale",ocid:"ocid",orderBy:"orderBy",orderIds:"orderIds",pageNumber:"pageNumber",PartnerId:"partnerid",paymentInstrumentId:"paymentInstrumentId",productId:"productId",realReturnUrl:"rrurl",referringProductId:"rpid",resultsPerPage:"resultsPerPage",returnFilters:"returnFilters",reviewEntity:"reviewEntity",searchQuery:"q",serviceSearchQuery:"query",starFilter:"starFilter",status:"status",xboxcomApplyStatus:"xboxcomapplystatus",useNewXSearchAlgorithm:"useNewXSearchAlgorithm",xStoreScenario:"xs",consoleApplySessionId:"consoleApplySessionId",channelName:"channelName",referrerId:"referrerId",isConsoleWebView:"isConsoleWebView",gamerTag:"gt",clientType:"clientType"};new Set([r.SetSwitch.toLowerCase(),r.ThemeOverride.toLowerCase()]);var l=n(917063)},917063:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,S8:()=>a,Wr:()=>o,YK:()=>r});const r=0,o=7500,a=5e3,i=5e3},703380:(e,t,n)=>{"use strict";n.d(t,{zF:()=>r.zF,WE:()=>r.WE,cG:()=>r.cG,nV:()=>r.nV,C:()=>s,C6:()=>r.C6,yf:()=>r.yf,JF:()=>w,S:()=>S,Z0:()=>T,rR:()=>P,dx:()=>x,up:()=>f,kV:()=>I,Ir:()=>R,YA:()=>v,NU:()=>k,Cj:()=>N,mm:()=>_,RG:()=>b,EA:()=>h,oK:()=>O,M3:()=>E,Dl:()=>A});var r=n(68833),o=(n(73439),n(251175)),a=n(316216),i=n(122799);n(571372);class s extends Error{constructor(e,t,n){super(e),this.httpStatusCode=t,this.responseBody=n,Object.setPrototypeOf(this,s.prototype)}}var l=n(900814),c=n.n(l),u=n(387342);n(368995);const d=()=>((e,t)=>{if(e){const t=parseInt(e,10);if(!isNaN(t))return t}return t})(a.xUA.DEFAULT_TIMEOUT_MSEC,r.Wr),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const a=c()({[r.zF.MsApiVersion]:"1.0"},n);return o.RequestFactory.withBaseUrl(t?r.yf:r.C6).setCommonTimeout(d()).setCommonMaxRetries(r.YK).setCommonHeaders(a).setCommonMetadataValue(u.XP,e)};var m=n(171315);const p=e=>{const t=new o.HttpClientBuilder;return(0,u.Yr)(t,e)},g=(e,t,n)=>p(e).authenticator(new m.Py(n,t,e.logger())),f=(e,t,n)=>g(e,t,n).authenticator(new m.Py(n,t,e.logger())).build(),v=(e,t,n,r)=>g(e,t,n).authenticator(new m.Zb(t,e.logger(),r)).build(),_=e=>p(e).build(),y=(e,t)=>p(e).authenticator(new m.Ws(t)).build(),b=(e,t,n)=>g(e,t,n).build(),C=(e,t,n,r,o,a)=>{if(!n.addAuthorization)return _(e);return((e,t,n,r,o)=>{let a=c()({},n);return r&&(a=c()(c()({},a),{},{anonymousTokenAuthenticator:new m.Ws(r)})),(null===o||void 0===o?void 0:o.aadToken)&&(a=c()(c()({},a),{},{aadAuthenticator:new m.uG(o,e.logger())})),g(e,t,a).build()})(e,t,{relyingParty:m.Q7.MDollar,isMandatory:n.isRequired,xTokenOverride:a},r,n.aadAuthRequired?o:void 0)},E=async function(e,t,n,l){let c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0,m=arguments.length>7?arguments[7]:void 0;var p,g;const f=h(l,c,d);let v;v=u?C(t,u.authenticationProvider,u.authConfig,n,u.aadAuthConfig,m):y(t,n);const _=e(f);try{const e=await v.execute(_);if(!(0,a.hAT)(e.status))throw new s(`Service request failed. TargetUri: ${e.request.url} | Status: ${e.status}`,e.status,e.data);return e}catch(b){if(b instanceof o.HttpError){const e=(0,a.o8e)(null===(p=b.response)||void 0===p?void 0:p.status)?r.WE.InternalServerError:b.response.status;let t;try{const e=null===(g=b.response)||void 0===g?void 0:g.clone();t=await e.json()}catch(E){t=(0,i.toError)(E)}const n=new s(`Service request failed. TargetUri: ${b.request.url} | Status: ${e} | Original Message: ${b.message} | Extra Data: ${t}`,e,t);throw n.name=b.name,n.stack=b.stack,n}throw b}},S=async function(e,t,n,r,o,a,i){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0;return E((t=>t.get(e,u)),n,o,i,s,{authConfig:t,authenticationProvider:r,aadAuthConfig:a},l,c)},T=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0;return E((t=>t.get(e,s)),t,n,r,o,void 0,a,i)};n(203671);const w=(e,t)=>e.execute(t),I=e=>{let t=r.WE.InternalServerError;return e!==r.WE.Unauthorized&&e!==r.WE.Forbidden&&e!==r.WE.NotFound||(t=e),t},k=e=>e instanceof s?e.httpStatusCode:e instanceof o.HttpError?e.response.status:void 0,A=async function(e,t,n,r,o,a,i,s){let l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;return E((n=>n.post(e,t,d)),r,a,s,l,{authConfig:n,authenticationProvider:o,aadAuthConfig:i},c,u)},P=e=>o.RequestFactory.withBaseUrl(r.Rc).setCommonTimeout(r.Wr).setCommonMaxRetries(r.YK).setCommonMetadataValue(u.XP,e),x=e=>o.RequestFactory.withBaseUrl(r.F8).setCommonTimeout(r.S8).setCommonMaxRetries(r.YK).setCommonMetadataValue(u.XP,e);n(774438);const R=e=>o.RequestFactory.withBaseUrl(r.J2).setCommonTimeout(r.Wr).setCommonMaxRetries(r.YK).setCommonMetadataValue(u.XP,e),N=e=>o.RequestFactory.withBaseUrl(r.sJ).setCommonTimeout(d()).setCommonMaxRetries(r.YK).setCommonMetadataValue(u.XP,e),O=e=>o.RequestFactory.withBaseUrl(r.a8).setCommonTimeout(r.HN).setCommonMetadataValue(u.XP,e).setCommonMaxRetries(1)},197955:(e,t,n)=>{"use strict";var r;n.d(t,{IG:()=>a,PO:()=>r,Vo:()=>i,gj:()=>o}),function(e){e.AppsSnowbirdBanner="AppsSnowbirdBanner",e.AuthExample="AuthExample",e.BuddyPassReceiver="BuddyPassReceiver",e.BuddyPassSender="BuddyPassSender",e.ChannelProductPlacement="ChannelProductPlacement",e.Carousel="Carousel",e.ContentBlock="ContentBlock",e.ConfigurableSnowbirdHero="ConfigurableSnowbirdHero",e.DeviceTargetedAppsSnowbirdBanner="DeviceTargetedAppsSnowbirdBanner",e.HeroItem="HeroItem",e.HtmlContentBlock="HtmlContentBlock",e.Hyperlink="Hyperlink",e.IconBar="IconBar",e.Jalisco="JaliscoCTA",e.Mosaic="Mosaic",e.OptIn="OptIn",e.PageBarV1="PageBarV1",e.PageBarV2="PageBarV2",e.ProductInfoExample="ProductInfoExample",e.XboxCardPMPPageBar="XboxCardPMPPageBar",e.XboxCardPMPPageHero="XboxCardPMPPageHero",e.XgpImmersiveSku="XgpImmersiveSku",e.YearInReview="YearInReview"}(r||(r={}));const o="ContentPage",a="content",i="https://assets.adobedtm.com/launch-ENbcb8955aa2f84046af210e3226cdda04.min.js"},700214:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r.W});n(197955),n(146514);var r=n(242123);n(551854)},810919:(e,t,n)=>{"use strict";var r,o,a,i,s,l,c;n.d(t,{AK:()=>c,H:()=>o,Ix:()=>i,d9:()=>a,rO:()=>r}),function(e){e.Unknown="Unknown",e.PicchuHtmlPage="Skinned Splash Page 2016",e.VariableMimeType="Variable Type Page",e.Redirect="Redirect",e.ModuleBasedPage="Module Based Page",e.CatalogPage="CatalogPage"}(r||(r={})),function(e){e.Left="left",e.Right="right"}(o||(o={})),function(e){e.Black="black",e.White="white"}(a||(a={})),function(e){e.h1="h1",e.h2="h2"}(i||(i={})),function(e){e.Heading1="c-heading-1",e.Heading2="c-heading-2"}(s||(s={})),function(e){e.Subheading1="c-subheading-1",e.Subheading2="c-subheading-2"}(l||(l={})),function(e){e.True="true",e.False="false"}(c||(c={}))},146514:(e,t,n)=>{"use strict";n.d(t,{j7:()=>r});var r;n(810919);!function(e){e.Unknown="Unknown",e.NotStarted="NotStarted",e.Prescreening="Prescreening",e.Prescreened="Prescreened",e.Preselected="Preselected",e.Applying="Applying",e.Pending="Pending",e.Approved="Approved",e.Error="Error",e.Blocked="Blocked"}(r||(r={}))},218654:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContentModalLauncherTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(60899).then(n.bind(n,870228))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 870228}})},638919:(e,t,n)=>{"use strict";n.d(t,{L:()=>l,q:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContentPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(84879)]).then(n.bind(n,837278))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 837278}}),c=(0,s.cx)({resolved:{},chunkName:()=>"NoTargetingContentPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(84879)]).then(n.bind(n,471831))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 471831}})},414463:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"YearInReviewMarketingPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(73563),n.e(68262)]).then(n.bind(n,133009))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 133009}})},504358:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"YearInReviewPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(73563),n.e(68262)]).then(n.bind(n,773546))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 773546}})},83362:(e,t,n)=>{"use strict";n.d(t,{ContentRendering:()=>i});var r=n(638919),o=n(203021),a=n(126065);class i{constructor(){this.getContentContainer=()=>r.L,this.getNoTargetingContentContainer=()=>r.q,this.getContentPageRequestSaga=()=>o.m,this.getContentPageTheme=(e,t)=>(0,a.b)(e,t,{})}}},242123:(e,t,n)=>{"use strict";n.d(t,{Q:()=>v,W:()=>_});n(571372),n(73439),n(906886);var r=n(197955),o=n(316216),a=n(353513),i=n(527256),s=n(638919),l=n(218654),c=n(504358),u=n(414463);const d=(0,i.tP)((()=>Promise.all([n.e(83204),n.e(37551)]).then(n.bind(n,431762))),(e=>e.lazyRouteConfigs)),h=()=>null,m=[{key:"ContentModalLauncherTest",path:"/contentmodaltest",component:l.s,exact:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Content Modal Launcher Test"},lazyConfig:d("ContentModalLauncherTest")},{key:"XboxCardContentPage",path:[`/:${o.Hw9.Path}(xbox-mastercard)`],component:s.L,exact:!0,isServerOnly:!0,seoComponent:h,theme:o.Q2A.Light,testConfig:{title:"Xbox Card Content PMP",testPath:[{path:"/xbox-mastercard",title:"Main apply page"}]},lazyConfig:d("XboxCardContentPage")},{key:"XboxCardContentPageDefaultError",path:[`/:${o.Hw9.Path}(xbox-mastercard)`],exact:!0,component:a.GP,isServerOnly:!0,seoComponent:h},{key:"YearInReviewMarketingPage",path:["/2024recap"],exact:!0,component:u.u,seoComponent:h,constraint:{featureGates:{[o.vCX.EnableYearInReviewMarketing]:e=>!0===e}},testConfig:{title:"2024 Recap"},lazyConfig:d("YearInReviewMarketingPage")},{key:"YearInReviewPage",path:["/year-in-review"],exact:!0,component:c.o,seoComponent:h,constraint:{featureGates:{[o.vCX.EnableYearInReview]:e=>!0===e}},testConfig:{title:"Year in Review"},lazyConfig:d("YearInReviewPage")},{key:"AllContentPages",path:[`/:${o.Hw9.Path}*`],component:s.L,exact:!0,isServerOnly:!0,seoComponent:h,testConfig:{title:"Test Content Pages",testPath:[{path:"/test/modular-page",title:"Module Based Page"},{path:"/test/preview-test",title:"Test Preview Page"},{path:"/consoles/xbox-series-x",title:"Xbox Series X (Content)"},{path:"/consoles/scarlett",title:"Scarlett (Content Redirect)"},{path:"/consoles/xbox-one-x",title:"Xbox One X (404)"},{path:"/xbox-bethesda-games-showcase",title:"Bethesda Games Showcase (Migration test)"}]},lazyConfig:d("AllContentPages")},{key:"GlobalSharedContent",path:["/global-shares/*"],component:s.L,exact:!0,isServerOnly:!0,lazyConfig:d("GlobalSharedContent")}];var p=n(83362);const g="content_IContentRendering";let f;const v=()=>{if(!f)throw new Error("Service Locator not initialized.");return f},_={partnerId:r.IG,routes:m,initializeAsync:e=>(f=e,Promise.resolve()),registerDependencies:e=>{e.register(g,(()=>new p.ContentRendering)),e.registerLazy(g,(async()=>{const{ContentRendering:e}=await Promise.all([n.e(83204),n.e(37551)]).then(n.bind(n,83362));return new e}))},lazyConfig:()=>Promise.all([n.e(83204),n.e(37551)]).then(n.bind(n,390579))}},551854:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});n(477950),n(888233),n(74069),n(906886),n(460523);var r=n(703380),o=n(213689),a=n(316216);const i=(e,t)=>((e,t,n)=>{const i=`content/${(0,a.r5C)(e)}`,s=new URLSearchParams;return s.append(r.nV.locale,t.localeWithScript),n&&s.append(r.nV.isPreview,n.toString()),(0,o.LTV)(i,s)})(e.match.params[a.Hw9.Path],t,!!e.isPreview)},328782:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,i:()=>i});var r,o=n(630206),a=n(575681);!function(e){e.UPDATE_CONTENT_PAGE="@contentPage/UPDATE_CONTENT_PAGE"}(r||(r={}));const i={updateContentPage:(0,a.a)(r.UPDATE_CONTENT_PAGE,o.Q,((e,t)=>({contentPage:e,isPreview:t})))}},575681:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,z:()=>a});var r=n(316216),o=n(197955);const a=(0,r.Krg)(o.IG),i=(0,r.mqE)(o.IG)},203021:(e,t,n)=>{"use strict";n.d(t,{m:()=>u});var r=n(213689),o=n(316216),a=n(703380),i=n(20608),s=n(242123),l=n(551854),c=n(328782);function*u(e,t){const n=(0,s.Q)(),c=yield(0,i.call)(n.resolveLazy,r.ibq),u=yield(0,i.select)(o.Xnf),h=(null===u||void 0===u?void 0:u.userAgent)||"",m=yield(0,i.select)(o.g48),p=c.makePageRequestSubSaga(l.S,{addAuthorization:!0,isRequired:!1,aadAuthRequired:!!m},d,{[a.zF.XUserAgent]:h});yield(0,i.call)(p,e,t)}function*d(e){const t=yield(0,i.select)(o.g48);e.content&&(yield(0,i.put)(c.i.updateContentPage(e.content,t)))}},630206:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r="ContentPage"},126065:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,b:()=>s});var r=n(316216),o=n(810919),a=n(759035);const i=(e,t,n)=>{return o=(0,a.U)(e)[(0,r.r5C)(t)],n?null===o||void 0===o?void 0:o.preview:null===o||void 0===o?void 0:o.published;var o},s=(e,t,n)=>{const a=i(e,t);if(a)switch(a.presentationTemplate){case o.rO.PicchuHtmlPage:{const e=a.data.pageDetails.pageDataAttributes;if(!e)return;return e.length>0&&"1"===e[0]?r.Q2A.DarkHeader:void 0}case o.rO.Redirect:return(0,r.gzb)(e)}}},759035:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,U:()=>i});var r=n(316216),o=n(197955);const a=e=>(0,r.Qij)(e,o.IG),i=e=>a(e).contentPages},873483:(e,t,n)=>{"use strict";n.d(t,{DP:()=>u,Fw:()=>r,H1:()=>o,OV:()=>i,TB:()=>a,dP:()=>c});var r,o,a,i,s=n(612502),l=n(316216);function c(e){return e.isMobile?r.Mobile:e.isWindows?r.Windows:r.OtherPC}function u(e){return(0,l.kgH)(e)===(0,l.kgH)(s.Cv)?a.PCGP:(0,l.kgH)(e)===(0,l.kgH)(s.Os)?a.Ultimate:void 0}!function(e){e[e.Mobile=1]="Mobile",e[e.OtherPC=2]="OtherPC",e[e.Windows=3]="Windows"}(r||(r={})),function(e){e[e.Console=1]="Console",e[e.Mobile=2]="Mobile",e[e.OtherPC=3]="OtherPC",e[e.TV=4]="TV",e[e.Windows=5]="Windows"}(o||(o={})),function(e){e.PCGP="CFQ7TTC0KGQ8",e.Ultimate="CFQ7TTC0KHS0"}(a||(a={})),function(e){e.GCM="GCM",e.RPID="RPID"}(i||(i={}))},429084:(e,t,n)=>{"use strict";n.d(t,{DP:()=>r.DP,Fw:()=>r.Fw,H1:()=>r.H1,OV:()=>r.OV,TB:()=>r.TB});var r=n(873483)},747263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"Launchpad",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,n.e(39393).then(n.bind(n,809997))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 809997}})},705808:(e,t,n)=>{"use strict";n.d(t,{r:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"PIDLContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(85565),n.e(74531)]).then(n.bind(n,431553))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 431553}})},118689:(e,t,n)=>{"use strict";n.d(t,{IG:()=>r,Z0:()=>o});const r="core2",o="default"},12986:(e,t,n)=>{"use strict";var r;n.d(t,{n5:()=>l.n5,Jp:()=>l.Jp,CD:()=>l.CD,od:()=>o,XW:()=>a,Gx:()=>R.Gx,J2:()=>l.J2,uZ:()=>c,B6:()=>l.B6,KM:()=>P,Dh:()=>B,By:()=>D,Ud:()=>x,IG:()=>s.IG,qD:()=>l.qD,Uh:()=>r,Fl:()=>l.Fl,ys:()=>l.ys,n_:()=>l.n_,dq:()=>i,yW:()=>R.yW,Q5:()=>R.Q5,WR:()=>R.WR,v5:()=>l.v5,Wk:()=>l.Wk,Vx:()=>l.Vx,zx:()=>l.zx,cK:()=>_,f0:()=>l.f0,VR:()=>N,jw:()=>O,N6:()=>U,r2:()=>M,at:()=>F,r8:()=>L,XB:()=>H,m5:()=>l.m5,$M:()=>q,cc:()=>l.cc,Z0:()=>s.Z0,Ok:()=>w,ZG:()=>E,KX:()=>I,FA:()=>R.FA,xX:()=>R.xX,e5:()=>C,Tf:()=>S,PH:()=>T,GP:()=>A}),function(e){e.ProductId="ProductId",e.SkuId="SkuId",e.AvailabilityId="AvailabilityId",e.AffirmationProductId="AffirmationProductId",e.CloudServiceUpsells="CloudServiceUpsells",e.DisabledReason="DisabledReason",e.EditionIdsList="EditionIdsList",e.IsBundleProduct="IsBundleProduct",e.IsOnWishlist="IsOnWishlist",e.IsDisabled="IsDisabled",e.IsTrial="IsTrial",e.IsUpgrade="IsUpgrade",e.NetworkName="NetworkName",e.SkuIdsList="SkuIdsList",e.UpsellProductId="UpsellProductId",e.UpsellProductIdsList="UpsellProductIdsList",e.UpsellProductIdsComingSoonList="UpsellProductIdsComingSoonList",e.UpsellToDefaultSubscription="UpsellToDefaultSubscription",e.GlyphProductId="GlyphProductId"}(r||(r={}));const o=25,a="DO_NOT_FILTER",i="ORDERBY";var s=n(118689),l=n(925262);const c="gamingContext";n(888233),n(906886),n(214121),n(460523);var u=n(703380),d=n(316216),h=n(612502),m=n(474495),p=n(107267),g=n(957302),f=n.n(g),v=n(576831);const _="/games/store/:productName/:productId/:skuId?/:availabilityId?",y="/external/contextual-store-host/:productId/:skuId?/:availabilityId?",b="dark",C=e=>{const t=(0,p.LX)(e,{path:_});if(t&&"productId"in t.params){const e=t.params;return"p"===e.productName&&(e.productName=void 0),e}},E=(e,t,n,r,o)=>new URL(`${e}${I("/p/:productName/:productId/:skuId?/:availabilityId?",t,n,r,o)}`,d.zIV).toString(),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return new URL(`${t}${k(y,b,n,r,o,a,i,s,l,"v2",c,u,h)}`,e).toString()},T=(e,t,n,r,o,a,i)=>{let s=(0,m.useSelector)(d.Xnf).origin;(null===d.xUA||void 0===d.xUA?void 0:d.xUA.FORCE_REDIRECT_PRODUCTION_ORIGIN)&&(s=d.V9f);const l=(0,m.useSelector)(d.Yzi);return w(s,l,e,t,n,r,o,a,i)},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0;return new URL(`${t}${I(_,n,r,o,a,i,s,l,c)}`,e).toString()},I=(e,t,n,r,o,a,i,s,l)=>{const c=f()(n||"p",{lower:!0,remove:/[*+]/g});let d=(0,p.Gn)(e,{productId:t,productName:c||"p",skuId:r||void 0,availabilityId:o||void 0});const h=new URLSearchParams;return a&&h.append(u.nV.referringProductId,a),i&&h.append(u.nV.PartnerId,i),s&&h.append(u.nV.campaignId,s),l&&h.append(u.nV.ocid,l),(h.has(u.nV.referringProductId)||h.has(u.nV.PartnerId)||h.has(u.nV.campaignId))&&(d=(0,v.L)(d,h)),d},k=(e,t,n,r,o,a,i,s,l,c,d,h,m)=>{const g=f()(r||"p",{lower:!0,remove:/[*+]/g});let _=(0,p.Gn)(e,{productId:n,productName:g||"p",skuId:o||void 0,availabilityId:a||void 0});const y=new URLSearchParams;return i&&y.append(u.nV.referringProductId,i),s&&y.append(u.nV.PartnerId,s),l&&y.append(u.nV.campaignId,l),d&&y.append(u.nV.xStoreScenario,d),h&&y.append(u.nV.itemType,h),m&&y.append(u.nV.clientType,m),y.has(u.nV.referringProductId)||y.has(u.nV.PartnerId)||y.has(u.nV.campaignId)||y.has(u.nV.itemType)||y.has(u.nV.xStoreScenario)||y.has(u.nV.clientType)?_=`${(0,v.L)(_,y)}&v=${c}&t=${t}`:_+=`?v=${c}&t=${t}`,_},A=(e,t)=>{const n=(0,m.useSelector)(d.Xnf).origin,r=(0,m.useSelector)(d.Yzi);return w(n,r,e,(0,h.jb)(e,!1),void 0,void 0,t)};var P,x,R=n(137122);!function(e){e.Production="prod",e.Int="int",e.PPE="ppe"}(P||(P={})),function(e){e.XMsFlight="x-ms-flight",e.XMsTest="x-ms-test"}(x||(x={}));const N="US",O="en-US",L="xboxweb",M="mc",U="credit_card",D="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=success",B="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=fail",F="BANNER",H="MSFT-Web-Lpage",q="09.08.2024-21.05.46-730"},925262:(e,t,n)=>{"use strict";n.d(t,{B6:()=>r,CD:()=>b,DA:()=>m,Fl:()=>a,J2:()=>c,Jp:()=>y,NX:()=>g,Vx:()=>v,WG:()=>s,Wk:()=>u,_t:()=>f,cc:()=>S,cr:()=>p,d7:()=>_,f0:()=>C,m5:()=>E,n5:()=>h,n_:()=>i,qD:()=>T,v5:()=>d,ys:()=>o,zx:()=>l});const r="https://account.microsoft.com",o="https://www.microsoft.com/uniblends/scripts/blender.min.js",a="https://uniblends.www.microsoft.com/ppe/scripts/blender.min.js",i="https://support.xbox.com/en-US/help/games-apps/my-games-apps/install-games-remotely-on-xbox-one",s="https://support.xbox.com/help/games-apps/cloud-gaming/set-up-smart-tv-xbox-app",l="https://xbox.com/{locale}/wishlist",c="https://www.xbox.com/{locale}/promotions/sales/sales-and-specials",u="https://www.xbox.com/{locale}/games/all-games?cat=newreleases",d="https://www.xbox.com/{locale}/xbox-game-pass",h="https://www.xbox.com/{locale}/games/browse",m="https://www.xbox.com/{locale}/games/browse/console?PlayWith=XboxSeriesX%7CS,XboxOne,CloudGaming,XboxPlayAnywhere",p="https://www.xbox.com/{locale}/games/browse/pc?PlayWith=PC,CloudGaming,XboxPlayAnywhere",g="https://www.xbox.com/{locale}/consoles",f="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",v="https://store.ubi.com/my-account",_="https://www.xbox.com/play",y="https://www.xbox.com/{locale}/play",b="https://www.xbox.com/{locale}/play/games/{title}/{productId}",C="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",E="https://www.xbox.com/{locale}/apps/xbox-app-for-pc#systemrequirements",S="https://www.xbox.com/{locale}/apps/xbox-app-for-tv",T="https://www.xbox.com/{locale}/xbox-game-pass/games#pcgames"},137122:(e,t,n)=>{"use strict";n.d(t,{FA:()=>u,Gx:()=>s,Q5:()=>c,WR:()=>l,m8:()=>o,xX:()=>i,yW:()=>a});n(231235);var r=n(316216);const o="/search/results/:tabName?";var a;!function(e){e.Addons="addons",e.Docs="docs",e.Games="games",e.Hardware="hardware",e.Passes="passes",e.General="general"}(a||(a={}));const i=e=>Object.values(a).includes(e.toLowerCase()),s=a.Games,l=[{tabName:a.Games,hasFilters:!0},{tabName:a.Addons,hasFilters:!0},{tabName:a.Passes,hasFilters:!1},{tabName:a.Hardware,hasFilters:!1},{tabName:a.Docs,hasFilters:!1},{tabName:a.General,hasFilters:!1}];var c;!function(e){e[e.Games=0]="Games",e[e.Addons=1]="Addons",e[e.Passes=2]="Passes",e[e.Hardware=3]="Hardware",e[e.Docs=4]="Docs",e[e.General=5]="General"}(c||(c={}));const u=e=>(0,r.Ypc)(e,a.Docs)||(0,r.Ypc)(e,a.General)},245208:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>r,lx:()=>a,wU:()=>o});const r=e=>Math.round(100*e)/100,o=e=>`${e}rem`,a=(e,t)=>`${e}_${t.toLocaleUpperCase()}`},631999:(e,t,n)=>{"use strict";n.d(t,{jP:()=>m,vo:()=>f,aX:()=>g,wT:()=>H,Al:()=>G,Ri:()=>z,fV:()=>N,eL:()=>D.e,U8:()=>M,G7:()=>I,LT:()=>U.L,nS:()=>$.nS,mU:()=>l,OT:()=>P,vx:()=>x,wU:()=>O.wU,lx:()=>O.lx,WE:()=>T,sD:()=>C,CY:()=>S,Zc:()=>w,Is:()=>L,_B:()=>U._,Uo:()=>$.Uo,z1:()=>$.z1,BS:()=>$.BS,e1:()=>$.e1,EV:()=>$.EV,uh:()=>$.uh,Oi:()=>O.Oi,WV:()=>a,FF:()=>j,mG:()=>R,_q:()=>B._,kR:()=>y,Gi:()=>_,g6:()=>v,bN:()=>B.b});n(191321),n(213489),n(888233),n(906886);var r=n(316216),o=n(361030);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var a;const s=(0,o.iV)("gameSizeFormat"),l=i(e,t,n);if(void 0!==l)return(0,r.WUZ)(s,null===(a=l.size)||void 0===a?void 0:a.toString(),l.unit)},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,a,i,l,c,u]=(0,o.QF)("bytesSymbol","kiloBytesSymbol","megaBytesSymbol","gigaBytesSymbol","teraBytesSymbol","petaBytesSymbol"),d=[r,a,i,l,c,u];if(void 0===e)return;let h,m=0;return 0===e?h=e:(m=s(e,t),h=parseFloat((e/Math.pow(t,m)).toFixed(n))),{size:h,unit:d[m]&&d[m]||""}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;return Math.floor(Math.log(e)/Math.log(t))},l=e=>"true"===(null===e||void 0===e?void 0:e.toLowerCase());n(443430),n(9e4),n(34715),n(464925),n(474407),n(652856),n(426464),n(18339),n(319570),n(654819),n(264903),n(657610),n(395682),n(521045),n(17244),n(342068),n(475519),n(839432),n(173574),n(233619),n(753862),n(226881),n(35359),n(98208),n(913608),n(875676),n(305993),n(874456);var c=n(202784),u=n(474495),d=n(612502),h=n(60861);const m=c.createContext({activeFilterFunctions:{},filteredProducts:[],initialProducts:[],setActiveFilterFunctions:()=>{}}),{Provider:p,Consumer:g}=m,f=e=>{const{children:t,initialProductList:n}=e,[r,o]=(0,c.useState)({}),a=(0,u.useSelector)((e=>(0,h.h$)(e,n))).filter((e=>!!e.product)),i=Object.values(r).reduce(((e,t)=>t(e)),a).map((e=>{var t,n;return{productId:e.product.productId,skuId:null===(t=e.sku)||void 0===t?void 0:t.skuId,availabilityId:null===(n=e.availability)||void 0===n?void 0:n.availabilityId}}));return c.createElement(p,{value:{activeFilterFunctions:r,filteredProducts:i,initialProducts:a,setActiveFilterFunctions:o}},t)},v=()=>{const{gamesProductKindDisplayText:e,durableProductKindDisplayText:t}=(0,o.y_)("gamesProductKindDisplayText","durableProductKindDisplayText");return{[d.Fc.Game.toUpperCase()]:e,[d.Fc.Durable.toUpperCase()]:t}},_=e=>{const t=new Set,n=v();e.forEach((e=>{e.product.productKind&&t.add(e.product.productKind)}));return{filterOptions:[...t].sort(),filter:(e,t)=>e.filter((e=>e.product.productKind&&(0,r.Ypc)(e.product.productKind,t))),filterValueToDisplayString:n}},y=e=>{const t=new Set;e.forEach((e=>{e.product.categories&&e.product.categories.forEach((e=>t.add(e)))}));return{filterOptions:[...t].sort(),filter:(e,t)=>e.filter((e=>{let n=!1;return e.product.categories&&(n=e.product.categories.some((e=>(0,r.Ypc)(e,t)))),n}))}};var b=n(703380);const C=e=>{const t={},n=(e=>Object.entries(e).filter((e=>{let[t,n]=e;return!!t&&!0===n})).map((e=>{let[t,n]=e;return t})).join(","))(e);return n&&(t[b.zF.XblExperiments]=n),t},E=(e,t)=>{switch(e){case 2:return t&&(e=>29===new Date(e,1,29).getDate())(t)?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},S=e=>{const t=new Array(13);t[0]={value:-1,label:e};for(let n=1;n<t.length;n++)t[n]={value:n,label:n.toString()};return t},T=(e,t,n)=>{let r;if(t){const e=E(t,n);r=new Array(e+1)}else r=new Array(32);r[0]={value:-1,label:e};for(let o=1;o<r.length;o++)r[o]={value:o,label:o.toString()};return r},w=e=>{const t=(new Date).getFullYear(),n=new Array(151);n[0]={value:-1,label:e};for(let r=1;r<n.length;r++)n[r]={value:t-r,label:(t-r).toString()};return n},I=e=>{const t=new Date,n=t.getMonth(),r=e.getMonth();let o=t.getFullYear()-e.getFullYear();return(n<r||n===r&&t.getDate()<e.getDate())&&o--,o};var k=n(615946);const A="keydown",P=e=>Array.from(e.querySelectorAll('button, a, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter((e=>!e.hasAttribute("disabled"))),x=e=>{if(null===e||void 0===e?void 0:e.current){const t=P(e.current);t.length>0&&t[0].focus()}},R=(e,t,n,o)=>{(0,k.useBButtonHandler)("release",(()=>!!e&&(t(),!0))),(0,c.useEffect)((()=>{if(e){const e=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r.Ypc)(e.key,"escape")&&(t(),o&&(null===n||void 0===n?void 0:n.current)&&n.current.focus(),e.stopPropagation(),e.preventDefault())},a=t=>e(t);let i;if(document.addEventListener(A,a),null===o||void 0===o?void 0:o.current){x(o),o.current.addEventListener(A,(t=>e(t,!0)));const t=null===o||void 0===o?void 0:o.current;i=()=>{t&&t.removeEventListener(A,(t=>e(t,!0)))}}return()=>{document.removeEventListener(A,a),i&&i()}}}),[n,o,t,e]);return e=>{t(e),(null===n||void 0===n?void 0:n.current)&&n.current.focus()}},N=c.createContext({});var O=n(245208);const L=(e,t)=>e<0?0:e>=t?t-1:e;n(84179);var M,U=n(576831),D=n(530392),B=n(295240);!function(e){e.AlphabeticalAscending="AlphabeticalAscending",e.AlphabeticalDescending="AlphabeticalDescending"}(M||(M={}));const F={[M.AlphabeticalAscending]:e=>X(e),[M.AlphabeticalDescending]:e=>X(e,!0)},H=c.createContext({activeSortFunction:M.AlphabeticalAscending,setActiveSortFunction:()=>{},sortedProducts:[]}),{Provider:q,Consumer:G}=H,z=e=>{const{children:t,initialProductList:n}=e,[r,o]=(0,c.useState)(M.AlphabeticalAscending),a=(0,u.useSelector)((e=>(0,h.h$)(e,n))).filter((e=>!!e.product)),i=F[r](a.map((e=>e.product))).map((e=>({productId:e.productId})));return c.createElement(q,{value:{activeSortFunction:r,setActiveSortFunction:o,sortedProducts:i}},t)},X=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[...e],r=n.sort(((e,t)=>e.title<t.title?-1:e.title>t.title?1:0));return t?r.reverse():r};var $=n(637533),V=n(171315),W=n(906785),K=n(497860);const j=()=>{const e=(0,u.useSelector)(V.bG),t=null===e||void 0===e?void 0:e.xuid,n=(0,u.useDispatch)(),r=(0,u.useSelector)(W.u);(0,c.useEffect)((()=>{r||n(K.S.fetchVectorId.start())}),[t,r,n])}},84179:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var r=n(316216),o=n(474495),a=n(12986),i=n(589083);const s=e=>{const t=(0,o.useSelector)(r.Xnf).origin,n=(0,o.useSelector)(r.Yzi);if(!e||!e.id||!e.itemType)return;const{id:s,itemType:l}=e;switch(l){case i.UA.ProductId:return(0,a.Ok)(t,n,s);case i.UA.CollectionId:return;case i.UA.Link:return s;default:return}}},581525:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(316216),o=n(474495),a=n(12986);const i=(e,t)=>{const n=(0,o.useSelector)(r.Yzi);return(0,r.uQr)(a.CD,{locale:n,title:t||"p",productId:e})}},576831:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,_:()=>l});var r=n(900814),o=n.n(r),a=(n(888233),n(107267)),i=n(137122);const s=(e,t)=>t?`${e}?${t.toString()}`:e,l=e=>{const t=(0,a.LX)(e.pathname,{path:i.m8});if(t){if("tabName"in t.params){const n=t.params.tabName;if(n&&(0,i.xX)(n))return o()(o()({},e),{},{pathname:(0,a.Gn)(i.m8,{tabName:n.toLowerCase()})})}return o()(o()({},e),{},{pathname:(0,a.Gn)(i.m8,{tabName:i.Gx})})}return e}},530392:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,j:()=>o});n(906886),n(214121),n(460523);const r="purchaseSignIn",o=()=>{const e=new URL(window.location.href);return e.searchParams.set(r,"true"),e.href}},295240:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,b:()=>s});n(231235),n(906886);var r=n(316216),o=n(202784),a=n(474495);const i=e=>{const[t,n]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(!t)return void n(!0);let r;const o=setTimeout((()=>{r=window.requestAnimationFrame(e)}),0);return()=>{clearTimeout(o),cancelAnimationFrame(r)}}),[e,t])},s=()=>{const e=(0,a.useSelector)(r.yWe).language;return r.Kp2.includes((0,r.kgH)(e))}},637533:(e,t,n)=>{"use strict";n.d(t,{BS:()=>u,EV:()=>s,Uo:()=>d,e1:()=>l,nS:()=>c,uh:()=>i,z1:()=>h});var r=n(900814),o=n.n(r),a=(n(136728),n(477950),n(888233),n(231235),n(94908),n(34715),n(426464),n(319570),n(906886),n(460523),n(175500));const i=(e,t,n)=>{e.push(o()(o()({},t),{},{state:{returnFilters:!n}}))},s=(e,t)=>{var n;const r=new URLSearchParams(t.search),o=decodeURIComponent(null!==(n=r.get(e))&&void 0!==n?n:"");return null===o||0===o.trim().length?void 0:o},l=e=>{const t={},n=Object.values(a.vA);return new URLSearchParams(e.search).forEach(((e,r)=>{if(!n.includes(r))return;const o=decodeURIComponent(e);o&&o.trim().length>0&&(t[r]=o.split(","))})),t},c=e=>{const t=Object.values(a.vA),n=new URLSearchParams(e.search);return new URLSearchParams(e.search).forEach(((e,r)=>{t.includes(r)&&n.delete(r)})),o()(o()({},e),{},{search:n.toString()})},u=(e,t,n)=>{const r=new URLSearchParams(n.search);return r.has(e)?r.set(e,t):r.append(e,t),o()(o()({},n),{},{search:r.toString()})},d=(e,t)=>{const n=new URLSearchParams(t.search);return n.has(e)?(n.delete(e),o()(o()({},t),{},{search:n.toString()})):t},h=(e,t,n)=>{var r;const a=new URLSearchParams(n.search);if(a.has(e)){const n=decodeURIComponent(null!==(r=a.get(e))&&void 0!==r?r:"");if(n&&n.trim().length>0){const r=n.split(",");r.includes(t)?r.splice(r.indexOf(t),1):r.push(t),r.length>0?a.set(e,r.join(",")):a.delete(e)}else a.delete(e)}else a.append(e,t);return o()(o()({},n),{},{search:a.toString()})}},213689:(e,t,n)=>{"use strict";n.d(t,{ttT:()=>Rt.tt,S8w:()=>Xn.S8,eNe:()=>Xn.eN,vmd:()=>Xn.vm,UFU:()=>y,lvQ:()=>q,_NT:()=>D,pdP:()=>ae,JqF:()=>Yt,voT:()=>Z.vo,CO6:()=>Me,K3f:()=>Ue,aX7:()=>Z.aX,wwk:()=>qe,Alg:()=>Z.Al,RiE:()=>Z.Ri,rKW:()=>Ge,wc4:()=>cn,m9s:()=>Xn.m9,fVL:()=>Z.fV,Hcb:()=>Mu,uL1:()=>dc,aoB:()=>Rt.ao,vnT:()=>An,BEx:()=>Ln,Ype:()=>hc,E$n:()=>mc,EqJ:()=>On,sCM:()=>kn,F0k:()=>Pn,zBs:()=>Nn,c$s:()=>Rt.c$,odo:()=>T.od,Gxm:()=>T.Gx,XgG:()=>Ve,msS:()=>We,L0B:()=>ar,s69:()=>Cc,CTs:()=>ir,xpi:()=>ne,odj:()=>Je,td5:()=>et,xZ4:()=>Hu.x,ibq:()=>qu,zTD:()=>Us,WAY:()=>Rt.WA,v9X:()=>oi,njw:()=>Xn.nj,Ukb:()=>ct,zPB:()=>su,J_R:()=>wl,dGl:()=>pt,YXB:()=>xu,$kX:()=>Lu,kTJ:()=>Ou,yAf:()=>Yn,ooi:()=>Xn.oo,IGD:()=>T.IG,whE:()=>ur,ZrW:()=>Xn.Zr,F6K:()=>Rt.F6,G3y:()=>se,tob:()=>po,eL5:()=>Z.eL,gaw:()=>_u,TbR:()=>xn,dqe:()=>T.dq,pxp:()=>Xn.px,sXi:()=>Rt.sX,B44:()=>bu,yW7:()=>T.yW,Q5c:()=>T.Q5,WRE:()=>T.WR,qYw:()=>gt,lPH:()=>_t,$16:()=>Su,$K:()=>Rt.$K,BQW:()=>Xn.BQ,Uj1:()=>jt,OK9:()=>Ct,njP:()=>St,TZ0:()=>Et,qI3:()=>Pl,qYg:()=>Xn.qY,cKJ:()=>T.cK,YQ:()=>Du,Twg:()=>Bu,QFv:()=>Fu,atq:()=>T.at,XBC:()=>T.XB,VCn:()=>Rt.VC,z2f:()=>Rt.z2,G7L:()=>Z.G7,LAc:()=>Rt.LA,LTV:()=>Z.LT,D0L:()=>Rt.D0,UoF:()=>Rt.Uo,channelsSelectors:()=>Rt.cg,nSo:()=>Z.nS,Ivn:()=>Rt.Iv,laP:()=>Rt.l,tG6:()=>Rt.tG,KNz:()=>Rt.KN,Z0r:()=>T.Z0,b3e:()=>Rt.b3,HgD:()=>Rt.Hg,YA2:()=>Rt.YA,EKU:()=>Rt.EK,kK5:()=>Rt.kK,vxR:()=>Z.vx,WEp:()=>Z.WE,sDH:()=>Z.sD,CYE:()=>Z.CY,Zcz:()=>Z.Zc,Nxi:()=>Rt.Nx,ut_:()=>Rt.ut,tRf:()=>Rt.tR,ZjP:()=>Rt.Zj,OkP:()=>T.Ok,Iel:()=>Rt.Ie,AYc:()=>Rt.AY,ZG7:()=>T.ZG,bE7:()=>Rt.bE,zFb:()=>Rt.zF,h$f:()=>Rt.h$,zkb:()=>Rt.zk,_LE:()=>Rt._L,KXb:()=>T.KX,th2:()=>Rt.th,L2O:()=>Rt.L2,ZiK:()=>Rt.Zi,GbY:()=>Rt.Gb,e1L:()=>Z.e1,LuX:()=>Rt.Lu,pMM:()=>Rt.pM,EV:()=>Z.EV,Z5S:()=>Rt.Z5,wxp:()=>Rt.wx,FA5:()=>T.FA,xXR:()=>T.xX,uhc:()=>Z.uh,e5v:()=>T.e5,bXX:()=>Rt.bX,Z5C:()=>Rt.xN,s86:()=>Rt.s8,ZTC:()=>Rt.ZT,Ngn:()=>Rt.Ng,Oio:()=>Z.Oi,VnN:()=>Xn.Vn,F40:()=>Rt.F4,SA4:()=>Rt.SA,WVX:()=>Z.WV,FF:()=>Z.FF,fmR:()=>Rt.fm,mGL:()=>Z.mG,PHv:()=>T.PH,_q2:()=>Z._q,bNS:()=>Z.bN});n(136728),n(906886);var r=n(122970),o=n(257760),a=n(616763),i=n(412524),s=n.n(i),l=n(202784),c=n(498900),u=n(8520),d=n(282008),h="EsrbRating-module__ratingValue___bSF6+",m=(0,l.memo)((function(e){var t=e.imgProps,n=e.ratingValue,i=e.ratingLink,m=e.className,p=e.children,g=e.linkButtonProps,f=e.showQR,v=(0,r.__rest)(e,["imgProps","ratingValue","ratingLink","className","children","linkButtonProps","showQR"]),_=g||{},y=_.className,b=(0,r.__rest)(_,["className"]);return l.createElement("div",(0,r.__assign)({className:s()("EsrbRating-module__container___Z6Ef+",m)},v),l.createElement("img",(0,r.__assign)({},t,{className:s()("EsrbRating-module__ratingImage___sMISX",t.className),src:t.src,alt:t.alt})),l.createElement("div",{className:"EsrbRating-module__labelContainer___pTpkq"},i&&n?l.createElement(c.k,(0,r.__assign)({as:"a",href:i,buttonType:u.L$.Secondary,buttonSize:u.qE.XSmall,className:s()(y,h,"EsrbRating-module__link___bhdWP"),target:"_blank",isCallToAction:!0,rel:"noopener noreferrer"},b),n,l.createElement(d.JO,{className:"EsrbRating-module__icon___15GZO",icon:f?o.Z:a.Z,iconSize:d.Jh.XXSmall})):n?l.createElement("div",{className:h},n):null,p))})),p=(0,l.memo)((function(e){var t=e.className,n=e.label;return l.createElement("div",{className:s()("EsrbRating-module__description___RvWaD",t)},n)})),g=n(316216),f=n(361030),v=n(474495),_=n(60861);const y=e=>{var t,n;const{productId:r,className:o}=e,a=(0,f.iV)("commaSeparatorTemplate"),[i,s]=(0,f.QF)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),c=(0,v.useSelector)((e=>(0,_.th)(e,r))),u=null===c||void 0===c?void 0:c.contentRating,d=(0,l.useMemo)((()=>({src:null===u||void 0===u?void 0:u.imageUri,alt:null===u||void 0===u?void 0:u.ratingDescription})),[u]);if(!u)return null;const h=(0,g.OjV)(a,(0,g.NRv)(u.descriptors)),y=[];(null===(t=u.interactiveDescriptions)||void 0===t?void 0:t.length)&&y.push((0,g.OjV)(a,u.interactiveDescriptions));const b=[];(null===(n=u.disclaimers)||void 0===n?void 0:n.length)&&b.push((0,g.OjV)(a,u.disclaimers));const C=(0,g.WUZ)(i,u.rating,s);return l.createElement("div",{className:o},l.createElement(m,{className:"AgeRatingInfo-module__ratingPositionOverride___y86yq",imgProps:d,ratingLink:u.imageLinkUri,ratingValue:u.rating,linkButtonProps:{"aria-label":C}},l.createElement(p,{label:h}),y.length>0&&l.createElement(l.Fragment,null,l.createElement("hr",null),y.map(((e,t)=>l.createElement(p,{key:`rating-interactive-description-pdp-${t}`,label:e})))),b.length>0&&l.createElement(l.Fragment,null,l.createElement("hr",null),b.map(((e,t)=>l.createElement(p,{key:`rating-disclaimer-pdp-${t}`,label:e}))))))};var b=n(900814),C=n.n(b),E=(n(73439),n(171315)),S=n(387342),T=n(12986);const w="BlendsHost",I={ClientType:"XboxCom",ParentElementId:w,PurchaseServiceVersion:"7.0",PurchaseScenario:"GiftPurchase"},k=e=>{const t=(0,E.Tv)(),n=(0,v.useSelector)(g.yWe),r=(0,S.Qc)(),o=(0,v.useSelector)(g.gzb),a=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.UsePurchasePPE))),i={ProductId:e.productId,SkuId:e.skuId,AvailabilityId:e.availabilityId,BuddyPassOfferId:e.buddyPassOfferId,Culture:n.localeWithScript,Market:n.market,CV:r.cv().increment(),Style:{cssOverride:o===g.Q2A.Dark?A.Dark:""}},s=t=>((e,t)=>{const n=JSON.parse(e.data);((0,g.Ypc)(n.message,"done")||(0,g.Ypc)(n.message,"redeemDone"))&&t&&t(n.status)})(t,e.onComplete),c=(0,g.Gq1)(a?T.Fl:T.ys);return(0,l.useEffect)((()=>{if(c===g._M1.Ready)return e.buddyPassOfferId?(async(e,t,n,r)=>{if(void 0!==WebBlender&&void 0!==WebBlender.redeem){const o=await(0,E.F3)(t,E.Q7.MDollar);WebBlender.redeem(C()(C()(C()({},e),I),{},{Flight:"enablebuddypass:1",Style:{cssOverride:A.GamingApp,layout:"modal"},XToken:o,Environment:r})),null===WebBlender||void 0===WebBlender||WebBlender.registerMessageHandler(n)}})(i,t,s,a?"ppe":"prod"):(async(e,t,n)=>{if(void 0!==WebBlender&&void 0!==WebBlender.purchaseSingleItem){const r=await(0,E.F3)(t,E.Q7.MDollar);WebBlender.purchaseSingleItem(C()(C()(C()({},e),I),{},{XToken:r})),null===WebBlender||void 0===WebBlender||WebBlender.registerMessageHandler(n)}})(i,t,s),()=>{null===WebBlender||void 0===WebBlender||WebBlender.unregisterMessageHandler(s)}}),[c]),l.createElement("div",{id:w,className:"BlendsHost-module__blendsHost___xIxx8"})};var A;!function(e){e.GamingApp="gamingapp",e.Dark="dark"}(A||(A={}));var P=n(289872),x=n(353513);const R=n.p+"static/media/browseAllGamesModuleImage.0ea1be45.png";var N=n(925262),O=n(811103),L=n(364807),M=n(295240);const U=e=>{const{className:t,label:n,url:r}=e,o=(0,M.b)();return l.createElement(c.k,{className:s()("SnoByrdButton-module__snoByrdButton___LrK0z",t),as:"a",href:r,"aria-label":n},l.createElement("span",{className:"SnoByrdButton-module__snoByrdButtonContent___abZnS"},l.createElement("div",{className:s()("SnoByrdButton-module__snoByrdIconSpacing___QcidL",P.fe)},n),o?l.createElement(O.Z,{"aria-hidden":!0}):l.createElement(L.Z,{"aria-hidden":!0})))};var D;!function(e){e[e.Console=0]="Console",e[e.PC=1]="PC"}(D||(D={}));const B=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o}=e;return l.createElement("div",{className:"BrowseAllGames-module__moduleContainerDesktop___Koi4b"},l.createElement("img",{className:"BrowseAllGames-module__imageDesktop___c2AGe",src:R,alt:r}),l.createElement("div",{className:"BrowseAllGames-module__titleAndButtonContainerDesktop___keIAC"},l.createElement("h3",{className:P.A9},o),l.createElement(U,{className:"BrowseAllGames-module__ctaDesktop___bpCoU",label:t,url:n})))},F=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o,moduleTitle:a}=e;return l.createElement("div",{className:"BrowseAllGames-module__moduleContainerMobilePortrait___RVbuP"},l.createElement("h3",{className:P.O8},a),l.createElement("img",{className:"BrowseAllGames-module__imageMobilePortrait___eODRo",src:R,alt:r}),l.createElement("div",{className:"BrowseAllGames-module__centeredContainerMobilePortrait___fFseT"},l.createElement("h4",{className:P.TH},o),l.createElement(U,{className:"BrowseAllGames-module__ctaMobilePortrait___xbGUY",label:t,url:n})))},H=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o}=e;return l.createElement("div",{className:"BrowseAllGames-module__moduleContainerMobileLandscape___pJRu4"},l.createElement("img",{className:"BrowseAllGames-module__imageMobileLandscape___vTUr7",src:R,alt:r}),l.createElement("div",{className:"BrowseAllGames-module__titleAndButtonContainerMobileLandscape___QXhTw"},l.createElement("h4",{className:P.HX},o),l.createElement(U,{className:"BrowseAllGames-module__ctaMobileLandscape___JNIkx",label:t,url:n})))},q=e=>{const t=(0,v.useSelector)(g.Yzi),{homePageBrowseAllGamesModuleTitle:n,homePageBrowseAllGamesModuleSubTitle:r,homePageBrowseAllGamesImageAltText:o,homePageBrowseAllGamesConsoleButtonLabel:a,homePageBrowseAllGamesPCButtonLabel:i}=(0,f.y_)("homePageBrowseAllGamesModuleTitle","homePageBrowseAllGamesModuleSubTitle","homePageBrowseAllGamesImageAltText","homePageBrowseAllGamesConsoleButtonLabel","homePageBrowseAllGamesPCButtonLabel");let s="",c="";e.mode===D.Console?(s=a,c=N.DA):e.mode===D.PC&&(s=i,c=N.cr);const u={moduleTitle:n,moduleSubTitle:r,imageAltText:o,buttonLabel:s,buttonLink:(0,g.uQr)(c,{locale:t})},d=(0,x.Wp)({desktopComponent:B,mobilePortraitComponent:F,mobileLandscapeComponent:H});return d?l.createElement(d,C()({},u)):null};var G=n(612502),z=n(193660),X=n(859387),$=n(124923),V=n.n($),W=n(615946),K=n(514701),j=n(607739),Y=n(495895),Z=n(631999),Q="ButtonWithFlyout-module__flyoutButton___q31zM";const J=["accessibilityLabel","children","buttonId","buttonType","className","showArrow","telemetryProps"],ee=l.createContext({reverseOpenDirection:!1,reverseVerticalPosition:!1,showFlyout:!1,closeFlyout:()=>{},openFlyout:()=>{},buttonRef:void 0,flyoutRef:void 0}),{Provider:te,Consumer:ne}=ee,re={left:0},oe={right:0},ae=e=>{const{children:t,flyoutBoundingParent:n,className:r}=e,[o,a]=(0,l.useState)(!1),[i,c]=(0,l.useState)(!1),[u,d]=(0,l.useState)(!1),h=(0,l.useRef)(null),m=(0,l.useRef)(null),p=(0,x.df)(),g=(0,Z.mG)(o,(()=>a(!1)),m,h);(0,l.useEffect)((()=>{if(m.current){let{left:e,right:t,top:r,bottom:o}=m.current.getBoundingClientRect();if(null===n||void 0===n?void 0:n.current){const a=n.current.getBoundingClientRect();e-=a.left,t=a.right-t,r-=a.top,o=a.bottom-o,d(r>o)}else t=window.innerWidth-t,o=window.innerHeight-o,d(!1);c(e>t)}}),[p,n]);const f={buttonRef:m,flyoutRef:h,reverseOpenDirection:i,reverseVerticalPosition:u,showFlyout:o,closeFlyout:g,openFlyout:()=>a(!0)};return l.createElement("div",{className:s()("ButtonWithFlyout-module__buttonContainer___DM0Hd",r)},l.createElement(te,{value:f},t))};ae.Button=e=>{const{accessibilityLabel:t,children:n,buttonId:r,buttonType:o,className:a,showArrow:i,telemetryProps:u}=e,d=V()(e,J);return l.createElement(ne,null,(e=>{const{buttonRef:r,showFlyout:h,closeFlyout:m,openFlyout:p}=e,g=(0,S._d)({behavior:h?S.cg.REDUCE:S.cg.EXPAND},u),f=(0,S.iZ)(g);return i?l.createElement(K.Z,C()(C()({as:"button","aria-expanded":h,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Q,a]),onClick:h?m:p,icon:h?j.Z:Y.Z,ref:r},f),d),n):l.createElement(c.k,C()(C()({as:"button","aria-expanded":h,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Q,a]),onClick:h?m:p,ref:r},f),d),n)}))},ae.Flyout=e=>{const{buttonRef:t,closeFlyout:n,flyoutRef:r,reverseOpenDirection:o,reverseVerticalPosition:a,showFlyout:i}=(0,l.useContext)(ee),s=(0,x.EX)()<=x.JD.SM;let c={},u={};if(null===t||void 0===t?void 0:t.current){const e={right:`calc(-${t.current.offsetWidth}px + 8rem)`};c=o?s?e:oe:re,u=a?{bottom:`calc(${t.current.offsetHeight}px + 0.5rem)`}:{top:`calc(${t.current.offsetHeight}px + 0.5rem)`}}const d={width:"max-content"};return l.createElement(l.Fragment,null,i&&l.createElement(l.Fragment,null,l.createElement(W.FocusContainer,{autoFocusContainer:!0,className:"ButtonWithFlyout-module__flyout___CjK6D",role:"dialog",style:C()(C()(C()({},c),u),s?d:void 0)},l.createElement(x.Lx,null),l.createElement("div",{ref:r},e.children)),l.createElement("div",{className:"ButtonWithFlyout-module__lightDismissLayer___FLmRO",onClick:n,role:"none"})))};const ie=e=>{var t;const n=null!==(t=e.ariaLabel)&&void 0!==t?t:e.label;return l.createElement(c.k,{as:"button",buttonType:u.L$.Tertiary,className:"ButtonWithIcon-module__button___h6MbS","aria-label":n,onClick:()=>window.location.assign(e.url),style:e.widthInRem?{width:(0,Z.wU)(e.widthInRem)}:void 0},l.createElement("div",{className:"ButtonWithIcon-module__insideContainer___5hWC1"},l.createElement("div",{className:"ButtonWithIcon-module__icon___TGo-W"},e.icon),l.createElement("div",{className:s()(P.gC,"ButtonWithIcon-module__label___WxWzd")},e.label)))};const se=e=>{const t="1.25rem",{width:n=t,height:r=t}=e,o=(0,v.useSelector)(g.gzb),a=(0,f.iV)("loadingText"),i=o===g.Q2A.Dark?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAYKADAAQAAAABAAAAYAAAAACpM19OAAAMnUlEQVR4Ae2da4xdVRXHO1gf1AfyEEsLtlCfKFExJJqIGIGAfjAmQkQT/WBijMbEhA8kGk00USMf/GD8otH4BiKJRkjUJmIDgg0+olHASi1KybSg0FoBW0qr9f+7s/+36+4558w9c8/tnXtnr2TN2nvt93+tvfY+596ZmVuzQunYsWNrNbXnip8f5Dql0cPPEj9TfJL4qPh/SR6RPCR+Uvy4eW5uDv2Ko7mVMqME+Kmaz+mJAZ75PUMMAbTniyQPLVXudgdU9xGzDPI0jSdNXtBE5pFAP1ODrxcDPGTASEegrUcX9XUGqNPTzzHxo+Jd4r/LGIclJ0In3AACnTHxdEA/QwxQ6JoAU3HfMNSFARKqa1endztL+tgt3il+SMbAOCeMWMgJoQQ8gL9ETGzPgTQgSM8LmQOZt8vL1aTSoHm7fDzKCVO/F/9VhuBMGTsx6FgpAU+YOVv8HHHVwplHrpdqEZDobCADOooB3Ec+/r81DobYMW5DMPDYSOBzkJ4r5vYSAWZMgPP4OQDkzW7n+lV6+ssNk7ejDm2jwaxzn3n5PlXYJiPspeI4iAE7JwHP9fAc8YtS53GBdcBYH2VsF4EbRu9+bDimQru8H+vz+nGM+1TpThmC622nxCCdksB/oTrcLMYIcREeK1+oqvXq5Xrqc79/Qvwf8UExd3tuLP8VU+a7PWPxbIA8WfwC8SlJcu4Q+jyXfBwVLRrfOrdBcm3dKiNwc+qM6LgTSrGeOE+8h7xQpMdBWm9PRGfmBkL83Z/4SS14pFtJmhe3rg3is8TMEWN5Xp5bnJd1SOstORvu0LxwgpHJA43UkRb5bHWwSVwV671QxogLcmhAxxMrD0mPamF49thIc+UJ+lzxK8QYhfGr5iX1gN4GQDLXH2uuOMtIxMAjkRYE6OeJI6BxQZ64F2qJ/h/ieS2k89iqfpckzZ1Q9Xrxq8TsCs/bc5RqYAdYj3xKfLPmPtIBTUfLJi2AWw73+hx8+jTwyDhxQgrAP6zJT+wJVOP3SevgueQN4gvENoTnHNdBG+uR7NYfaR0PULAcopNlkSbNYUs8dR8GGoDROcbHBbBlH9SE8Z4VR2lHvFUTO08c581c7WRen8spu1VrupdEWzJ4rdqliQI+5InQV84u5wZBqPkXipVOWt8WzfEyMTu8bn1Rz5I4E+4h0YZaG0CTY7tyxzfY+UTIu18kB+xuTW6sh6vG6JS0Tq6uV4g5rON6vF5L48DOuEnr3CU5NLnjoRqkSRHzPTjtnI6SfpkQcZ63jlNLWjNnw6Vi1se64jqV7etZL88l39Wa5ykYhoY2gCbCQw7gc0iZaG+OE+OOTKznAWrqSWsn3F4tZlfEdXrtlqyVG93XtPahwq07o2EtaQIMwOtjJG8JsbaJNDoz8f6BWQGfRSaP/r6SOBSYRVa2RzbC85S7Rpj5EpKKq8VQBlDT08U8bJlsAGRMA/7fNOEVecvx5JcjtSZC6bfFvKADbBMYxjz6jeIrSSxFSxpAluTQ5TZgD8+lxwD83ZoociZJa+NCcYOYd1KmuBti+s3C7nxXqpONBkjb6DQ1tpdX9UMZNxyumX45VlVvJnRaI88yhCMeInPPZ43ojOtVyYHRV5IrVhZKycOW6+SeH/N7NLEV8VRbt5Au9VrrP9XfjWKcD3wiK9snXtO8o5+rSBjcRUWyHDGfDiAG8i4AeKcpe0wTmsi7HAafFGnND2nsrWH86PmowRbdRcJys2QlVRpADWiI9wO0PT3vAD2viw/kBaslr7XfrbXuEEccSef8bmEa6/QhqlSqFM/n3h/JxrCOeP+YM6tY/lBr51zAaSHLhdzCTz6HuCgqnF5kgOT93Hzs+XVyvzygkw8lPJlplMKA8HurOPf6PH9Z1S5YZAB1FJ/26jA5pIH5iLCQEBAWf5YgFFUROwKc+WiUzx4GaMAAwfupVOf56Id6zB4YafYzt2iJhOnc8+PKL08Y93UDBpCWj+t4hKYjGAJw55EcvFP1ZpNFjJuECZ9jbxfb4xmStM8EsOYsOF/cp9wAXD3t+YBN2mRDxKdAlxW5gMDtEj4XDT4OHfmNC1UXfvYNkA4IdoAper0NQez3AK5XZEJA2HAb+k3Kgq29P6l64gJhzVdnetQ3gHKAD9AADJPOuXi/QFmCtqkcjwfbKibK8BlDj6IBuPfj9XV0pHh/HTTH9cKIZ6OqT8XYDca7H4Z6inQy+/DNvd75mXvFfBy2zlO/TWDHHRAH2eIwZIvwKVeM+VQG+Kib2dfMLLZj+oP646ZofH0gM4yN8jJnkHi/PZ18JIxA+KG80BAICCuejv+SqgK4w4/BR/JlsL6FMIAJwA22d8DMv+f34juUO9WXPR+Z0ytRrE3xn7RBzyuTLw9eINSO7lf16Ng5rps4B7wlmrqOO6KpXikbRGBe2aprO4Ywr8cAULz3588BRxXTMEKhFggkzDACuwC2sxt8ejsLpbcGIcgxP0qHJhoUaocAX0KGDHou13P9tAF6NcMPe30xQAClZfJh1Te+uaSrDRgAAmQqGHR0pmIAI9FePqImVcC7p9MwgMONlZZu6HyR7RHg5Vy8CdFDxHWdD+Gmrqt2RVP9UnYcgaVe35zMDigh5jhgXacwQL4D4hjrfAZEZUl3hwCvJGLIyXtet7a848kx6TzfZIC5sgM6x3ugQz75ajLAU34XxIcxVRWfLk/BA4C2zWCApovO4ZMSwLzt9LMAhuDmU8AXCCMSBmiiQ70QFIxQXjs3wdW+7FQ1yW9B8Vp/uJwB7UFt02KjKsfQDviEJBthXzFAGzjb1z1bTWwAQHfacm8xQHtQ27TId0DethggR6SrfPqkkQ/e81uQww9D7ckLuxq/9LNmzWaBwF9jaaI9JQQ1wTNa2evUPDp49Hx65nepDxYDjAZyU2sM4MMW8OPth3Z/4ke0EPlCHSCg+M9vGF0otgEs6d3pngHKDgCS7ulidcmXcHMCfHYDfC+FxQCg0D1dqS79BOzYH+V9iv+9P2RSQlDH4Cv8bFCXr12i29tcXnaAkehOXpO6snNHz6eILznfmeqUQ9hAdCHl/Weon7eLifU+bDGE00qu2a7w0//GXNkBQNIdvU9d8Wu+EN8wjOQd8fMqZdSV9DIQkPfzG5DvCk3xeoPuHbFbul+HOuUWFMEYMX2t2uP9jvkOO87zgdcN6bOX/lC2UF9REu0RkPdz74cNelUne6XclheUMyBHpGVe4PPXxK4Lzbj/4/X2fMsb5f35udCPUaF9SbZE4NOq/2Ix3h8jCmnviF1K/1S8iMoOWATJ8Ap5/3tV+22phT0993IM8aUq76ddtFjqp4hhEBD4vO3k4M0p7gTSPxH4vRdveUXy3iJVZUVXg4DA36Kib4mJ//Z8S3/Xljzfjr5aBjggWUllB1TCUq8U+OtV+lWxP+0CwzpH/lwT+IxSzgBQGJIEPg9bXxcj8XS83J6fOzN3/jtU3kh1lmtstBoLBf5Lte5viHnfAznUWKKzQXjX/0EZ4CjKJvI766Y6q75M4F8oEL4p5k8447R23Ci9Ex5X+UcEPvF/Scq3zZINVlsFgf8Brfl74lPS2utiPsY4LP6YwOepdygqZ0ANTAKeQ/Z68eWpCqHGIQZV7ry8579W4BN+hqa8k6EbznJFgQ/oPxNfka3TIQd1TJP/lMDfTqINlR0Q0BLw5yj7WfGlYnu7gc6lW7IzPiHwK181uFKdLAYQMgKeu/2Hxe8X86fbIB+qAO90r0A/rDuo9McF/l0uaCtXtQEE/GYB9lHxe8TGAo+ORJjODUD5PvGHBP49ZJZLHnS57aeunUDncH2nmP8J8yZxPFwj0Hi5PV3JgTTvdvD8eQpGoZk3gAAHxFeL35L4Ekm+NOW3lpRDBttGcH6hdOEnuu+Irxf4R2LBctNTbwABTMzmpZj5TKVfLuar4cjXiHmAqvN0FfXBb0rzYHWdgB/4UJ0Go9BUGkCgb9SiPy/GmzeJ8Ux7NBIvNucxnbpQlNSNRFksv1n5Lwr8/bFSF+mpM0AC/y4tHk/v6jkGsG2EmN4h/ScF/O8kx0JTZwCh8Bkxv30YvVTZRWQPdoHzEWjKrLdE96D4K2L+Xa13lrLd0zQa4OIEQwRsWGRoEw3gtNvfr8SXxbeMG3gPOI0GMGjIKiNY53rOs2brvH7KeIezVXyT+BcCPq8j9fhoGg3wK8FxlTgCOyxCtAFgDua7xT8Q829oeYU8EVrOIiYyUQ+aDmGM4K+CcA1lHY7V+XXTt6A/qs4vxbeL+YLsxEDX+H2aOgMw82SELyh5iZiPB58Qc09HAuy8mHi+0yzAKVtx9H/5eP1D81B3eQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAGz0lEQVRoBdWZS2zURRzHu4/utrsLxZYSukXERkBTbKGEQH1EImlNSPBg0sQYY2LigxDj1XgwwYMHL1684ElvBOFgxFhDommNFCkUCmiQ2FAtyraUUtptu33s/tfPd7Kz2a703S3bSSbz+P9n5vv9vWb+83cVLENqamry3Lhxo6ywsLDU5XKtdRwnNDU15fd4PL5kMumhL8Eyca/XO5pIJEYo+4LBYKSlpSW+1OVdi51g//793tHR0fUAXA/YckB6qbuVIODJrKtPbd5J97NukhyB5K3y8vK/mpubJxaDZcEEJO2enp4KQG8i+wAgwG5bCnyq7rFksglYIpYkbQfwV3jvSkdHx9RCiMybAIu5amtry30+X+Xk5KTfgrPAsyTsESmSymwiMilpxJSATWuH/nHGtB86dOj3o0ePitScaV4EqqurfUVFRVUAD1rAVspW+qw0iW0PYONRfGEiEAjIJMaFAE0Vx+PxQCwWCzCujK7HGFdiNWGFYTXC83585NuzZ89GNX62NCeB3bt3B1hsC5P7LFiVWgxtOJS9ZWVlA2fOnBmdbaHsZ/X19aUIZAuEa3gWYB6rGTdt+UuM/M3ly5dvZ4/NbM9KYOfOneuYJIz0PEjX2LrAI+ECct/mzZsjJ0+eVIRZdEJAhQyuU4aMX4JhTUOCviQa+wG/uDbTAjMS2Lt379qxsbFwCrhLwFUnR6nfWqizzQTA9tfU1Mg8D0BgG33WL0TEhYmdvnTp0lX7bmb5QAKEyKLh4eFNSMRIXcBV9/v9d9vb2/uQkELgsifAu/bs2fMMPvOc1YI0Qkpirl+dP3/+n+xF/0dA8X1oaKiSScDtlSRcysXFxREmGM6eIBfturq6p1jzZTTtSxERzjEEeCwbg1SUTgLa19dXrhLWDravoO6sWbPmdvbA9KAcVDCX60x7WuDBYjLttRMTE68TXqdh9mSuf+rUqRDAg5iLnNQ8QvL329rahjLfW4l6b29vf2VlpUy4KsOcSrq6uqKRSORfiyHNRlKnMySJK2NC2khGAT9oX17p8uLFiy2A/4N1004NoUZOAz6LJU1gx44dQXUSmw0BNJDYvn37ABPkxGEtgNlKra0NjTJOFlZppKS7u/sFO84QkF2x0xZZ6YsEO2l0qTHeLrKUUrsxZv2LfEEklDHxA9pgNa8hgIMWcrJMAjyhDJd4Q0PDgnbWpYCca+yGDRtaITEGCZ1mdb4S+Kc1zjhxVVVVER4OOVcBLxYQPmPHjx+fnGvilXqO4ybC4bAf4NvAZ0xJmsCZO0ycv3nzpmdkZMRBCw6270BoUWfzXBJC8lcFWqbEOjIjzpjVPk9ra6uXeG+ISQMkhy+lvCNAWI1WVFTUQ0ChXkC9+Ozf7v7+fve9e/ecwcFBJxQKJTigLeiDQoxXKiHgayktyPTl0E8q+iTJijqJgYEBkVjyd2oOCfXIiUWCNUQi7OZUmcRJnJKSEodzvQzrocX9uYgD/H6mBiCzUbZkQmlqsNragfOSBLG/An/9VIEI8HBxjQi8ANusj5O8BA+uAg6Vg4A2ewFNYQ96U19Eem7Scn+o2HmXo0ztVdMOoG5YJTm4+cbHx/2qL8dCuZoDjI9gOmYvSJUT3tTtWD5HnrQ8iPulbGA6SqhPTjDmTT9dBRXAlyF5hVFjKZR3VhUBZPyETEeyFgnS7VVFAMDPAlxObDSASV3L3ANELG/Tvn37tgA+DAkbRqc4ZneuGg0QQp8XeJkOUtZdS6dutFeFBvT1BfhXAG9DqMzoV5nLqtAAYfNVsJZCQqHThE9uS9pEIO81oEtgcL4mrOAXXuUT9uY6rwlI4FzJf4AGdGNijtFoYJCT89e0TcprAtj+O6B80do+dWnhS04P5r+DGOQtAf4GNSL5w9ZsRIL859atW78TcJvMR7Bt5EvJ5e5LgP8EPLrf1E8U/a/qx3Hf4KbwTibOvCIgmwf8e4A/grQNcJUAHmfXfetBPzryhsCuXbt0K/4xYBsoEyngIqG/NB9yYz3NdKwWHvo+0NjYGORm5F0AvU32kx3Ay1l1YJsE/EczgReJh6aB1E+MgwB9ExzrKAU802z0J+gIP/muCOhMKeca4I9PSP/a+OqrANBG7LsWMAc52z9KO2GB06czDl3mdu03bggPX7hwoXcm4LY/ZxrgD6ds+RgLPQ4mATV2nSotcF0iWKmrLsCfESpPzPdmPGcEcMrrSLsKQIUpAjKRacB5ZglEefY5YfKLc+fOxeifd8qZCSHpBwoHoOZOh7ge450faX8P2ubOzs7780ad8WIuCbwPuGOArGS9IQDfpeyifZ3+n7nO/Gmh0s7Ana7+B+Qp2nJi6lQSAAAAAElFTkSuQmCC";return l.createElement("img",{role:"alert","aria-live":"assertive",tabIndex:-1,alt:a,src:i,style:{width:n,height:r},className:"ProgressSpinner-module__spinner___jUvZR"})};const le=(0,l.forwardRef)(((e,t)=>l.createElement(c.k,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.L$.Primary,className:s()("ButtonWithSpinner-module__desktopSpinnerButton___MXz1p",e.className),ref:t,title:e.accessibilityLabel,style:{height:(0,Z.wU)(e.height),width:e.sizingText?"":(0,Z.wU)(e.width)}},e.sizingText&&l.createElement("div",{"aria-hidden":!0,className:"ButtonWithSpinner-module__hiddenSizingText___jdGu3"},e.sizingText),l.createElement(se,{width:(0,Z.wU)(e.height/2),height:(0,Z.wU)(e.width/2)})))),ce=(0,l.forwardRef)(((e,t)=>l.createElement(c.k,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.L$.Primary,className:s()(e.className,"ButtonWithSpinner-module__mobileSpinnerButton___iuTvL"),ref:t,title:e.accessibilityLabel},l.createElement(se,{width:(0,Z.wU)(1),height:(0,Z.wU)(1)}))));var ue=n(247739),de=n.n(ue);n(231235),n(9e4),n(464925),n(426464),n(18339),n(654819);const he=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),l.createElement("path",{d:"M25.85 4.507a1.46 1.46 0 00-.907.436L16 13.887 7.057 4.943A1.418 1.418 0 006 4.5a1.46 1.46 0 00-1.057.443A1.46 1.46 0 004.5 6l.009.161c.036.318.18.614.417.877L13.887 16l-8.944 8.944A1.46 1.46 0 004.5 26c0 .38.148.731.426 1.038.29.307.657.462 1.074.462l.154-.007c.354-.034.666-.185.913-.447L16 18.113l8.943 8.944c.273.288.64.443 1.057.443.417 0 .784-.155 1.067-.454A1.45 1.45 0 0027.5 26l-.007-.154a1.415 1.415 0 00-.447-.913L18.113 16l8.944-8.943A1.46 1.46 0 0027.5 6c0-.417-.155-.784-.454-1.067A1.408 1.408 0 0026 4.5l-.15.007z",fillRule:"evenodd"}))};n(888233);var me=n(194622),pe=n(172095),ge=n(840841),fe=n(583857),ve=n(170829),_e=n(348924),ye="Selections-module__chevronIcon___XUd8d",be="Selections-module__container___uyKes",Ce="Selections-module__icon___IBPqb",Ee="Selections-module__options___I24e7";const Se=e=>{const{filterInfo:t}=e;return t.choices.length>0&&t.choices[0]&&t.choices[0].isLabelOnly?l.createElement("ul",{className:"Selections-module__optionsWithSubtitle___uaHrP"},we(e)):l.createElement("ul",{className:Ee,role:"listbox"},l.createElement(Ie,C()({},e)))},Te=e=>{const{filterInfo:t}=e,[n,r]=(0,l.useState)(!0),o=l.createElement(me.Z,{"aria-hidden":!0,className:s()(Ce,ye)}),a=l.createElement(pe.Z,{"aria-hidden":!0,className:s()(Ce,ye)}),i=n?a:o;return l.createElement("div",{className:be,id:t.id},l.createElement("button",{className:"Selections-module__titleContainer___92DiF",onClick:()=>r(!n),"aria-expanded":!n},l.createElement("div",{className:s()(P.gC,"Selections-module__titleText___OaatO")},t.title),i),!n&&l.createElement("ul",{className:Ee,role:"listbox"},l.createElement(Ie,C()({},e))))},we=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e,o=[];let a=[],i="",s="";if(t.choices.map(((e,c)=>{if(void 0!==e.isLabelOnly&&e.isLabelOnly){if(a.length>0&&i&&s){const e={choices:a,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(l.createElement(Te,{key:`${t.id}_${i}_${c}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}a=[],i=e.id,s=e.title}else a.push(e)})),a.length>0){const e={choices:a,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(l.createElement(Te,{key:`${t.id}_${i}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}return l.createElement("div",{className:be},o)},Ie=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e,o=t.choices.length;return l.createElement(l.Fragment,null,t.choices.map(((e,a)=>{const i=(null===r||void 0===r?void 0:r.filter((t=>t.toLowerCase()===e.id.toLowerCase())).length)>0;return l.createElement("li",{key:`${t.id}_${a}`},l.createElement(ke,{choice:e,choiceGroupId:t.id,isSelected:i,isMultiSelect:t.isMultiSelect,onChoicesClick:n,itemIndex:a+1,totalItems:o}))})))},ke=e=>{const{choiceGroupId:t,isMultiSelect:n,isSelected:r,choice:o,itemIndex:a,totalItems:i,onChoicesClick:c}=e,u=(0,f.iV)("listItemAccessibilityLabelFormat"),d=l.createElement(ge.Z,{"aria-hidden":!0}),h=l.createElement(fe.Z,{"aria-hidden":!0}),m=l.createElement(ve.Z,{"aria-hidden":!0}),p=l.createElement(_e.Z,{"aria-hidden":!0}),v=n?r?p:m:r?d:h,_=(0,g.WUZ)(u,o.title,a.toString(),i.toString());return l.createElement("button",{className:"Selections-module__selectionContainer___m2xzM",onClick:()=>{c(t,o.id)},id:o.id,role:n?"checkbox":"option","aria-selected":r,"aria-checked":r,"aria-label":n?_:void 0},l.createElement("div",{className:Ce},v),l.createElement("div",{className:s()(P.gC,"Selections-module__label___CpN0F","Selections-module__textColor___CnMSs")},o.title))};n(748166),n(945162);var Ae=n(245208),Pe="SelectionDropdown-module__chevronIcon___Z81Q8";const xe=e=>{var t;const{filterInfo:n,onChoicesClick:r,selectedChoices:o,titleFunction:a,isInitiallyCollapsed:i,isScrollable:c}=e,[u,d]=(0,l.useState)(null!==i&&void 0!==i&&i),h=l.createElement(me.Z,{"aria-hidden":!0,className:Pe}),m=l.createElement(pe.Z,{"aria-hidden":!0,className:Pe}),p=u?m:h,f=!n.isMultiSelect&&a&&(null===o||void 0===o?void 0:o.length)>=1?(0,g.WUZ)(a,null!==(t=((e,t)=>{const n=t.find((t=>t.id===e));return null===n||void 0===n?void 0:n.title})(o[0],n.choices))&&void 0!==t?t:n.choices[0].title):n.title,v=n.isMultiSelect?n.title:f;return l.createElement("div",{className:"SelectionDropdown-module__container___XzkIx",id:n.id},l.createElement("button",{className:"SelectionDropdown-module__titleContainer___YyoD0",onClick:()=>d(!u),"aria-expanded":!u},l.createElement("span",{className:s()(P.gC,"SelectionDropdown-module__titleText___PN6s9")},v),l.createElement("div",{className:"SelectionDropdown-module__filterInfoContainer___7ktfT"},n.isMultiSelect&&(null===o||void 0===o?void 0:o.length)>0&&l.createElement("span",{className:"SelectionDropdown-module__selectedLabel___49Ksx"},o.length),p)),!u&&l.createElement("div",{style:c?{maxHeight:(0,Ae.wU)(2*n.truncatedDisplayCount),overflowY:"auto"}:void 0},l.createElement(Se,{filterInfo:n,onChoicesClick:r,selectedChoices:o})))};var Re="ClientSideProductFilters-module__buttonContainer___iR8hA",Ne="ClientSideProductFilters-module__filter___-Cm1k",Oe="ClientSideProductFilters-module__filtersTrackerButton___49MAj",Le="ClientSideProductFilters-module__filtersTrackerText___yWu16";const Me=e=>{const{browsePageFilterTitle:t,genreFilterTitle:n,productKindFilterTitle:r}=(0,f.y_)("browsePageFilterTitle","genreFilterTitle","productKindFilterTitle"),{children:o,className:a}=e,{activeFilterFunctions:i,initialProducts:s,setActiveFilterFunctions:c}=(0,l.useContext)(Z.jP),{filterOptions:u,filter:d,filterValueToDisplayString:h}=(0,Z.Gi)(s),{filterOptions:m,filter:p}=(0,Z.kR)(s),g=(0,x.Wp)({desktopComponent:e=>l.createElement("h3",{className:P.zO},t),mobileLandscapeComponent:Be,mobilePortraitComponent:Be});return l.createElement(l.Fragment,null,l.createElement("div",{className:a},!!g&&l.createElement(g,{activeFilters:i,setActiveFilters:c}),l.createElement(De,{activeFilters:i,className:Ne,displayStrings:h,filterFunction:d,filterName:r,filterOptions:u,setActiveFilters:c}),l.createElement(De,{activeFilters:i,className:Ne,filterFunction:p,filterName:n,filterOptions:m,setActiveFilters:c})),o)},Ue=()=>{const{activeFilterFunctions:e,setActiveFilterFunctions:t}=(0,l.useContext)(Z.jP),{browsePageClearAllFilters:n,browsePageClearAllFiltersAccessibilityLabel:r}=(0,f.y_)("browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel");return Object.keys(e).length>0?l.createElement("div",{className:"ClientSideProductFilters-module__filtersTrackerContainer___7KJC-"},l.createElement("div",{className:Re},l.createElement(c.k,{as:"button","aria-label":r,buttonType:u.L$.Tertiary,className:s()(Oe,P.Km,Le),onClick:()=>{t({})}},n)),l.createElement(He,null)):null},De=e=>{let{activeFilters:t,displayStrings:n,filterOptions:r,filterFunction:o,filterName:a,setActiveFilters:i,className:s}=e;const c=Object.keys(t).filter((e=>r.includes(e))).length;return l.createElement(x.Fd,{className:s,buttonTitle:a,selectedChoicesCount:c},l.createElement("ul",{className:"ClientSideProductFilters-module__options___Lm4fo"},r.map(((e,a)=>l.createElement("li",{key:e},l.createElement(ke,{choiceGroupId:e,isMultiSelect:!0,isSelected:void 0!==t[e],choice:{id:e,title:n?n[e.toUpperCase()]:e},itemIndex:a+1,totalItems:r.length,onChoicesClick:()=>{if(void 0!==t[e]){const{[e]:n}=t,r=V()(t,[e].map(de()));i(r)}else i(C()(C()({},t),{},{[e]:t=>o(t,e)}))}}))))))},Be=e=>{const{browsePageFilterTitle:t,browsePageClearAllFilters:n,browsePageClearAllFiltersAccessibilityLabel:r}=(0,f.y_)("browsePageFilterTitle","browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel"),o=Object.keys(e.activeFilters).length,a=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:o});return o>0?l.createElement("div",{className:"ClientSideProductFilters-module__mobileFilterTitleContainer___fKpug"},l.createElement("h3",{className:P.zO},a),l.createElement(c.k,{as:"button","aria-label":r,buttonType:u.L$.Tertiary,className:s()(Oe,P.Km,Le),onClick:()=>e.setActiveFilters({})},n)):l.createElement("h3",{className:P.zO},t)},Fe=e=>l.createElement("div",{className:Re},l.createElement(c.k,{as:"button","aria-label":e.filterName,buttonType:u.L$.Tertiary,className:s()(Oe,P.Km,Le),onClick:()=>{const t=e.activeFilters,n=e.filterId,{[n]:r}=t,o=V()(t,[n].map(de()));e.setActiveFilters(o)}},l.createElement(he,{"aria-hidden":!0}),l.createElement("span",{className:"ClientSideProductFilters-module__filtersTrackerButtonText___71mUj"},e.filterName))),He=()=>{const{activeFilterFunctions:e,setActiveFilterFunctions:t}=(0,l.useContext)(Z.jP),n=(0,Z.g6)();return l.createElement(l.Fragment,null,Object.keys(e).map((r=>{var o;const a=null!==(o=null===n||void 0===n?void 0:n[r.toUpperCase()])&&void 0!==o?o:r;return l.createElement(Fe,{key:r,activeFilters:e,filterId:r,filterName:a,setActiveFilters:t})})))};const qe=e=>{let{children:t,className:n}=e;const{activeSortFunction:r,setActiveSortFunction:o}=(0,l.useContext)(Z.wT),{sortTitleAscendingText:a,sortTitleDescendingText:i}=(0,f.y_)("sortTitleAscendingText","sortTitleDescendingText"),s=(0,f.iV)("browsePageSortByXFunction"),c={[Z.U8.AlphabeticalAscending]:a,[Z.U8.AlphabeticalDescending]:i},u=Object.entries(c).map((e=>{let[t,n]=e;return{id:t,title:n}}));return l.createElement(l.Fragment,null,l.createElement(x.Fd,{className:n,buttonTitle:(0,g.WUZ)(s,c[r])},l.createElement("ul",{className:"ClientSideProductSort-module__options___UysWw",role:"listbox"},u.map(((e,t)=>l.createElement("li",{key:`${e.id}_${t}`},l.createElement(ke,{choiceGroupId:e.id,isMultiSelect:!1,isSelected:r===e.id,choice:{id:e.id,title:e.title},itemIndex:t+1,totalItems:u.length,onChoicesClick:o})))))),t)};const Ge=e=>{const{showModal:t,setShowModal:n}=e,r=(0,f.UD)("applyButtonText");return t?l.createElement(x.u_,{show:t,fullscreenOnMobile:!0},l.createElement(x.u_.Body,{className:"ClientSideSortAndFiltersModal-module__modal___I6M6W"},l.createElement("div",{className:"ClientSideSortAndFiltersModal-module__inputContainer___W+VVc"},l.createElement(qe,null),l.createElement(Me,null)),l.createElement(c.k,{as:"button",className:"ClientSideSortAndFiltersModal-module__applyButton___LzOHc",onClick:()=>n(!1)},r))):null};const ze=e=>{const{className:t,errorCode:n,errorMessage:r,userRequestMessage:o,primaryButtonAction:a,primaryButtonText:i,secondaryButtonAction:s,secondaryButtonText:d}=e,h=(0,f.iV)("errorCodeTemplate");return l.createElement("div",{className:t},l.createElement("h6",{className:P.uo},r),l.createElement("div",{className:P.Km},o),n&&l.createElement("div",{className:P.Km},(0,g.WUZ)(h,n)),l.createElement("div",{className:"ErrorMessage-module__buttonRow___IeLfN"},a&&i&&l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:a},i),s&&d&&l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:s},d)))},Xe=n.p+"static/media/errorComponent.df11267e.png";var $e="ErrorWithImage-module__text___68A4A";const Ve=e=>{const{cV:t,errorHeading:n,errorDescription:r,imageAltText:o,imageSrc:a}=e,[i,s,c,u]=(0,f.QF)("errorCodeTemplate","errorComponentDefaultHeading","errorComponentDefaultDescription","errorComponentImageAltText");return l.createElement("div",{className:"ErrorWithImage-module__container___1h0z9"},l.createElement("img",{className:"ErrorWithImage-module__image___zS19V",src:null!==a&&void 0!==a?a:Xe,alt:null!==o&&void 0!==o?o:u}),l.createElement("div",{className:"ErrorWithImage-module__textSection___y+nQ0","aria-live":"polite"},l.createElement("h4",{className:"ErrorWithImage-module__errorHeading___xEheO"},null!==n&&void 0!==n?n:s),l.createElement("div",{className:$e},null!==r&&void 0!==r?r:c),t&&l.createElement("div",{className:$e},(0,g.WUZ)(i,t))))};const We=e=>{const[t,n]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),a=(0,l.useRef)(null),i=(0,Z.bN)()?{left:"0.5rem"}:{right:"0.5rem"},c=e.gradientColorOverride?{background:`linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, ${e.gradientColorOverride} 100%)`}:void 0;return(0,l.useEffect)((()=>{var e,t;const r=(null===(e=null===a||void 0===a?void 0:a.current)||void 0===e?void 0:e.clientHeight)||0,i=((null===(t=null===a||void 0===a?void 0:a.current)||void 0===t?void 0:t.scrollHeight)||0)>r;n(i),o(i)}),[]),l.createElement("div",{className:s()(["FadingScrollContainer-module__container___6roxZ",e.className]),"aria-label":a.current&&""!==a.current.innerHTML.trim()?e.ariaLabel:void 0},l.createElement(W.GamepadScrollable,{tabIndex:e.focusable&&t?0:void 0,ref:a,scrollAlignment:"align-to-center",className:s()(["FadingScrollContainer-module__scrollContainer___r0WyB",i,e.focusable&&"FadingScrollContainer-module__focusable___LfO9P"]),onScroll:()=>{a.current&&(a.current.scrollHeight-a.current.scrollTop<=a.current.clientHeight+10?o(!1):o(!0))}},e.children),r&&l.createElement("div",{className:"FadingScrollContainer-module__fade___hd7V5",style:c}))};var Ke=n(190592),je="Tooltip-module__tooltip___viGTe",Ye="Tooltip-module__tooltipContent___JJErM",Ze="FranceCollectionDisclaimer-module__displayInline___-p-t1";const Qe=()=>{const e=(0,v.useSelector)(g.yWe);if((0,g.Ypc)(e.market,"FR")){const e="Voir {0} pour plus d'informations sur les crit\xe8res de classement.",t=l.createElement("a",{href:"https://www.microsoft.com/fr-fr/store/b/imprint",target:"_blank",rel:"noreferrer"},"mentions l\xe9gales et informations consommateurs");return(0,g.vvg)(e,t)}return null},Je=e=>{const t=Qe(),[n,r]=(0,l.useState)(!1);return t?l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button",buttonType:u.L$.Tertiary,role:"button","aria-label":"Ic\xf4ne d'informations",className:s()(Ze,"FranceCollectionDisclaimer-module__iconButton___yNMeR",e.foregroundStyle?"FranceCollectionDisclaimer-module__buttonWithoutFocusBackground___OHrpT":null),"data-tip":!0,onClick:()=>r(!0),style:e.foregroundStyle},l.createElement(d.JO,{icon:Ke.Z,iconSize:d.Jh.Small})),l.createElement(x.u_,{show:n,onCloseBtnClick:()=>r(!1),closeable:!0},l.createElement(x.u_.Body,null,l.createElement("div",{className:"FranceCollectionDisclaimer-module__contentMargin___TerUh"},t)))):null},et=()=>{const e=Qe();return e?l.createElement("div",{"aria-label":"Ic\xf4ne d'informations",className:s()(Ze,je,"Tooltip-module__tooltipArrowLeftPositionAdjustments___OPFdG"),"data-tip":!0,tabIndex:0,role:"button","aria-describedby":"tooltip-content"},l.createElement(d.JO,{icon:Ke.Z,iconSize:d.Jh.Small}),l.createElement("div",{role:"tooltip",id:"tooltip-content",className:s()(Ye,"Tooltip-module__tooltipContentPositionAdjustments___eLdI+")},e)):null};n(213489);var tt=n(361248),nt=n(712646),rt=n(538185),ot=n(989172),at="ItemsSlider-module__arrowButton___ZH7Ek",it="ItemsSlider-module__arrowButtonIconStyle___2JcCu",st="ItemsSlider-module__disabledArrowButton___VZ+e1";const lt=(e,t,n)=>l.createElement("li",{role:"none",onKeyDown:e=>((e,t,n)=>{var r;let o=-1;switch(e.key){case"ArrowLeft":o=t-1;break;case"ArrowRight":o=t+1}n[o]&&(null===(r=(0,Z.OT)(n[o])[0])||void 0===r||r.focus())})(e,t,n),key:t,ref:e=>{n[t]=e}},l.createElement("span",{key:`ItemSliderItem-${t}-${e.key}`,className:"ItemsSlider-module__itemMargin___s21Pp","data-testID":`ItemSliderItem-${t}-${e.key}`},e)),ct=e=>{var t;const{previousMediaButtonAccessibilityLabel:n,nextMediaButtonAccessibilityLabel:r,pdpChannelShowAllLabel:o}=(0,f.y_)("previousMediaButtonAccessibilityLabel","nextMediaButtonAccessibilityLabel","pdpChannelShowAllLabel"),{items:a,title:i,showAllUrl:c}=e,u=(0,l.useRef)(null),d=(0,l.useRef)([]),h=(0,l.useRef)(null),[m,p]=(0,l.useState)(0),[g,v]=(0,l.useState)({previousButtonVisible:!1,nextButtonVisible:!1}),_=(0,Z.bN)(),y=(0,l.useRef)({minWidth:"min(100%, 1920px)"}),b=e=>{if(u.current){const t=e*a.length-u.current.offsetWidth,n=h.current;n&&(n.scrollLeft=0),v({previousButtonVisible:!1,nextButtonVisible:t>0})}};if((0,l.useEffect)((()=>{const e=h.current;e&&!e.onscroll&&m>0&&(e.onscroll=()=>{const t=Math.min(e.clientWidth-parseFloat(getComputedStyle(e).fontSize),1920)-m;(_?e.scrollLeft>=0:e.scrollLeft<=0)?v({previousButtonVisible:!1,nextButtonVisible:!0}):e.scrollWidth-Math.ceil(Math.abs(e.scrollLeft))-t<=e.offsetWidth?v({previousButtonVisible:!0,nextButtonVisible:!1}):v({previousButtonVisible:!0,nextButtonVisible:!0})})}),[h,m]),(0,l.useEffect)((()=>{m>0&&b(m)}),[m,a.length]),(0,l.useEffect)((()=>{y.current={minWidth:`calc(min(100%, 1920px) - ${m}px)`}}),[m]),(0,l.useEffect)((()=>{var e;if(d[0]){const t=null===(e=d[0])||void 0===e?void 0:e.offsetWidth;return p(t),window.addEventListener("resize",(()=>b(t))),()=>window.removeEventListener("resize",(()=>b(t)))}return()=>{}}),[d[0],null===(t=d[0])||void 0===t?void 0:t.offsetWidth]),0===a.length)return null;const E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=h.current;if(n&&u.current){const r=t?1:Math.floor(u.current.offsetWidth/m),o=e?1:-1;let a=n.scrollLeft+o*r*m;if(e){let e=a/m;e=_?Math.floor(e):Math.ceil(e),a=e*m}else a-=a%m;if(Math.abs(a)+n.clientWidth>n.scrollWidth){const e=n.scrollWidth-n.clientWidth;a=o*(e-e%m)}n.scrollLeft=a}},T=()=>{if(h.current){const e=h.current.getBoundingClientRect(),t=(0,Z.OT)(h.current).find((t=>{const n=t.getBoundingClientRect();return n.left>e.left&&n.right<e.right}));null===t||void 0===t||t.focus()}},w=g.previousButtonVisible||g.nextButtonVisible,I={areaName:i?`${i}-ItemSlider`:"Unknown-ItemSlider",contentType:S.zc.Button};return l.createElement("div",{ref:u},l.createElement("section",{"aria-label":i},w&&l.createElement(x.lg,{className:"ItemsSlider-module__itemsSliderButtonRow___dyi64"},l.createElement(x.Lk,{className:"ItemsSlider-module__buttonsWrapper___PiS68"},c&&l.createElement("a",{href:c,className:s()("ItemsSlider-module__showAllLink___l+XAi"),"aria-label":o},o),l.createElement(tt.$,C()({as:"button","aria-label":n,className:s()([at,"ItemsSlider-module__arrowBackButton___YmEyz",g.previousButtonVisible?ot.KZ:st]),disabled:!g.previousButtonVisible,icon:_?nt.Z:rt.Z,iconClassName:s()(it,ot.OU),onClick:()=>{E(!1!==_),T()},title:n},(0,S.iZ)(C()(C()({},I),{},{id:"scrollBackButton",contentName:n,slotNumber:0})))),l.createElement(tt.$,C()({as:"button","aria-label":r,className:s()([at,g.nextButtonVisible?ot.KZ:st]),disabled:!g.nextButtonVisible,icon:_?rt.Z:nt.Z,iconClassName:s()(it,ot.OU),onClick:()=>{E(!0!==_),T()},title:r},(0,S.iZ)(C()(C()({},I),{},{id:"scrollForwardButton",contentName:r,slotNumber:1})))))),l.createElement(x.lg,null,l.createElement("ol",{className:"ItemsSlider-module__wrapper___nAi6y",ref:h,onFocusCapture:e=>{if(void 0!==typeof document&&e&&e.target&&1.5*m<document.documentElement.clientWidth){const t=e.target.getBoundingClientRect();t.right>window.innerWidth||t.right>document.documentElement.clientWidth?E(!0,!0):t.left<0&&E(!1,!0)}},role:"none"},a.map(((e,t)=>lt(e,t,d))),l.createElement("li",{"aria-hidden":!0,style:y.current})))))};var ut=n(821883),dt="FadeContainers-module__widthInherit___5fuOa";const ht=e=>l.createElement("div",{className:s()("FadeContainers-module__fadeIn___5xlsD",dt),onAnimationEnd:e.onAnimationEnd},e.children),mt=e=>l.createElement("div",{className:s()("FadeContainers-module__fadeOut___35iB7",dt),onAnimationEnd:e.onAnimationEnd},e.children);const pt=e=>{const{lceState:t,isNotRequested:n,isFetching:r,content:o,error:a,defaultRender:i}=e,[s,c]=(0,l.useState)(t),[u,d]=(0,l.useState)(t),[h,m]=(0,l.useState)(void 0),[p,g]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),_=(0,l.useRef)((0,ut.lceSelect)(u||(0,ut.lceNotRequested)(),{default:i,content:o,error:a,isFetching:r,isNotRequested:n})||null);return(0,l.useEffect)((()=>{p||f?m(t):t&&t.type!==(null===s||void 0===s?void 0:s.type)&&(d(t),g(!0))}),[t]),(0,l.useEffect)((()=>{if(f){const e=(0,ut.lceSelect)(u||(0,ut.lceNotRequested)(),{default:i,content:o,error:a,isFetching:r,isNotRequested:n})||null;_.current=e,g(!1)}else h&&h.type!==(null===s||void 0===s?void 0:s.type)&&(d(h),m(void 0),g(!0))}),[f]),p?l.createElement(mt,{onAnimationEnd:()=>v(!0)},_.current):l.createElement(ht,{onAnimationEnd:()=>{c(u),d(void 0),v(!1)}},a?l.createElement(x.SV,{renderError:e=>{const t=(0,ut.lceError)(e,u);return a(t)}},(()=>_.current)):_.current)},gt=e=>(0,x.EX)()>=x.JD.SM?e.children[0]:e.children[1],ft=x.lg,vt=x.Lk;gt.Desktop=ft,gt.Mobile=vt;const _t=e=>{let{items:t,title:n}=e;return l.createElement(gt,null,l.createElement(gt.Desktop,null,l.createElement(x.Lk,{xs:12},l.createElement(x.Lk,null,!!n&&l.createElement("h2",{className:s()("SizeAdaptiveItemSliderChannel-module__channelTitleText___SexCs",P.hO)},n)),l.createElement(ct,{items:t,title:n}))),l.createElement(gt.Mobile,{className:"SizeAdaptiveItemSliderChannel-module__mobileContainer___IhbnZ"},!!n&&l.createElement("h2",{className:P.hO},n),l.createElement("ul",{className:"SizeAdaptiveItemSliderChannel-module__listItemStyle___sQYJb"},t.map((e=>l.createElement("li",{key:`${n}-${e.key}`},e))))))};var yt=n(884493),bt=n(8605);const Ct=e=>l.createElement("div",{className:s()("Tabs-module__tab___CxLhH",e.className)},e.children),Et=e=>{const{children:t,className:n,onSelectedIndexChanged:r,initialTabIndex:o=0}=e,[a,i]=(0,l.useState)(o),c=(0,l.useRef)(null),u=l.Children.map(t,(e=>({title:e.props.title,ariaLabel:e.props.ariaLabel,disabled:e.props.disabled}))),{startTransition:d,renderContainer:h}=function(e,t){const[n,r]=(0,l.useState)(e),[o,a]=(0,l.useState)(void 0),[i,s]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{c?(t(void 0!==n?n:e),s(!1)):void 0!==o&&o!==e&&(r(o),a(void 0),s(!0))}),[c]),{startTransition:t=>{i||c?a(t):t!==e&&(r(t),s(!0))},renderContainer:e=>i?l.createElement(mt,{onAnimationEnd:()=>u(!0)},e):l.createElement(ht,{onAnimationEnd:()=>{r(void 0),u(!1)}},e)}}(a,i);(0,l.useEffect)((()=>{null===r||void 0===r||r(a)}),[a,r]);return l.createElement("div",{className:s()("Tabs-module__tabContainer___Z2g7+",n)},l.createElement(Z.fV.Provider,{value:{focusNearestChild:()=>{var e;null===(e=c.current)||void 0===e||e.focusCurrentTab()}}},l.createElement(St,{ref:c,tabs:u,selectedIndex:a,initialTabIndex:o,setSelectedIndex:d}),h(t[a])))},St=(0,l.forwardRef)(((e,t)=>{const[n,r]=(0,l.useState)(!1),[o,a]=(0,l.useState)(e.selectedIndex),[i,h]=(0,l.useState)(void 0),m=e.tabs.length,p=(0,l.useRef)(Tt(null,0)),g=(0,l.useRef)(null),f=(0,l.useRef)([]),v=(0,M.b)(),_=(0,S.Lo)();(0,l.useImperativeHandle)(t,(()=>({focusCurrentTab:()=>{var e;null===(e=f[o])||void 0===e||e.focus()}}))),(0,W.useLeftBumperHandler)("press",(()=>{const t=v?1:-1,n=(0,Z.Is)(e.selectedIndex+t,m);return e.setSelectedIndex(n),p.current=Tt(g.current,n),!0})),(0,W.useRightBumperHandler)("press",(()=>{const t=v?-1:1,n=(0,Z.Is)(e.selectedIndex+t,m);return e.setSelectedIndex(n),p.current=Tt(g.current,n),!0}));const y=()=>r(!0),b=()=>r(!1);(0,l.useEffect)((()=>{p.current=Tt(g.current,e.initialTabIndex,!0),window.addEventListener("gamepadconnected",y),window.addEventListener("gamepaddisconnected",b);let t=navigator.getGamepads();return"object"===typeof t&&(t=Object.values(t)),r(t.filter((e=>!!e)).length>0),()=>{window.removeEventListener("gamepadconnected",y),window.removeEventListener("gamepaddisconnected",b)}}),[]),(0,l.useEffect)((()=>{const t=Tt(g.current,e.selectedIndex);p.current=t,h(t)}),[e.tabs]);return l.createElement("div",{className:"Tabs-module__tabBar___nxTqT"},n&&l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:v?yt.Z:bt.Z}),l.createElement("div",{className:"Tabs-module__tabContainerMobile___APqvI"},l.createElement("ul",{className:"Tabs-module__tabTitles___3UtkN",ref:g,role:"tablist"},e.tabs.map(((t,n)=>{var r;const i=(0,S._d)({areaName:"TabContainer",behavior:S.cg.TAB,contentName:t.title,contentType:S.zc.Button,id:`TabButton-${n}`,slotNumber:n},_),d=n===o||n===e.selectedIndex;return l.createElement("li",{key:n,role:"none",className:"Tabs-module__tabElement___5HQXQ"},l.createElement(c.k,C()(C()({as:"button",ref:e=>{f[n]=e},buttonType:u.L$.Tertiary,className:s()("Tabs-module__tabButton___wRKYV",ot.KZ,d?"Tabs-module__activeTab___9tyPD":"Tabs-module__inactiveTab___6fFsw"),onClick:()=>{e.setSelectedIndex(n),a(n),p.current=Tt(g.current,n)},role:"tab","aria-label":null!==(r=t.ariaLabel)&&void 0!==r?r:t.title,"aria-selected":d,onKeyDown:e=>((e,t)=>{var n,r;const o=v?-1:1;"ArrowLeft"===e.key?null===(n=f[t-1*o])||void 0===n||n.focus():"ArrowRight"===e.key&&(null===(r=f[t+1*o])||void 0===r||r.focus())})(e,n)},(0,S.iZ)(i)),{},{disabled:t.disabled},d?{}:{tabIndex:-1}),t.title))}))),l.createElement("div",{className:"Tabs-module__tabUnderline___35yYF","aria-hidden":!0,style:C()(C()({},p.current),{},{opacity:g.current?"1":"0"})})),n&&l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:v?bt.Z:yt.Z}))})),Tt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r,o;if(!e||e.children.length<t)return{marginInlineStart:"0"};let a=0;for(let l=0;l<=t;l++)a+=(null===(r=e.children.item(l))||void 0===r?void 0:r.clientWidth)||0;const i=a-((null===(o=e.children.item(t))||void 0===o?void 0:o.clientWidth)||0)/2,s=2*t-1;return{marginInlineStart:`calc(${i}px + ${s}rem)`,transition:""+(n?"opacity 0.5s":"margin-inline-start 0.5s")}};var wt="SubscriptionCard-module__actionButton___wHZou",It="SubscriptionCard-module__actionButtonContainer___ZKI0P",kt="SubscriptionCard-module__headerImage___HWoqU";const At=e=>{const{children:t}=e;return l.createElement("div",{className:"SubscriptionCard-module__subscriptionCard___CeIiz"},t)},Pt=e=>{let{children:t}=e;return l.createElement(We,{className:"SubscriptionCard-module__featureScrollContainer___hBIna"},l.createElement("ul",{className:"SubscriptionCard-module__featureBody___h3CwX"},t))},xt=e=>{let{icon:t,title:n,textToShow:r}=e;return l.createElement("li",{className:"SubscriptionCard-module__checkmarkRow___fZ-nE"},l.createElement(d.JO,{iconSize:t?d.Jh.XSmall:d.Jh.XXSmall,icon:null!==t&&void 0!==t?t:X.Z,title:n}),l.createElement("span",{className:P.S7},r))};var Rt=n(553535);const Nt=e=>{let{children:t,productId:n}=e;const r=(0,v.useSelector)((e=>(0,ut.getDataOrPrevious)((0,Rt.tR)(e,n)))),o=null===r||void 0===r?void 0:r.isOwned;return l.createElement("div",{className:s()("SubscriptionCard-module__header___MLoAq","SubscriptionCard-module__headerBasic___S0-IU","theme-dark")},t,!o&&l.createElement(Lt,{productId:n}))},Ot=e=>{let{title:t}=e;return l.createElement("h3",{className:s()(P.a2,"SubscriptionCard-module__cardTitle___UxQCZ")},t)},Lt=e=>{let{productId:t}=e;const n=(0,v.useSelector)((e=>(0,Rt.Ie)(e,t)));return n&&(0,G.lU)(n)?l.createElement(G.HR,{hasAddOns:!1,productInfo:n,productPrice:n.availability.price,recurrencePolicySummary:n.sku.recurrencePolicySummary,isPass:!0,className:s()(P.hO,"SubscriptionCard-module__pricingSection___st2ON"),discountDetailClassName:"SubscriptionCard-module__discountDetail___2ePkg"}):null},Mt=e=>{let{isOwned:t,productId:n,productName:r,slotNumber:o}=e;const[a,i,u]=(0,f.QF)("joinNowText","joinNowButtonAccessibilityLabelFormat","youOwnThisText"),d=t?void 0:()=>{window.scrollTo({top:0,behavior:"smooth"})},h=t?u:a,m=t?u:(0,g.WUZ)(i,r),p={areaName:"SubscriptionCard",behavior:S.cg.OTHER,contentType:S.zc.Button,id:t?"youOwnThisDisabledAction":"joinNowAction",productId:n,productName:r,slotNumber:o};return l.createElement(c.k,C()({"aria-label":m,disabled:!!t,as:"button",className:s()(ot.KZ,wt),onClick:d},(0,S.iZ)(C()(C()({},p),{},{contentName:h}))),h)},Ut=e=>{let{isOwned:t,pageProductId:n,productId:r,productName:o,slotNumber:a}=e;const[i,u,d,h]=(0,f.QF)("joinNowText","joinNowButtonAccessibilityLabelFormat","viewDetailsActionText","viewDetailsActionAccessibilityText"),m=(0,T.GP)(r,n),p=t?d:i,v=t?(0,g.WUZ)(h,o):(0,g.WUZ)(u,o),_={areaName:"SubscriptionCard",behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Link,id:t?"viewDetailsAction":"joinNowAction",productId:r,productName:o,slotNumber:a};return l.createElement(c.k,C()({"aria-label":v,as:"a",className:s()(ot.KZ,wt),href:m},(0,S.iZ)(C()(C()({},_),{},{contentName:p}))),p)},Dt=e=>{const[t,n]=(0,f.QF)("notAvailableLabel","notAvailableTemplate"),r=(0,g.WUZ)(n,e.productName);return l.createElement("div",{className:It},l.createElement(c.k,{"aria-label":r,as:"button",className:s()(ot.KZ,wt),disabled:!0},t.toLocaleUpperCase()))},Bt=e=>{const{productId:t}=e,n=(0,v.useSelector)((e=>(0,ut.getDataOrPrevious)((0,Rt.tR)(e,t)))),r=(0,g._yM)(g.Hw9.ProductId,""),o=(0,g.Ypc)(t,r),a=null===n||void 0===n?void 0:n.isOwned;return e.disabled?l.createElement(Dt,{productName:e.productName}):l.createElement("div",{className:It},o?l.createElement(Mt,C()(C()({},e),{},{isOwned:a})):l.createElement(Ut,C()(C()({},e),{},{pageProductId:r,isOwned:a})))},Ft=e=>{let{productId:t,slotNumber:n}=e;const{eaPlayBenefitsRewards:r,eaPlayBenefitsTrials:o,eaPlayBenefitsTitles:a,eaPlayBenefitsDiscounts:i}=(0,f.y_)("eaPlayBenefitsRewards","eaPlayBenefitsTrials","eaPlayBenefitsTitles","eaPlayBenefitsDiscounts");return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(d.JO,{iconSize:d.Jh.Custom,icon:z.Z,title:G.YV,className:s()(kt,"SubscriptionCard-module__eaPlayLogo___kHvC3")})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.YV}))},Ht=e=>{let{productId:t,slotNumber:n}=e;const{gamePassConsoleHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:a}=(0,f.y_)("gamePassConsoleHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText"),i=(0,f.UD)("gamePassSubscriptionText",[G.Z1,G.$p]),s=(0,f.UD)("gamePassSubscriptionText",[G.IC,G.$p]);return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(Ot,{title:i})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a})),l.createElement(Bt,{productId:t,slotNumber:n,productName:s,disabled:!0}))};var qt=n(94988);const Gt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassUltimateHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMultiplayer:a,gamePassMemberDealsDiscountsAndPerksText:i,eaPlayMembership:s}=(0,f.y_)("gamePassUltimateHighQualityGameText","gamePassPlayOnDayOneText","gamePassMultiplayer","gamePassMemberDealsDiscountsAndPerksText","eaPlayMembership");return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.OL})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:i}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:s,icon:qt.Z,title:G.YV})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.rt}))},zt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassPCHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:a,eaPlayMembership:i}=(0,f.y_)("gamePassPCHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText","eaPlayMembership");return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.zt})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i,icon:qt.Z,title:G.YV})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.zt}))},Xt=e=>{let{productId:t,slotNumber:n}=e;const{ubisoftPlusBenefitsGames:r,ubisoftPlusBenefitsPCAccess:o,ubisoftPlusBenefitsDayOneReleases:a,ubisoftPlusBenefitsEditions:i,ubisoftPlusBenefitsRewards:c,ubisoftPlusBenefitsDiscount:u}=(0,f.y_)("ubisoftPlusBenefitsGames","ubisoftPlusBenefitsPCAccess","ubisoftPlusBenefitsDayOneReleases","ubisoftPlusBenefitsEditions","ubisoftPlusBenefitsRewards","ubisoftPlusBenefitsDiscount");return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(d.JO,{iconSize:d.Jh.Custom,icon:G.V$,title:G.lD,className:s()(kt,"SubscriptionCard-module__ubisoftPlusLogo___J0jO+")})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i}),l.createElement(xt,{textToShow:c}),l.createElement(xt,{textToShow:u})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.lD}))},$t=e=>{let{productId:t,slotNumber:n}=e;const{ultimateFamilyShareBenefit:r,ultimateFamilyIncludeBenefit:o,ultimateFamilyOwnAccountBenefit:a,ultimateFamilyOwnHistoryBenefit:i,ultimateFamilyPlayBenefit:s,ultimateFamilyEnjoyBenefit:c}=(0,f.y_)("ultimateFamilyShareBenefit","ultimateFamilyIncludeBenefit","ultimateFamilyOwnAccountBenefit","ultimateFamilyOwnHistoryBenefit","ultimateFamilyPlayBenefit","ultimateFamilyEnjoyBenefit");return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.a1})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i}),l.createElement(xt,{textToShow:s}),l.createElement(xt,{textToShow:c})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.a1}))},Vt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassCoreHighQualityGameText:r,gamePassCoreSelectCatalogHighQualityGameText:o,gamePassMultiplayer:a,gamePassMemberDealsAndDiscountsText:i}=(0,f.y_)("gamePassCoreHighQualityGameText","gamePassCoreSelectCatalogHighQualityGameText","gamePassMultiplayer","gamePassMemberDealsAndDiscountsText"),s=(0,v.useSelector)(g.yWe);return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.l2})),l.createElement(Pt,null,l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:"JP"===s.market.toUpperCase()?o:r}),l.createElement(xt,{textToShow:i})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.CU}))},Wt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassConsoleHighQualityGameText:r,gamePassMultiplayer:o,gamePassMemberDealsAndDiscountsText:a}=(0,f.y_)("gamePassConsoleHighQualityGameText","gamePassMultiplayer","gamePassMemberDealsAndDiscountsText");return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.Vf})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.nu}))},Kt=e=>{let{productId:t,slotNumber:n}=e;const{gtaPlusBenefitsCash:r,gtaPlusAccessToGames:o}=(0,f.y_)("gtaPlusBenefitsCash","gtaPlusAccessToGames");return l.createElement(At,null,l.createElement(Nt,{productId:t},l.createElement(d.JO,{iconSize:d.Jh.Custom,icon:G.fD,title:G.Pd,className:s()(kt,"SubscriptionCard-module__gtaPlusLogo___Tdd0u")})),l.createElement(Pt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o})),l.createElement(Bt,{productId:t,slotNumber:n,productName:G.Pd}))},jt=e=>{const t=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMaunaLoa)));switch((0,g.kgH)(e.productId)){case G.Os:return l.createElement(Gt,C()({},e));case G.Cv:return l.createElement(zt,C()({},e));case G.Wy:return l.createElement(Ht,C()({},e));case G.kE:return l.createElement($t,C()({},e));case G.pD:return l.createElement(Vt,C()({},e));case G.rQ:return t?l.createElement(Wt,C()({},e)):null;case G.Lm:return l.createElement(Ft,C()({},e));case G.OP:return l.createElement(Xt,C()({},e));case G.yd:return l.createElement(Kt,C()({},e));default:return null}};const Yt=()=>{const e=(0,l.useRef)(null),[t,n]=(0,l.useState)(!1),r=(0,g.$Ft)(),o=(0,v.useDispatch)();(0,l.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"cartMuidSyncSuccess"===e.data.id){const t=r.get(g.UVO),n=e.data.cartMuid;t!==n&&n&&(r.set(g.UVO,n,{essential:!0}),o(Rt.SA.fetchVectorId.start()))}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[r,o]);const a=(0,l.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"startCartMuidSync"},"https://www.microsoft.com")}),[e]);return t?l.createElement("iframe",{ref:e,onLoad:a,key:"cartMuid-sync-iframe",name:"cartMuid-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsComCartMuidSync.html",width:"0",height:"0",className:"CartMuidSync-module__muidSyncFrame___NpX0w"}):null};n(200634);var Zt=n(905861),Qt="CollectionPromo-module__appLaunchIcon___d9o3b",Jt="CollectionPromo-module__buttonWithoutFocusBackground___TEiUd",en="CollectionPromo-module__defaultLineClamp___hcAIk",tn="CollectionPromo-module__disclaimerPositioning___k1OLb",nn="CollectionPromo-module__subtitle___GqZp5",rn="CollectionPromo-module__threeLineClamp___n0d2P";const on=e=>{const{altText:t,title:n,backgroundColor:r,foregroundColor:o,description:a,footer:i,imageUrl:h,link:m,linkAriaLabel:p,subHeader:f,isLandscape:_,showFranceCollectionDisclaimer:y}=e,b=(0,Z.bN)(),C=(0,v.useSelector)(g.gzb)===g.Q2A.Dark,E=null!==r&&void 0!==r?r:C?"#404040":"#f9f9f9",S=b?{background:`linear-gradient(90deg, rgba(0, 0, 0, 0) calc(max(50%, 540px) - 175px), ${E} max(50%, 540px))`}:{background:`linear-gradient(90deg, ${E} max(50%, 540px), rgba(0, 0, 0, 0) calc(max(50%, 540px) + 175px))`},T=o?ln(o):void 0,w=!!f,I=!(!i||!m),k=3+Number(!w)+Number(!I);let A=rn;switch(k){case 5:A="CollectionPromo-module__fiveLineClamp___cEFdt";break;case 4:A="CollectionPromo-module__fourLineClamp___vI4XM"}return l.createElement("div",{className:"CollectionPromo-module__contentZIndex___tjOqr"},y?l.createElement("div",{className:tn,style:null===T||void 0===T?void 0:T.foregroundStyle},_?l.createElement(Je,{foregroundStyle:null===T||void 0===T?void 0:T.foregroundStyle}):l.createElement(et,null)):null,l.createElement("div",{className:"CollectionPromo-module__contentContainer___9aSeR",style:S},l.createElement("div",{className:"CollectionPromo-module__textContainer___rXocJ"},w&&l.createElement("span",{className:s()(en,P.F$),style:null===T||void 0===T?void 0:T.foregroundStyle},f),!!n&&l.createElement("h2",{className:s()(en,I?"":rn,P.Q),style:null===T||void 0===T?void 0:T.foregroundStyle},n),!!a&&l.createElement("span",{className:s()(en,A,P.RH,nn),style:null===T||void 0===T?void 0:T.foregroundStyle},a),I&&l.createElement(c.k,{as:"a","aria-label":p,buttonType:T?u.L$.Tertiary:u.L$.Secondary,className:s()("CollectionPromo-module__footer___q1Zzo",T?Jt:""),style:null===T||void 0===T?void 0:T.buttonAdjustmentsStyle,href:m,target:"_blank"},l.createElement("span",{className:en,style:null===T||void 0===T?void 0:T.foregroundStyle},i),l.createElement(d.JO,{className:Qt,iconSize:d.Jh.XXSmall,icon:Zt.Z,style:null===T||void 0===T?void 0:T.foregroundStyle}))),l.createElement("div",{className:"CollectionPromo-module__imageContainer___gprij"},l.createElement("img",{alt:null!==t&&void 0!==t?t:n,src:h,className:"CollectionPromo-module__image___AfscE"}))))},an=e=>l.createElement(on,C()(C()({},e),{},{isLandscape:!0})),sn=e=>{const{altText:t,title:n,backgroundColor:r,foregroundColor:o,description:a,footer:i,imageUrl:h,link:m,linkAriaLabel:p,subHeader:g,showFranceCollectionDisclaimer:f}=e,v=r?{background:r}:{backgroundImage:`url(${h})`},_=o?ln(o):void 0;return l.createElement("div",{style:v,className:"CollectionPromo-module__contentContainerPortrait___Htkwv"},l.createElement("img",{alt:null!==t&&void 0!==t?t:n,src:h}),l.createElement("div",{className:r?"":"CollectionPromo-module__scrim___FEtBi"},f?l.createElement("div",{className:tn,style:null===_||void 0===_?void 0:_.foregroundStyle},l.createElement(Je,{foregroundStyle:null===_||void 0===_?void 0:_.foregroundStyle})):null,l.createElement("div",{className:"CollectionPromo-module__textContainerPortrait___IxcUT"},g&&l.createElement("span",{className:P.ef,style:null===_||void 0===_?void 0:_.foregroundStyle},g),n&&l.createElement("h2",{className:s()("CollectionPromo-module__textAndIconContainer___tGVrM",P.jG),style:null===_||void 0===_?void 0:_.foregroundStyle},n),a&&l.createElement("span",{className:s()(nn,P.RH),style:null===_||void 0===_?void 0:_.foregroundStyle},a),i&&m&&l.createElement(c.k,{as:"a","aria-label":p,buttonType:_?u.L$.Tertiary:u.L$.Secondary,className:s()("CollectionPromo-module__footerPortrait___jZMHW",_?Jt:""),style:null===_||void 0===_?void 0:_.buttonAdjustmentsStyle,href:m,target:"_blank"},l.createElement("span",{style:null===_||void 0===_?void 0:_.foregroundStyle},i),l.createElement(d.JO,{className:Qt,iconSize:d.Jh.XXSmall,icon:Zt.Z,style:null===_||void 0===_?void 0:_.foregroundStyle})))))},ln=e=>({foregroundStyle:{color:e},buttonAdjustmentsStyle:{borderColor:e}}),cn=e=>{const t=(0,x.Wp)({desktopComponent:on,mobileLandscapeComponent:an,mobilePortraitComponent:sn});return t?l.createElement(t,C()({},e)):null};n(571372);var un=n(94833),dn=n(807722),hn=n(218671),mn=n(175500),pn=n(696896),gn=n(901523);const fn="#1A1B1E",vn="#DFE4E8",_n="XboxCom";var yn="SkuPickerPage-module__column___SabJg",bn="SkuPickerPage-module__textAlignStart___i7l8T";const Cn=e=>{let{hasAddOns:t,onClose:n,onSelect:r,productId:o}=e;(0,S.Li)("ContextualStoreSkuPicker",S.uZ.Overlay,{productInfo:{id:o}});const[a,i]=(0,f.QF)("selectOfferText","backCallToAction"),d=(0,v.useSelector)(g.yWe),h=(0,v.useSelector)(g.NDL),m=(0,v.useSelector)((e=>(0,Rt.NP)(e,o))),p=(0,v.useSelector)(g.Xnf).userAgent,_=!(0,gn.hA)(p),y=(0,v.useSelector)((e=>(0,Rt.xP)(e,o)));if((0,W.useBackHandler)((0,l.useCallback)((()=>(n(),!1)),[n])),!m||!y)return null;const b=((e,t,n,r,o,a)=>e.map(((e,i)=>{const d=(0,f.iV)("plusSignDelimiterStringTemplate"),h=t.find((t=>((0,g.Ypc)(e.optimalAvailabilityId,t.availabilityId)||(0,g.Ypc)(e.preferredAvailabilityId,t.availabilityId))&&(0,g.Ypc)(e.skuId,t.skuId)&&(0,g.Ypc)(e.productId,t.productId))),m=e.skuTitle,p=(0,G.Xz)(null===h||void 0===h?void 0:h.promotionalDuration);if(!h||!m)return null;const v=h.productId,_=h.skuId,y=h.availabilityId,b=h.price,C=p?(0,g.WUZ)(d,m,p):m,E=(0,g.xGv)(b.listPrice,b.currency,n),S=(e,t,n,o)=>{e.preventDefault(),e.stopPropagation(),r({productId:t,skuId:n,availabilityId:o})};return a?l.createElement(c.k,{as:"button",className:s()("SkuPickerPage-module__selectionButton___Vk6HT",P.zD),buttonType:u.L$.Primary,overlayMode:u.gT.Solid,onClick:e=>S(e,v,_,y)},l.createElement("span",{className:bn},C),l.createElement("span",{className:"SkuPickerPage-module__price___VGCi3"},`${E}${o?"+":""}`)):l.createElement(x.X2,{key:`skuPickerItem-${i}`},l.createElement(c.k,{as:"button",className:"SkuPickerPage-module__width100___a3CRH",buttonType:u.L$.Tertiary,overlayMode:u.gT.Solid,onClick:e=>S(e,v,_,y)},l.createElement(x.sg,{xs:9,className:s()(yn,bn)},C),l.createElement(x.sg,{xs:3,className:s()(yn,"SkuPickerPage-module__priceInfo___YyLdL")},`${E}${o?"+":""}`)))})))(m,y,d,r,t,_);return _?l.createElement("div",{className:"SkuPickerPage-module__pickerListContainer___4ro9T"},l.createElement("h3",{className:s()("SkuPickerPage-module__header___EkYx0",P.a2)},a),l.createElement(We,{className:"SkuPickerPage-module__scrollableButtonsContainer___9++T0",gradientColorOverride:h.theme===g.Q2A.Light?vn:fn},l.createElement("div",{className:"SkuPickerPage-module__buttonsContainer___NiE7p"},b)),l.createElement(c.k,{as:"button",onClick:n,className:s()("SkuPickerPage-module__backButton___5xpke",P.uo),buttonType:u.L$.Primary},i.toLocaleUpperCase())):l.createElement("div",{className:"SkuPickerPage-module__container___HO8Os"},l.createElement("div",{className:"SkuPickerPage-module__headerContainer___ZNymn"},l.createElement(x.sg,{className:"SkuPickerPage-module__backButtonContainer___Zr-vi",xs:1},l.createElement(tt.$,{as:"button",icon:rt.Z,buttonType:u.L$.Tertiary,overlayMode:u.gT.Solid,onClick:n})),l.createElement(x.sg,{className:"SkuPickerPage-module__titleContainer___c7R2B",xs:10},a)),l.createElement(W.GamepadScrollable,{className:s()("SkuPickerPage-module__scrollableArea___kmlW2"),maxScrollPixels:200},b))};var En=n(718269),Sn=n(834848);const Tn=l.createContext({activateStoreExperiments:!1}),{Provider:wn,Consumer:In}=Tn;var kn,An,Pn,xn,Rn,Nn,On,Ln,Mn,Un,Dn;!function(e){e.Purchased="Purchased",e.PurchaseError="PurchaseError",e.ServiceError="ServiceError",e.Canceled="Canceled",e.AlreadyPurchased="AlreadyPurchased"}(kn||(kn={})),function(e){e.Details="Details",e.Purchase="Purchase",e.Browse="Browse",e.Redeem="Redeem"}(An||(An={})),function(e){e.BuyNow="buynow",e.Gift="gift"}(Pn||(Pn={})),function(e){e.BuddyPass="buddyPass",e.Redeem="redeem",e.ReversePerks="reversePerks"}(xn||(xn={})),function(e){e.OneCoreRequestPurchase="OneCoreRequestPurchase",e.ShowDetails="ShowDetails",e.ShowDetailsForStoreId="ShowDetailsForStoreId",e.XboxPurchaseApi="XboxPurchaseApi",e.ShowMarketplace="ShowMarketplace",e.XStoreShowPurchaseUi="XStoreShowPurchaseUI",e.XStoreShowProductPageUi="XStoreShowProductPageUI",e.XStoreShowAssociatedProductsUi="XStoreShowAssociatedProductsUI"}(Rn||(Rn={})),function(e){e.v1="v1",e.v2="v2"}(Nn||(Nn={})),function(e){e.PageChange="pageChange",e.OpenUrl="openUrl"}(On||(On={})),function(e){e.GamerTag="gamertag",e.Email="email"}(Ln||(Ln={})),function(e){e.PurchaseCanceled="PurchaseCanceled",e.PurchaseFailed="PurchaseFailed",e.PurchaseStarted="PurchaseStarted",e.PurchaseSuccessful="PurchaseSuccessful"}(Mn||(Mn={})),function(e){e.RedeemCanceled="RedeemCanceled",e.RedeemFailed="RedeemFailed",e.RedeemStarted="RedeemStarted",e.RedeemSuccessful="RedeemSuccessful"}(Un||(Un={})),function(e){e.XEWeb="XEWeb",e.XENative="XENative",e.XETest="XETest",e.XboxCom="XboxCom"}(Dn||(Dn={}));const Bn=e=>{const t=(0,l.useContext)(Tn).activateStoreExperiments,n=(0,v.useSelector)((t=>(0,g.$Pr)(t,e)));return t&&n},Fn=e=>{const t=(0,l.useContext)(Tn).activateStoreExperiments,n=(0,v.useSelector)((t=>(0,g.PE2)(t,e)));return t?n:void 0};var Hn="ContextualStoreBrowsePage-module__itemContainer___NmXKc",qn="ContextualStoreBrowsePage-module__upShiftContainers___Midja";const Gn=e=>{var t,n,r,o;const{productSummaryInfo:a,handleOnSelectItem:i}=e,d=null===a||void 0===a?void 0:a.sku,h=null===a||void 0===a?void 0:a.product.productId,m=(0,v.useSelector)((e=>(0,Rt.bE)(e,h))),p=(0,f.iV)("ownedText"),g=(0,f.iV)("skuProductTitleTemplate",null!==(n=null===(t=null===a||void 0===a?void 0:a.product)||void 0===t?void 0:t.title)&&void 0!==n?n:"",null!==(o=null===(r=null===a||void 0===a?void 0:a.sku)||void 0===r?void 0:r.skuTitle)&&void 0!==o?o:"");if(!a||!d)return null;const _=(0,ut.getDataOrPrevious)(m),y=a.availability,b=null===y||void 0===y?void 0:y.price,C=a.product,E=(null===d||void 0===d?void 0:d.skuTitle)&&(null===d||void 0===d?void 0:d.skuTitle)!==C.title?g:C.title,S=(0,G.Ie)(C,d);return l.createElement("div",{className:Hn},l.createElement(c.k,{"aria-label":a.product.title,as:"button",buttonType:u.L$.Tertiary,className:"ContextualStoreBrowsePage-module__productItemButton___vo4Sd",disabled:!!_,onClick:e=>(e=>{var t;e.preventDefault(),e.stopPropagation(),i({productId:h,skuId:d.skuId,availabilityId:null!==(t=null===y||void 0===y?void 0:y.availabilityId)&&void 0!==t?t:""})})(e),title:E},l.createElement("div",{className:s()("ContextualStoreBrowsePage-module__justifyContentCenter___y-Wlg","ContextualStoreBrowsePage-module__displayFlex___bKGcU",qn,"ContextualStoreBrowsePage-module__productItem___0AC-y")},l.createElement("div",{className:"ContextualStoreBrowsePage-module__landscapeProductImageContainer___fni-F"},l.createElement(x.Ee,{src:null===S||void 0===S?void 0:S.url,className:"ContextualStoreBrowsePage-module__landscapeProductImage___O-8Xt",width:96,height:96,fluid:!0})),l.createElement("div",{className:"ContextualStoreBrowsePage-module__info___bSc+y"},l.createElement("h2",{className:s()(P.S7,"ContextualStoreBrowsePage-module__landscapeTitle___niJTA")},E),_?l.createElement("span",{className:P.zD},p):b&&y&&l.createElement(G.tA,{className:P.zD,hasAddOns:C.hasAddOns,productPrice:b,recurrencePolicySummary:d.recurrencePolicySummary})))))},zn=e=>{var t;const{productId:n,skuId:r,availabilityId:o,channelKey:a,itemType:i,onClose:c,onError:d,onSelect:h,setIsLoading:m}=e;(0,S.Li)("ContextualStoreBrowse",S.uZ.Overlay,{productInfo:{id:n,sku:r}});const p=(0,f.iV)("loadMore");(0,W.useBackHandler)((0,l.useCallback)((()=>(c(),!1)),[c]));const _=(0,v.useDispatch)(),y=(0,v.useSelector)((e=>(0,Rt.zF)(e,n,r,o))),b=(0,v.useSelector)((e=>(0,Sn.D3)(e,a))),C=(0,v.useSelector)((e=>(0,Rt.h$)(e,b||[]))),E=(0,v.useSelector)((e=>(0,Rt._c)(e,a))),T=Bn(g.vCX.EnableBuyNowXboxUiExp),[w,I]=(0,l.useState)(!1),[k,A]=(0,l.useState)(!1),R=(0,l.useRef)(null);(0,l.useEffect)((()=>{var e;null===(e=R.current)||void 0===e||e.focus()}),[]),(0,l.useEffect)((()=>{y&&b&&(m(!1),y.sku||d(new Error("Missing sku or availability information")))}),[b,d,y,m]);const N=()=>{A(!1)},O=e=>{A(!1),d(e)},L=(0,f.iV)("addOnsFor",null!==(t=null===y||void 0===y?void 0:y.product.title)&&void 0!==t?t:"");if(!y||!C)return null;const M=!!E;return l.createElement(x.W2,{className:s()("ContextualStoreBrowsePage-module__rootContainer___ifmny","ContextualStoreBrowsePage-module__body___aG0ks")},l.createElement("h2",{className:s()(P.cN,"ContextualStoreBrowsePage-module__modalTitle___N5GYA")},L),l.createElement(W.GamepadScrollable,{className:s()(T?"ContextualStoreBrowsePage-module__newProductInfoContainer___9wtk0":"ContextualStoreBrowsePage-module__productInfoContainer___lqCXT",qn,{"ContextualStoreBrowsePage-module__productInfoContainerFocused___3h8+9":w}),maxScrollPixels:155,onFocus:()=>I(!0),onBlur:()=>I(!1)},C.map(((e,t)=>l.createElement(Gn,{productSummaryInfo:e,key:t,handleOnSelectItem:h}))),M&&l.createElement(En.K,{"aria-label":p,as:"button",buttonType:u.L$.Primary,className:s()(P.uo,Hn,"ContextualStoreBrowsePage-module__loadMoreButton___cm0Rh"),disabled:k,onClick:()=>{A(!0),_(Rt.Iv.getMoreBrowsePageData.start(n,i,a,E,O,N))},title:p},k?l.createElement(se,null):p)))};var Xn=n(589083),$n="LegalNotices-module__legalText___1YpIa";const Vn=e=>{let{noticeText:t,className:n}=e;return l.createElement("p",{className:s()(n,$n,P.RO)},t)},Wn=e=>{let{href:t,noticeText:n,className:r,linkText:o}=e;return l.createElement("p",{className:s()(r,$n,P.RO)},n,l.createElement("span",null," "),l.createElement("a",{className:ot.Xs,href:t,target:"_blank",rel:"noopener noreferrer"},o))},Kn=e=>{let{href:t,noticeText:n,className:r,linkText:o}=e;return l.createElement("p",{className:s()([r,$n,P.RO])},(0,g.vvg)(n,l.createElement("a",{className:ot.Xs,href:t,target:"_blank",rel:"noopener noreferrer"},o)))},jn="https://www.aka.ms/streaming_learnmore",Yn=e=>{let{className:t,productId:n}=e;const r=(0,v.useSelector)((e=>(0,Rt.th)(e,n)));if(!r)return null;const o=r.legalNotices;return(null===o||void 0===o?void 0:o.length)?l.createElement(l.Fragment,null,o.map((e=>l.createElement(Zn,{key:e,noticeKey:e,className:t})))):null},Zn=e=>{let{className:t,noticeKey:n}=e;const r=Qn[n];return r?l.createElement(r,{className:t}):null},Qn={[G.ND.CeroZ]:e=>{const t=(0,f.UD)("ceroZLegalNotice");return l.createElement(Vn,{className:e.className,noticeText:t})},[G.ND.CloudEnabled]:e=>{const{cloudEnabledLegalNotice:t,learnMoreText:n}=(0,f.y_)("cloudEnabledLegalNotice","learnMoreText");return l.createElement(Wn,{className:e.className,href:jn,noticeText:t,linkText:n})},[G.ND.CloudEnabledWithPurchase]:e=>{const{cloudEnabledWithPurchaseLegalNotice:t,findOutMore:n}=(0,f.y_)("cloudEnabledWithPurchaseLegalNotice","findOutMore");return(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableStoreBYOG)))?l.createElement(Wn,{className:e.className,href:jn,noticeText:t,linkText:n}):null},[G.ND.DlcRequiresGame]:e=>{const t=(0,f.UD)("dlcRequiresGameLegalNotice");return l.createElement(Vn,{className:e.className,noticeText:t})},[G.ND.InAppPurchase]:e=>{const t=(0,f.UD)("inAppPurchaseLegalNotice");return l.createElement(Vn,{className:e.className,noticeText:t})},[G.ND.PurchaseUnavailableOnWeb]:e=>{const t=(0,f.UD)("purchaseUnavailableOnWebLegalDisclaimer");return l.createElement(Vn,{className:e.className,noticeText:t})},[G.ND.SubscriptionDisclaimer]:e=>{const{subscriptionLegalNotice:t,subscriptionSeeTermsLinkLegalNotice:n}=(0,f.y_)("subscriptionLegalNotice","subscriptionSeeTermsLinkLegalNotice");return l.createElement(Wn,{className:e.className,href:"https://www.xbox.com/legal/subscription-terms",noticeText:t,linkText:n})},[G.ND.SubscriptionDisclaimerUKOnly]:e=>{const{subscriptionUKOnlyLegalNotice:t,subscriptionLearnMoreLinkLegalNotice:n}=(0,f.y_)("subscriptionUKOnlyLegalNotice","subscriptionLearnMoreLinkLegalNotice");return l.createElement(Wn,{className:e.className,href:"https://go.microsoft.com/fwlink/p/?linkid=2160906",noticeText:t,linkText:n})},[G.ND.UbisoftPlusSubscriptionDisclaimer]:e=>{const t=(0,f.UD)("ubisoftPlusSubscriptionDisclaimer",["{0}"]),n=(0,f.UD)("ubisoftPlusSubscriptionDisclaimerLinkText");return l.createElement(Kn,{className:s()(e.className,"LegalNotices-module__legalTextWithMargin___VDV2K"),href:"https://account.microsoft.com",noticeText:t,linkText:n})},[G.ND.XboxLiveGoldRequired]:e=>{const t=(0,f.UD)("gamePassCoreRequiredLegalNotice");return l.createElement(Vn,{className:e.className,noticeText:t})},[G.ND.XboxLiveGoldRequiredForOnline]:e=>{const t=(0,f.UD)("gamePassCoreRequiredForOnlineMultiplayerLegalNotice");return l.createElement(Vn,{className:e.className,noticeText:t})}};var Jn=n(129641);const er=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1536 0q27 0 50 10t40 27 28 41 10 50v1792q0 27-10 50t-27 40-41 28-50 10H512q-27 0-50-10t-40-27-28-41-10-50V128q0-27 10-50t27-40 41-28 50-10h1024zm0 128H512v1792h1024V128zM896 1664h256v128H896v-128z"}))};const tr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M2048 512v896H0V512h2048zm-128 128H128v256h768v128H128v256h1792V640zm-320 384q-26 0-45-19t-19-45q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19z"}))};const nr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M960 768q-26 0-45-19t-19-45q0-26 19-45t45-19h128q26 0 45 19t19 45q0 26-19 45t-45 19H960zm1034-219q26 26 40 61t14 72v257q0 124-47 232t-128 190-189 128-233 47h-81q-37 0-68-14t-60-34-55-45-53-44-53-35-57-14q-30 0-57 14t-53 34-52 45-55 44-60 35-69 14h-81q-124 0-232-47t-190-128-128-189T0 939V682q0-37 14-72t40-61h1q36-36 80-55 54-24 124-41t150-30 164-20 164-12 154-5 133-2q58 0 132 1t154 6 165 12 163 20 150 29 125 42q44 19 80 55h1zM128 851q150 52 306 78t314 27q296 0 575-89t521-262q-84-31-189-49t-217-28-218-13-196-3q-54 0-123 1t-145 5-157 11-155 18-143 27-118 39q-22 10-38 26t-17 43v169zm1792-143q-128 92-268 162t-288 119-304 73-312 25q-158 0-312-25t-305-73q9 89 49 166t103 133 143 88 171 32h81q19 0 40-14t46-34 51-45 60-44 69-35 80-14q43 0 80 14t69 34 59 45 52 44 45 35 41 14h81q97 0 182-37t149-100 101-149 37-183V708z"}))};const rr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M256 320q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45zm1792 1523q0 57-19 103t-69 78q-15 10-34 17t-38 7q-35 0-64-25t-57-57-53-64-55-42q-9-4-21-4t-24-1h-236q-23 0-44 14t-41 36-40 46-41 47-44 35-48 15q-20 0-37-6t-34-17q-48-32-68-78t-21-102v-24q0-12 2-24 1-23 9-58t21-76 29-83 34-82 33-70 32-51q0-36 31-56 13-9 37-16t50-13 52-9 42-3q16 0 27 2t20 6 20 10 23 13h164q15-7 24-13t17-10 20-6 29-2q18 0 43 3t50 8 49 13 39 17q14 10 21 24t10 32q12 12 27 39t30 63 31 75 28 78 22 68 13 50q9 47 9 93zm-128 2q0-35-8-73-5-24-16-61t-25-76-29-75-26-59l-8-16q-4-8-9-15-7-8-12-12t-9-8-9-10-8-18q-21-7-42-9t-45-5q-14 6-22 11t-18 11-19 8-28 3h-166q-17 0-27-3t-20-7-18-11-22-12q-23 0-44 4t-44 10q-2 20-14 27t-23 21q-5 7-8 14t-8 16q-15 31-33 76t-34 93-27 94-11 80q0 20 4 39t21 32q28-25 48-49t38-45 36-38 41-29 55-19 77-7h192q46 0 78 7t55 19 40 30 34 38 38 44 50 49q17-11 21-30t4-39zM896 1553V128H128v1792h128v-896h128v896h455q12 68 52 128H0V0h1024v1270q-10 14-14 28t-11 28l-8 14q-4 7-9 14-28 47-48 97t-38 102zm608-82q14 0 23 9t9 23q0 14-9 23t-23 9q-14 0-23-9t-9-23q0-14 9-23t23-9z"}))};const or=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M128 128h1792v1024H128V128zm1664 896V256H256v768h1536zM128 1536v-128h1792v128H128zm0 384v-128h1792v128H128z"}))};function ar(e){var t;const{feature:n,as:r="li"}=e;return l.createElement(r,{className:s()(n.className,ot.nA,"FeaturesList-module__item___J8r6P",P.zD)},n.icon&&l.createElement(d.JO,{iconSize:null!==(t=n.icon.iconSize)&&void 0!==t?t:d.Jh.XXSmall,className:s()(ot.OU,"FeaturesList-module__icon___OTG4r",n.icon.className),icon:n.icon.icon,"aria-hidden":!0}),n.name)}const ir=e=>{let{features:t}=e;return 0===t.length?null:l.createElement("ul",{className:s()("FeaturesList-module__wrapper___KIw42",ot.Pt)},t.map(((e,t)=>l.createElement(ar,{feature:e,key:t}))))};var sr="PlayableOn-module__inlineContainer___3GArU";const lr=e=>{let t;switch(e){case G.pQ.PC:t=Jn.Z;break;case G.pQ.MobileDevice:t=er;break;case G.pQ.XboxOne:t=tr;break;case G.pQ.Hololens:t=nr;break;case G.pQ.XboxSeriesX:t=rr;break;case G.pQ.Hub:t=or;break;default:return}return{iconSize:d.Jh.XXSmall,icon:t}},cr=(e,t)=>{const[n,r]=(0,f.QF)("playableOnPCDeviceName","playableOnMobileDeviceName"),o=(0,v.useSelector)((t=>(0,_.th)(t,e))),a=null===o||void 0===o?void 0:o.availableOn;if(!a||0===a.length)return null;const i=e=>{switch(e){case G.pQ.PC:return n;case G.pQ.MobileDevice:return r;case G.pQ.XboxOne:return"Xbox One";case G.pQ.XboxSeriesX:return"Xbox Series X|S";case G.pQ.XCloud:return"Xbox Cloud Gaming";default:return e}};return a.map((e=>{const n=(e=>{const t=Object.keys(G.pQ).find((t=>(0,g.Ypc)(t,e)));return G.pQ[null!==t&&void 0!==t?t:""]})(e);return{name:i(n),icon:lr(n),className:t}}))},ur=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,a=(0,f.iV)("playWith"),i=cr(t,r);return(null===i||void 0===i?void 0:i.length)?l.createElement(x.EM,{className:n},l.createElement("h2",{className:o},a),l.createElement(ir,{features:i})):null},dr=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,a=(0,f.QF)("playWith"),i=cr(t,r);return(null===i||void 0===i?void 0:i.length)?l.createElement("div",{className:s()(sr,n)},l.createElement("h2",{className:o},a),l.createElement("ul",{className:s()(sr,ot.Pt)},i.map(((e,t)=>l.createElement(ar,{feature:e,key:t}))))):null};n(443430),n(34715),n(319570);const hr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1888 256q33 0 62 12t51 35 34 51 13 62v1088q0 33-12 62t-35 51-51 34-62 13H160q-33 0-62-12t-51-35-34-51-13-62V416q0-33 12-62t35-51 51-34 62-13h1728zM160 384q-14 0-23 9t-9 23v224h1792V416q0-14-9-23t-23-9H160zm1728 1152q14 0 23-9t9-23V768H128v736q0 14 9 23t23 9h1728zm-480-384h256v128h-256v-128z"}))};var mr="CommonButtonStyles-module__condensedButton___sQWPU",pr="CommonButtonStyles-module__condensedMobileButton___bO6E1",gr="CommonButtonStyles-module__disabledDesktopButton___SDI7g",fr="CommonButtonStyles-module__disabledMobileButton___fY3IU",vr="CommonButtonStyles-module__errorButton___fFjqO",_r="CommonButtonStyles-module__errorModal___AMYXz",yr="CommonButtonStyles-module__highContrastAwareButton___DgX7Y",br="CommonButtonStyles-module__iconButton___1DSre",Cr="CommonButtonStyles-module__mobileButton___QwVrM",Er="CommonButtonStyles-module__mobileStickyBannerButton___OU8PT",Sr="CommonButtonStyles-module__variableLineDesktopButton___cxDyV",Tr="CommonButtonStyles-module__variableLineMobileButton___I1TjX",wr="CommonButtonStyles-module__variableLineMobileButtonContainer___nJg33";const Ir=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","onClick","overrideClassName","telemetryProps","overrideContainerClassName"],kr=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","href","overrideClassName","target","telemetryProps","overrideContainerClassName"],Ar=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:a=u.L$.Primary,onClick:i,overrideClassName:s,telemetryProps:d,overrideContainerClassName:h}=e,m=V()(e,Ir);return l.createElement("div",{className:h},l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:a,className:s||Sr,onClick:i,ref:o},(0,S.iZ)(d)),l.createElement(xr,C()({},m))))},Pr=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:a=u.L$.Primary,href:i,overrideClassName:d,target:h,telemetryProps:m,overrideContainerClassName:p}=e,g=V()(e,kr);return l.createElement("div",{className:p},l.createElement(c.k,C()({as:"a","aria-label":t,buttonType:a,className:s()([d||Sr,yr]),href:i,ref:o,target:h},(0,S.iZ)(m)),l.createElement(xr,C()({},g))))},xr=e=>{const t=e.productGlyph,n=e.usesUbisoftSVG;return l.createElement(l.Fragment,null,l.createElement("div",{className:P.uo,"aria-hidden":"true"},e.title),e.subtitle&&l.createElement("div",{className:P.S7,"aria-hidden":"true"},l.createElement("span",null,e.subtitle),t?l.createElement("span",{className:(0,x.ut)(x.JE.Prepend,t)}):n?l.createElement(G.V$,{className:"VariableLineButton-module__ubisoftPlusHorizontalLogo___tePX8"}):""))};var Rr="OverflowMenuButton-module__mobileOverflowMenuButton___hkU8F",Nr="OverflowMenuButton-module__overflowMenuButton___XRc9q";const Or=["experienceButtonType"],Lr="\u25cf \u25cf \u25cf",{Provider:Mr,Consumer:Ur}=l.createContext({closeDialog:()=>{}}),Dr=e=>{var t,n;return l.createElement(ae,{flyoutBoundingParent:e.containingElementRef},l.createElement(ae.Button,{accessibilityLabel:e.accessibilityLabel,buttonType:u.L$.Primary,className:s()([null!==(t=e.overrideClassName)&&void 0!==t?t:Nr,yr]),title:e.accessibilityLabel,telemetryProps:null!==(n=e.telemetryProps)&&void 0!==n?n:{}},Lr),l.createElement(ae.Flyout,null,l.createElement(ne,null,(t=>l.createElement(Mr,{value:{closeDialog:t.closeFlyout}},l.createElement("div",{className:"OverflowMenuButton-module__desktopOverflowMenu___D9HIM"},e.children))))))},Br=e=>{var t;const n=(0,f.iV)("moreOptionsMenuTitle"),[r,o]=(0,l.useState)(!1),a=(0,l.useRef)(null),i=(0,l.useRef)(null),d=()=>o(!1),h=(0,Z.mG)(r,d,a,i),{closeButtonText:m}=(0,f.y_)("closeButtonText"),p=C()(C()({},e.telemetryProps),{},{behavior:r?S.cg.REDUCE:S.cg.EXPAND});return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":e.accessibilityLabel,buttonType:u.L$.Primary,className:null!==(t=e.overrideClassName)&&void 0!==t?t:Rr,onClick:r?d:()=>o(!0),ref:a,title:e.accessibilityLabel},(0,S.iZ)(p)),Lr),r&&l.createElement(l.Fragment,null,l.createElement("div",{className:"OverflowMenuButton-module__bottomLockedMenu___PeiPQ",ref:i,role:"dialog"},l.createElement(W.FocusContainer,{autoFocusContainer:!0},l.createElement(x.Lx,null),l.createElement("div",{className:"OverflowMenuButton-module__headerSection___2S+Fx"},l.createElement("h3",{className:s()([P.S7,"OverflowMenuButton-module__menuHeader___Lcsk2"])},n),l.createElement(tt.$,{as:"button",buttonType:u.L$.Tertiary,icon:dn.Z,className:"OverflowMenuButton-module__closeButton___Y7WvC","aria-label":m,onClick:h,title:m})),l.createElement(We,{className:s()("OverflowMenuButton-module__scrollArea___xvePn","OverflowMenuButton-module__mobileOverFlowItemOverride___L9ABM")},l.createElement(Mr,{value:{closeDialog:h}},e.children)))),l.createElement("div",{className:"OverflowMenuButton-module__lightDismissLayer___TDWVe",onClick:d,role:"none"})))},Fr=e=>{var t;const{experienceButtonType:n}=e,r=V()(e,Or),o=(0,S.EW)(),a=(0,S._d)({contentName:e.accessibilityLabel,id:"OverflowMenuButton",slotNumber:e.slotNumber},o);let i;switch(n){case Xn.Ug.Desktop:i=l.createElement(Dr,C()(C()({},r),{},{telemetryProps:a}));break;case Xn.Ug.CondensedDesktop:i=l.createElement(Dr,C()(C()({},r),{},{overrideClassName:"OverflowMenuButton-module__condensedDesktopOverflowMenuButton___ClClh",telemetryProps:a}));break;case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:{const o=n===Xn.Ug.Mobile?r:C()(C()({},r),{},{overrideClassName:s()(null!==(t=e.overrideClassName)&&void 0!==t?t:Rr,"OverflowMenuButton-module__condensedMobileOverflowMenuButton___WECiR")});i=l.createElement(Br,C()(C()({},o),{},{telemetryProps:a}))}break;case Xn.Ug.MobileStickyHeader:i=l.createElement(Br,C()(C()({},r),{},{overrideClassName:"OverflowMenuButton-module__mobileStickyHeaderOverflowMenuButton___0Q9ZU",telemetryProps:a}));break;default:i=null}return l.createElement("div",null,i)};var Hr="OverflowMenuItems-module__icon___wWXot",qr="OverflowMenuItems-module__menuItem___wwPHe";const Gr=["icon","telemetryProps","className"],zr=["href","icon","telemetryProps"],Xr=(0,l.forwardRef)(((e,t)=>{const{icon:n,telemetryProps:r,className:o}=e,a=V()(e,Gr);return l.createElement(c.k,C()(C()(C()({as:"button",className:s()(qr,o)},(0,S.iZ)(r)),a),{},{buttonType:u.L$.Tertiary,ref:t}),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:Hr,icon:n}),e.children)})),$r=(0,l.forwardRef)(((e,t)=>{const n=C()({},e),{href:r,icon:o,telemetryProps:a}=n,i=V()(n,zr);return l.createElement(c.k,C()(C()(C()({as:"a",className:qr,href:r},(0,S.iZ)(a)),i),{},{buttonType:u.L$.Tertiary,ref:t}),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:Hr,icon:o}),e.children)})),Vr=(0,l.forwardRef)(((e,t)=>l.createElement(c.k,C()(C()({as:"button",className:qr,ref:t},e),{},{buttonType:u.L$.Tertiary}),l.createElement("span",{className:Hr},l.createElement(se,{width:(0,Z.wU)(1),height:(0,Z.wU)(1)}))))),Wr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=[];return n&&o.push(n),t===Xn.Ug.Mobile&&(o.push(r?fr:Cr),e&&(o.push(Sr),o.push(Tr))),t===Xn.Ug.CondensedMobile&&(o.push(r?fr:Cr),o.push(pr)),s()(o)},Kr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Wr(e,t,n,r),a=t===Xn.Ug.Mobile?wr:void 0;return t===Xn.Ug.Mobile||t===Xn.Ug.CondensedMobile?{overrideClassName:o,overrideContainerClassName:a}:n?{overrideClassName:n}:{}},jr=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;const o=(0,S.Fj)(),{[T.Uh.ProductId]:a,[T.Uh.NetworkName]:i}=t,[s,l,c,u]=(0,f.QF)("linkActionText","linkActionAccessibilityText","accountLinkStartButton","accountLinkStartButtonAccessibilityText"),d=(0,v.useSelector)(E.yB),h=(0,g.$wQ)(),m=(0,v.useDispatch)(),p=(0,S.EW)(),_=(0,v.useSelector)((e=>(0,Rt.RY)(e,a)));if(!_||!_.product)return o.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${a}\nhasProductSummaryInfo: ${!!_}\nhasProduct: ${!!(null===_||void 0===_?void 0:_.product)}`),null;const y=i?(0,g.WUZ)(s,i.toLocaleUpperCase()):c,b=i?(0,g.WUZ)(l,i):u,C=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:y,id:"AccountLinkButton",slotNumber:n},p);return{className:Wr(!1,r,r===Xn.Ug.MobileStickyHeader?Er:void 0),accessibilityLabel:b,buttonText:y,onClick:()=>{d?m(Rt.VC.SISUFlow.start(i)):window.location.assign(h(window.location.href))},telemetryProps:C}},Yr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return l.createElement(Ar,{accessibilityLabel:n,buttonType:o,onClick:a,title:t.toLocaleUpperCase(),telemetryProps:r})},Zr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,className:s()(mr,P.uo),buttonType:o,onClick:a},(0,S.iZ)(r)),t.toLocaleUpperCase())},Qr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,className:a,onClick:i}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,buttonType:o,className:a,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},Jr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(Xr,{"aria-label":n,onClick:o,icon:hr,telemetryProps:r},t)};const eo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M512 1152v-128h640v128H512zm896-384v128H512V768h896zM384 384v1152h896v128H256V256h1536v896h-128V384H384zm1664 1152v128h-256v256h-128v-256h-256v-128h256v-256h128v256h256zM512 512h768v128H512V512z"}))};const to=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1024 0q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 141-36 272t-104 244-160 207-207 161-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t104-244 160-207 207-161T752 37t272-37zm0 1920q163 0 313-56t274-163L347 437Q240 560 184 710t-56 314q0 124 32 238t90 214 140 182 181 140 214 90 239 32zm677-309q107-123 163-273t56-314q0-124-32-238t-90-214-140-181-181-140-214-91-239-32q-163 0-313 56T437 347l1264 1264z"}))};n(214121),n(460523);var no=n(530392);const ro="launchStore",oo="launchContextualStore",ao="launchStoreExperience",io=(e,t,n)=>{var r;const o=new URL(e);return o.searchParams.set(ro,so(t,null===n||void 0===n?void 0:n.skuId,null===n||void 0===n?void 0:n.availabilityId)),o.searchParams.set(ao,null!==(r=null===n||void 0===n?void 0:n.experience)&&void 0!==r?r:""),o.searchParams.set(no.e,"true"),o.href},so=(e,t,n)=>{let r=e;return t&&(r+=`-${t}`,n&&(r+=`-${n}`)),r};n(477950),n(94908);var lo=n(703380),co=n(107267),uo=n(747263),ho=n(429084);const mo=["contentRef","showModal","experience","productId","onResult","skuId","skipPurchaseConfirmation","tracking","scenario"],po=e=>{let{contentRef:t,showModal:n,experience:r,productId:o,onResult:a,skuId:i,skipPurchaseConfirmation:s,tracking:c,scenario:u}=e,d=V()(e,mo);var h;const m=new URLSearchParams((0,co.TH)().search),[p,f]=(0,l.useState)(!0),[_,y]=(0,l.useState)(n),[b,E]=(0,l.useState)(!1),S=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp))),T=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableLaunchpad)));(0,l.useEffect)((()=>y(p&&n)),[p,n]);const w=(0,l.useCallback)((()=>{"XboxCom.Wishlist"===(null===c||void 0===c?void 0:c.callerApplicationId)?E(!1):window.location.reload()}),[c]),I=(0,ho.DP)(o),k=T&&!!I&&u!==Pn.Gift,A=(0,l.useCallback)((e=>{k&&e.status===kn.Purchased&&!s?(f(!1),E(!0)):a&&a(e)}),[a,k,s]),P=d.referringProductId||(null===(h=(0,g.oB7)(m,lo.nV.referringProductId))||void 0===h?void 0:h.value);return l.createElement(l.Fragment,null,l.createElement(x.u_,{show:_||b,fullscreenOnMobile:S,ariaLabelledBy:k&&b?"modalLabel":"title"},l.createElement(x.u_.Body,{className:(0,x.W0)("padding","all",0)},l.createElement("div",{ref:t},k&&b?l.createElement(uo.Z,{subscription:I,onClose:w,referringProductId:P,subscriptionSkuId:i}):l.createElement(dc,C()(C()({},d),{},{productId:o,referringProductId:P,experience:r,version:Nn.v2,activateStoreExperiments:!0,onResult:A,skipPurchaseConfirmation:s||k,skuId:i,scenario:u}))))))};var go=n(902455);const fo=l.createContext(go.vm.PDP);const vo=["actionAccessibilityLabelFormat","actionOverride","actionText","availabilityId","behavior","endDateUtcString","experienceButtonType","iconOverride","isDisabled","price","priceAccessibilityTextOverride","priceTextOverride","productId","recurrencePolicySummary","skuId","slotNumber","title","tooltip"],_o=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","localizedPriceInfo","overrideClassName","price","productId","productSummaryInfo","recurrencePolicySummary","showModal","skuId","slotNumber","telemetryProps","title","tooltip","onClick","onResult"],yo=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","onClick","onResult","productId","showModal","skuId","slotNumber","telemetryProps","title","tooltip","overrideClassName"],bo=["actionText","accessibilityLabel","hasAddOns","iconOverride","isDisabled","productId","showModal","slotNumber","telemetryProps","onClick","onResult","tooltip"],Co=e=>{const[t,n]=(0,f.QF)("buyActionText","buyActionAccessibilityText");return l.createElement(Io,C()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"BuyButton"},e))},Eo=e=>{const[t,n]=(0,f.QF)("upgradeActionText","upgradeActionAccessibilityText");return l.createElement(Io,C()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"UpgradeButton"},e))},So=e=>{const[t,n]=(0,f.QF)("getActionText","getActionAccessibilityText");return l.createElement(Io,C()({buttonId:"GetButton",actionText:t,actionAccessibilityLabelFormat:n},e))},To=e=>{const[t,n,r,o,a,i]=(0,f.QF)("joinActionText","joinActionAccessibilityText","specialOffer","ubisoftAccountLinkRequired","ubisoftSuspendedExternalSubscription","ubisoftActivePCOnlyExternalSubscription"),s=[],{isDisabled:c,disabledReason:u,productSummaryInfo:d}=e,h=(0,x.KG)(),{initialOfferText:m,recurringPriceText:p}=(0,G.mP)(d);if(c&&u)switch(u){case"UbisoftAccountLinkRequired":s.push(o);break;case"UbisoftSuspendedExternalSubscription":s.push(l.createElement(l.Fragment,null,(0,g.vvg)(a,l.createElement("a",{href:T.Vx,target:"_blank",rel:"noopener noreferrer"},T.Vx))));break;case"UbisoftActivePCOnlyExternalSubscription":s.push(l.createElement(l.Fragment,null,(0,g.vvg)(i,l.createElement("a",{href:T.Vx,target:"_blank",rel:"noopener noreferrer"},T.Vx))))}let v,_;const y=h(m,p);return y&&(d.availability.promotionalDuration&&(v=r,_=h(v,y)),s.push(y)),l.createElement(Io,C()(C()({},e),{},{buttonId:"JoinButton",actionText:t,actionAccessibilityLabelFormat:n,tooltip:s.length?s:void 0,priceTextOverride:v,priceAccessibilityTextOverride:_}))},wo=e=>{const[t,n]=(0,f.QF)("preorderActionText","preorderActionAccessibilityText");return l.createElement(Io,C()({buttonId:"PreorderButton",actionText:t,actionAccessibilityLabelFormat:n},e))},Io=e=>{var t,n;const{actionAccessibilityLabelFormat:r,actionOverride:o,actionText:a,availabilityId:i,behavior:c,endDateUtcString:u,experienceButtonType:d,iconOverride:h,isDisabled:m,price:p,priceAccessibilityTextOverride:_,priceTextOverride:y,productId:b,recurrencePolicySummary:T,skuId:w,slotNumber:I,title:k="",tooltip:A}=e,P=V()(e,vo),R=(0,S.EW)(),N=(0,x.KG)(),[O,L]=(0,l.useState)(!1);let M=(0,G.OD)(p,T);const U=(0,v.useSelector)(E.yB),D=(0,g.$wQ)(),B=(0,g.IzA)(),F=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnablePurchaseLaunchOnLogin)));y&&(M={accessibilityText:_||y,afterText:void 0,afterTextGlyph:void 0,afterTextPrefix:void 0,originalPrice:void 0,lowestPrice:y});const H=N((0,g.WUZ)(r,k),null===M||void 0===M?void 0:M.accessibilityText),q=F?io(window.location.href,b,{skuId:w,availabilityId:i,experience:An.Purchase}):(0,no.j)(),z=o?()=>o():()=>{if(U)L(!0);else{const t=(0,g.kgH)(e.productId)===G.Cv?B(q):D(q);window.location.assign(t)}},X=null===(t=null===p||void 0===p?void 0:p.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferGuid,$=X?{targetedOfferGuid:X}:void 0,[W]=(0,f.QF)("targetedOfferBuyBoxTooltipFormat"),K=(0,x.v0)(u).durationString,j=K&&(null===(n=null===p||void 0===p?void 0:p.eligibilityInfo)||void 0===n?void 0:n.type)===G.sL.XPrice?(0,g.WUZ)(W,K):void 0,Y=j&&A?[A,j]:j||A,Z=(0,S._d)({behavior:null!==c&&void 0!==c?c:S.cg.PURCHASE,contentName:a,contentTags:$,id:e.buttonId,productId:b,skuId:w,slotNumber:I},R),Q=C()(C()({},P),{},{accessibilityLabel:H,actionText:a,availabilityId:i,experienceButtonType:d,isDisabled:m,localizedPriceInfo:M,onClick:z,onResult:e=>{(null===e||void 0===e?void 0:e.status)===kn.Purchased?window.location.reload():L(!1)},price:p,productId:b,showModal:O,skuId:w,telemetryProps:Z,tooltip:Y});let J="";switch(d){case Xn.Ug.CondensedDesktop:J=mr;case Xn.Ug.Desktop:return l.createElement(ko,C()(C()({},Q),{},{overrideClassName:J,price:p,recurrencePolicySummary:T}));case Xn.Ug.CondensedMobile:case Xn.Ug.Mobile:{const e=Kr(!0,d,void 0,m),t=C()(C()({},Q),e);return d===Xn.Ug.CondensedMobile?l.createElement(Po,C()({},t)):l.createElement(ko,C()(C()({},t),{},{price:p,recurrencePolicySummary:T}))}case Xn.Ug.MobileStickyHeader:return l.createElement(Po,C()(C()({},Q),{},{overrideClassName:s()(Er,Q.isDisabled?fr:null)}));case Xn.Ug.Overflow:return l.createElement(xo,C()(C()({},Q),{},{iconOverride:h}));default:return null}},ko=e=>e.experienceButtonType===Xn.Ug.Mobile?l.createElement(Ao,C()({},e)):l.createElement("div",{className:"AcquisitionButtons-module__desktopContainer___A9ppk"},l.createElement(Ao,C()({},e))),Ao=e=>{var t;const{accessibilityLabel:n,actionText:r,buttonType:o=u.L$.Primary,experienceButtonType:a,hasAddOns:i,isDisabled:d,localizedPriceInfo:h,overrideClassName:m,price:p,productId:g,productSummaryInfo:f,recurrencePolicySummary:v,showModal:_,skuId:y,slotNumber:b,telemetryProps:E,title:T,tooltip:w,onClick:I,onResult:k}=e,A=V()(e,_o),x=(0,l.useRef)(null),R=(0,l.useRef)(null),N=(0,Z.mG)(_,k,x,R),O=a===Xn.Ug.Mobile||a===Xn.Ug.CondensedMobile?[m,gr]:[Sr,gr],L=d?O:[m||Sr,yr],M=d?u.L$.Tertiary:o,U=d?void 0:I,D=!!w,B=(0,l.useContext)(fo),F=(null===(t=null===f||void 0===f?void 0:f.sku)||void 0===t?void 0:t.historicalLowestListPrice)&&B===Xn.vm.PDP;return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":n,"aria-disabled":d,buttonType:M,className:s()(L,D?je:void 0),"data-tip":D||void 0,onClick:U,ref:x},(0,S.iZ)(E)),l.createElement("div",{className:P.uo},r.toLocaleUpperCase()),(a===Xn.Ug.Desktop||a===Xn.Ug.Mobile)&&h&&l.createElement(G.OE,C()(C()({},h),{},{className:P.S7,hasAddOns:i,listedPriceClassName:"AcquisitionButtons-module__listedPrice___PS6Zm",productPrice:p,recurrencePolicySummary:v,useBrandStyling:o===u.L$.Brand})),D&&l.createElement(No,null,w)),F&&l.createElement(G._T,{historicalLowestListPrice:f.sku.historicalLowestListPrice,className:"AcquisitionButtons-module__lowestPriceText___kcTrw"}),!d&&l.createElement(po,C()({contentRef:R,hasAddOns:i,onResult:N,showModal:_,productId:g,skuId:y,experience:An.Purchase,scenario:Pn.BuyNow},A)))},Po=e=>{const{accessibilityLabel:t,actionText:n,buttonType:r=u.L$.Primary,experienceButtonType:o,hasAddOns:a,isDisabled:i,onClick:d,onResult:h,productId:m,showModal:p,skuId:g,slotNumber:f,telemetryProps:v,title:_,tooltip:y,overrideClassName:b}=e,E=V()(e,yo),T=(0,l.useRef)(null),w=(0,l.useRef)(null),I=(0,Z.mG)(p,h,T,w),k=i?u.L$.Tertiary:r,A=i?void 0:d,P=i&&!!y;return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":t,"aria-disabled":i,buttonType:k,className:s()(b,P?je:void 0),"data-tip":P||void 0,onClick:A,ref:T},(0,S.iZ)(v)),n.toLocaleUpperCase(),P&&l.createElement(No,null,y)),!i&&l.createElement(po,C()({contentRef:w,hasAddOns:a,onResult:I,showModal:p,productId:m,skuId:g,experience:An.Purchase,scenario:Pn.BuyNow},E)))},xo=e=>{const{actionText:t,accessibilityLabel:n,hasAddOns:r,iconOverride:o,isDisabled:a,productId:i,showModal:s,slotNumber:c,telemetryProps:u,onClick:d,onResult:h,tooltip:m}=e,p=V()(e,bo),v=(0,f.iV)("joinActionAccessibilityText");let _=t;const y=(0,G.Xm)(i),b=(0,G.jb)(i,!0);y&&b&&(_=(0,g.WUZ)(v,b));const E=a?to:o||y||hr,S=a?void 0:d,T=a&&!!m;return l.createElement(l.Fragment,null,l.createElement(Xr,{"aria-label":n,"aria-disabled":a,className:T?je:void 0,"data-tip":T||void 0,icon:E,onClick:S,telemetryProps:u},_,T&&l.createElement(No,null,m)),s&&l.createElement(Ur,null,(e=>l.createElement(po,C()({hasAddOns:r,onResult:t=>{e.closeDialog(),h(t)},productId:i,showModal:s,experience:An.Purchase,scenario:Pn.BuyNow},p)))))},Ro=(e,t,n,r,o,a)=>{let i=!e||!t||!n||!r||!r.product||!r.sku||!r.availability;return i?a.warn(`${o} button requested without valid values:\nproductId: ${e}\nskuId: ${t}\navailabilityId: ${n}\nhasProductSummaryInfo: ${!!r}\nhasProduct: ${!!(null===r||void 0===r?void 0:r.product)}\nhasSku: ${!!(null===r||void 0===r?void 0:r.sku)}\nhasAvailability: ${!!(null===r||void 0===r?void 0:r.availability)}`):(i=!r.availability.price,i&&a.warn(`${o} button requested without valid price.`)),!i},No=e=>{let{children:t}=e;return l.createElement("div",{className:Ye},l.Children.map(t,((e,t)=>l.createElement("span",{key:t},e))))};var Oo=n(238725);const Lo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1792 1728q0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-31 11-64H885q11 33 11 64 0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-55 29-102t80-71L189 256H0V128h281l85 256h1682l-298 896H665l85 256h850q40 0 75 15t61 41 41 61 15 75zm-1024 0q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19q26 0 45-19t19-45zm832 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19z"}))},Mo=["actionAccessibilityLabel","actionLabel","currentComponentRef","navigationAccessibilityLabel","navigationHref","navigationLabel","processingAccessibilityLabel","showSpinner","state","actionIcon","navigationIcon","onClick","buttonId","experienceButtonType","telemetryProps"],Uo=e=>{const t=(0,l.useRef)(null),[n,r]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var o,a;n&&(e.showSpinner?null===(o=t.current)||void 0===o||o.focus():(null===(a=t.current)||void 0===a||a.focus(),r(!1)))}),[e.state,e.showSpinner,n]);let o=e.onClick;e.actionOverride&&(o=()=>e.actionOverride());const a=()=>{r(!0),o()};switch(e.experienceButtonType){case Xn.Ug.Desktop:return l.createElement(Do,C()(C()({},e),{},{onClick:a,currentComponentRef:t}));case Xn.Ug.CondensedDesktop:return l.createElement(Bo,C()(C()({},e),{},{onClick:a,currentComponentRef:t}));case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:return l.createElement(Fo,C()(C()({},e),{},{onClick:a,className:Wr(!1,e.experienceButtonType),currentComponentRef:t}));case Xn.Ug.MobileStickyHeader:return l.createElement(Fo,C()(C()({},e),{},{onClick:a,className:Er,currentComponentRef:t}));case Xn.Ug.Overflow:return l.createElement(Ho,C()(C()({},e),{},{onClick:a,currentComponentRef:t}));default:return null}},Do=e=>{const{actionAccessibilityLabel:t,currentComponentRef:n,buttonType:r=u.L$.Primary,navigationAccessibilityLabel:o,navigationHref:a,processingAccessibilityLabel:i,showSpinner:c,state:d,telemetryProps:h,actionIcon:m,navigationIcon:p,onClick:g}=e;return l.createElement("div",null,c?l.createElement(le,{accessibilityLabel:i,buttonType:r,height:4,ref:n,width:4}):d?l.createElement(tt.$,C()({as:"a","aria-label":o,buttonType:r,className:s()([br,yr]),href:a,icon:p,ref:n,title:o},(0,S.iZ)(h))):l.createElement(tt.$,C()({as:"button","aria-label":t,buttonType:r,className:s()([br,yr]),onClick:g,icon:m,ref:n,title:t},(0,S.iZ)(h))))},Bo=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.L$.Primary,navigationAccessibilityLabel:a,navigationHref:i,navigationLabel:d,onClick:h,processingAccessibilityLabel:m,showSpinner:p,state:g,telemetryProps:f}=e;return l.createElement("div",null,p?l.createElement(le,{accessibilityLabel:m,buttonType:o,className:s()([mr,yr,P.uo]),height:3,ref:r,sizingText:n.toLocaleUpperCase(),width:3}):g?l.createElement(c.k,C()({as:"a","aria-label":a,buttonType:o,className:s()([mr,yr,P.uo]),href:i,ref:r},(0,S.iZ)(f)),d.toLocaleUpperCase()):l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:o,className:s()([mr,yr,P.uo]),onClick:h,ref:r},(0,S.iZ)(f)),n.toLocaleUpperCase()))},Fo=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.L$.Primary,navigationAccessibilityLabel:a,navigationHref:i,navigationLabel:s,processingAccessibilityLabel:d,showSpinner:h,state:m,telemetryProps:p,onClick:g,className:f}=e;return l.createElement(l.Fragment,null,h?l.createElement(ce,{accessibilityLabel:d,buttonType:o,className:f,ref:r}):m?l.createElement(c.k,C()({as:"a","aria-label":a,buttonType:o,className:f,href:i,ref:r},(0,S.iZ)(p)),s.toLocaleUpperCase()):l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:o,className:f,onClick:g,ref:r},(0,S.iZ)(p)),n.toUpperCase()))},Ho=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,navigationAccessibilityLabel:o,navigationHref:a,navigationLabel:i,processingAccessibilityLabel:s,showSpinner:c,state:u,actionIcon:d,navigationIcon:h,onClick:m,buttonId:p,experienceButtonType:g,telemetryProps:f}=e,v=V()(e,Mo);return l.createElement(l.Fragment,null,c?l.createElement(Vr,{"aria-label":s,ref:r}):u?l.createElement($r,C()({"aria-label":o,href:a,icon:h,ref:r,telemetryProps:f},v),i):l.createElement(Xr,C()({"aria-label":t,icon:d,onClick:m,ref:r,telemetryProps:f},v),n))};var qo=n(132943),Go=n(581525);const zo=["baseProductId","buttonType","cloudPlayButtonAccessibilityLabel","cloudPlayButtonText","nonCatalogUpsellProductId","playLink","upsellProductId","telemetryProps"],Xo=e=>{let{baseProductId:t,buttonType:n,cloudServiceUpsells:r,experienceButtonType:o,productSummaryInfo:a,slotNumber:i,upsellProductId:s}=e;var c,u,d;const h=(0,S.EW)(),m=(0,Go.o)(null!==t&&void 0!==t?t:"",null===(c=a.product)||void 0===c?void 0:c.title),[p,v]=(0,f.QF)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),_=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:v,id:"CloudPlayButton",slotNumber:i},h);let y,b=m;const E=null===r||void 0===r?void 0:r[0];s||(0,g.Ypc)(E.ServiceId,G.Kf.xcloud)||(b=E.ServicePlayLink,y=E.ServiceId);const T={buttonId:"CloudPlayButton",buttonType:n,behavior:S.cg.OTHER,cloudPlayButtonAccessibilityLabel:(0,g.WUZ)(p,null!==(d=null===(u=a.product)||void 0===u?void 0:u.title)&&void 0!==d?d:""),cloudPlayButtonText:v,playLink:b,telemetryProps:_},w=Kr(!0,o);switch(o){case Xn.Ug.Desktop:return l.createElement($o,C()(C()({},T),{},{baseProductId:t,upsellProductId:null!==s&&void 0!==s?s:null===E||void 0===E?void 0:E.UpsellProductId,nonCatalogUpsellProductId:y}));case Xn.Ug.CondensedMobile:{const e=C()(C()({},T),w);return l.createElement(Vo,C()({},e))}case Xn.Ug.Mobile:{const e=C()(C()({},T),w);return l.createElement($o,C()(C()({},e),{},{baseProductId:t,upsellProductId:null!==s&&void 0!==s?s:null===E||void 0===E?void 0:E.UpsellProductId,nonCatalogUpsellProductId:y}))}case Xn.Ug.MobileStickyHeader:return l.createElement(Vo,C()(C()({},T),{},{overrideClassName:Er}));case Xn.Ug.Overflow:return l.createElement(Wo,C()({},T));default:return null}},$o=e=>{const{baseProductId:t,buttonType:n=u.L$.Primary,cloudPlayButtonAccessibilityLabel:r,cloudPlayButtonText:o,nonCatalogUpsellProductId:a,playLink:i,upsellProductId:s,telemetryProps:c}=e,d=V()(e,zo),h=(0,v.useSelector)((e=>(0,Rt.tR)(e,t))),{affordingText:m,upsellGlyph:p}=(0,G.vT)({nonCatalogUpsellProductId:a,upsellProductId:s,productEntitlement:(0,ut.getDataOrPrevious)(h)||void 0}),f=(0,g.kgH)(s)===G.OP;return l.createElement(Pr,C()({accessibilityLabel:r,buttonType:n,href:i,productGlyph:p,usesUbisoftSVG:f,subtitle:m,title:o.toLocaleUpperCase(),telemetryProps:c},d))},Vo=e=>{const{buttonType:t=u.L$.Primary,cloudPlayButtonAccessibilityLabel:n,cloudPlayButtonText:r,playLink:o,telemetryProps:a,overrideClassName:i}=e;return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:t,className:i,href:o},(0,S.iZ)(a)),r.toLocaleUpperCase())},Wo=e=>l.createElement($r,{"aria-label":e.cloudPlayButtonAccessibilityLabel,href:e.playLink,icon:qo.Z,telemetryProps:e.telemetryProps},e.cloudPlayButtonText);var Ko=n(527256);const jo=n.p+"static/media/NvidiaGFNLogoSquare.44ab2593.png",Yo=n.p+"static/media/xCloudLogoSquare.be0ea47b.png";const Zo=e=>{let{cloudServiceUpsells:t,contentRef:n,show:r=!1,onHide:o}=e;const[a,i]=(0,f.QF)("backCallToAction","learnMoreText"),s=(0,v.useSelector)(g.gzb),d=(0,v.useSelector)(g.KdS);if(!(null===t||void 0===t?void 0:t.length))return null;const h=s===g.Q2A.Dark?"#201F24":"#ffffff";return l.createElement(x.u_,{show:r,onHide:o,closeable:!0,className:"AvailableCloudStreamingServicesModal-module__modalContainer___HpCS9"},l.createElement(x.u_.Header,null,l.createElement(Qo,null)),l.createElement(x.u_.Body,{className:"AvailableCloudStreamingServicesModal-module__modalBody___QuZF0"},l.createElement(Ko.t8,null,l.createElement("div",C()({className:"AvailableCloudStreamingServicesModal-module__contentContainer___pPm7T"},(0,S.iZ)({id:"AvailableCloudStreamingServicesModal"})),l.createElement(We,{className:"AvailableCloudStreamingServicesModal-module__scrollContainer___fYQob",gradientColorOverride:h},l.createElement("ul",{ref:n,className:"AvailableCloudStreamingServicesModal-module__linkList___+lmQJ"},t.map(((e,t)=>{const n=ea[e.ServiceId.toLowerCase()];return l.createElement("li",{key:e.ServiceId},l.createElement(n,{link:e.ServicePlayLink,slotNumber:t}))})))),l.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__buttonContainer___24hN6"},l.createElement(c.k,C()({as:"button",buttonType:u.L$.Primary,onClick:o},(0,S.iZ)({behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Button,id:"backButton"})),a.toLocaleUpperCase()),l.createElement(c.k,C()({as:"a",buttonType:u.L$.Primary,href:`https://support.xbox.com/${d}/help/games-apps/cloud-gaming/cloud-gaming-on-third-party-services`},(0,S.iZ)({behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Button,id:"learnMoreButton"})),i.toLocaleUpperCase()))))))},Qo=()=>{const e=(0,f.UD)("chooseStreamingPlatformCTA");return l.createElement("h2",{className:s()(P.a2,"AvailableCloudStreamingServicesModal-module__modalHeaderText___Bg+oM")},e)},Jo=e=>{let{link:t,imageUrl:n,isExternalLink:r,message:o,title:i,telemetryProps:h}=e;const m=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Button},h);return l.createElement(c.k,C()({as:"a",href:t,buttonType:u.L$.Primary,className:"AvailableCloudStreamingServicesModal-module__upsellLink___xc9oV"},(0,S.iZ)(m)),l.createElement("img",{src:n,alt:o}),l.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__linkTextContainer___IpHdX"},l.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__fontWeightAdjustment___2Y4Mt",P.gC)},i),l.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__opacityAdjustment___imSMU",P.Km)},o)),r&&l.createElement(d.JO,{icon:a.Z,iconSize:d.Jh.XXSmall,className:"AvailableCloudStreamingServicesModal-module__linkIcon___zsUWp"}))},ea={[G.Kf.xcloud]:e=>{let{link:t,slotNumber:n}=e;const[r,o]=(0,f.QF)("xCloudServiceUpsellMessage","xCloudServiceUpsellTitle"),a={id:"XCloudServiceUpsellLink",contentName:o,slotNumber:n};return l.createElement(Jo,{link:t,imageUrl:Yo,message:r,title:o,telemetryProps:a})},[G.Kf.geforcenow]:e=>{let{link:t,slotNumber:n}=e;const[r,o,a]=(0,f.QF)("geforceNowServiceUpsellMessageLong","geforceNowServiceUpsellMessageShort","geforceNowServiceUpsellTitle"),i=(0,x.EX)()>x.JD.XS?r:o,s={id:"GeForceNowServiceUpsellLink",contentName:a,slotNumber:n};return l.createElement(Jo,{link:t,imageUrl:jo,isExternalLink:!0,message:i,title:a,telemetryProps:s})}},ta=["buttonType","title"],na=e=>{const t=ia(e),[n,r]=(0,l.useState)(!1),o=(0,l.useRef)(null),a=(0,l.useRef)(null),i=(0,Z.mG)(n,(()=>{r(!1)}),o,a);if(!t)return null;let s;switch(e.experienceButtonType){case Xn.Ug.Desktop:s=ra;break;case Xn.Ug.CondensedMobile:s=oa;break;case Xn.Ug.Mobile:s=ra;break;case Xn.Ug.MobileStickyHeader:s=oa;break;case Xn.Ug.Overflow:s=aa;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(s,C()(C()({},t),{},{buttonRef:o,buttonType:e.buttonType,onClick:()=>{r(!0)}})),l.createElement(Zo,{contentRef:a,onHide:i,cloudServiceUpsells:t.cloudServiceUpsells,show:n}))},ra=e=>{const{buttonType:t=u.L$.Primary,title:n}=e,r=V()(e,ta);return l.createElement(Ar,C()({buttonType:t,title:n.toLocaleUpperCase()},r))},oa=e=>{const{accessibilityLabel:t,buttonType:n=u.L$.Primary,buttonRef:r,onClick:o,telemetryProps:a,title:i,overrideClassName:s}=e;return l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:n,className:s,onClick:o,ref:r},(0,S.iZ)(a)),i.toLocaleUpperCase())},aa=e=>{let{accessibilityLabel:t,buttonRef:n,onClick:r,telemetryProps:o,title:a}=e;return l.createElement(Xr,{"aria-label":t,onClick:r,icon:qo.Z,telemetryProps:o,ref:n},a)},ia=e=>{let{baseProductId:t,cloudServiceUpsells:n,slotNumber:r,experienceButtonType:o}=e;var a;const i=(0,S.EW)(),[s,l]=(0,f.QF)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),c=(0,f.UD)("cloudAvailableServicesText",{Services:(null===n||void 0===n?void 0:n.length)||0}),u=(0,v.useSelector)((e=>(0,Rt.RY)(e,t))),d=(0,S._d)({behavior:S.cg.SHOW,contentName:l,id:"MultiCloudPlayButton",slotNumber:r},i);return{overrideClassName:Wr(!0,o,o===Xn.Ug.MobileStickyHeader?Er:void 0),accessibilityLabel:(0,g.WUZ)(s,(null===(a=u.product)||void 0===a?void 0:a.title)||""),subtitle:c,telemetryProps:d,title:l,cloudServiceUpsells:n}};const sa=e=>{const{listItemAccessibilityFormat:t,preferSkuValues:n,productIdentifiers:r,telemetryProps:o}=e,a=(0,v.useSelector)(g.Xnf).origin,i=(0,v.useSelector)(g.Yzi),d=(0,l.useId)(),h=(0,v.useSelector)((e=>(0,Rt.h$)(e,r))).filter((e=>!!e.product)).filter((e=>!!e.sku));return(null===h||void 0===h?void 0:h.length)?(h.sort(((e,t)=>{const n=e.availability,r=t.availability;return n&&r?n.price.msrp-r.price.msrp:!n&&r?1:n&&!r?-1:0})),l.createElement("ul",{className:"ProductList-module__productList___NJ+7V"},h.map(((e,r)=>{var m,p,f;const{product:v,sku:_,availability:y}=e,b=v.productId,E=v.title,w=r+1,I=t?(0,g.WUZ)(t,n?_.skuTitle:E,w.toString(),h.length.toString()):n?_.skuTitle:E,k=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:E,id:"ProductListItem",productName:E,productId:b,slotNumber:r,skuId:_.skuId},C()({},o));return l.createElement("li",{key:`ProductListItem_${b}_${_.skuId}`,className:"ProductList-module__productListItem___aq9Xs"},l.createElement(c.k,C()({as:"a","aria-label":I,"aria-labelledby":`ProductListItemId_${d}_${b}_${_.skuId}_${r} inclusionAwarePriceId_${b}_${_.skuId}`,buttonType:u.L$.Tertiary,href:(0,T.Ok)(a,i,b,E,_.skuId),id:`ProductListItemId_${d}_${b}_${_.skuId}_${r}`},(0,S.iZ)(k)),l.createElement(x.Ee,{width:50,height:50,src:n?null===(m=(0,G.GK)(v,_))||void 0===m?void 0:m.url:null===(f=null===(p=v.images)||void 0===p?void 0:p.boxArt)||void 0===f?void 0:f.url,alt:n?_.skuTitle:E}),l.createElement("div",null,l.createElement("div",{className:P.uo},n?_.skuTitle:E),l.createElement("div",{className:s()(P.S7,"ProductList-module__inclusionTextTVCaption___KTHP0"),id:`inclusionAwarePriceId_${b}_${_.skuId}`},l.createElement(G.VO,{hasAddOns:v.hasAddOns,satisfyingPassId:v.optimalSatisfyingPassId,productPrice:null===y||void 0===y?void 0:y.price,listedPriceClassName:"ProductList-module__listedPrice___RF-qv"})))))})))):null},la=["buttonAccessibilityLabel","buttonId","buttonType","subTitle","telemetryProps","title"],ca=e=>{const{buttonAccessibilityLabel:t,buttonId:n,buttonType:r=u.L$.Primary,subTitle:o,telemetryProps:a,title:i}=e,c=V()(e,la);let d="DropDownProductListButton-module__oneLineDropDownListButton___CJZI3";return o&&(d="DropDownProductListButton-module__twoLineDropDownListButton___DCYH5"),l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:t,buttonId:n,buttonType:r,className:s()([d,yr]),telemetryProps:a,showArrow:!0},l.createElement("div",{className:"DropDownProductListButton-module__dropDownListButtonTitleContainer___NJ8s0"},l.createElement("div",{className:P.uo},i),o&&l.createElement("div",{className:s()(P.S7,"DropDownProductListButton-module__dropDownProductListSubtitle___xuHs5")},o))),l.createElement(ae.Flyout,null,l.createElement(sa,C()(C()({},c),{},{telemetryProps:a}))))};const ua=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1936 256q23 0 43 9t36 24 24 35 9 44v1184q0 23-9 43t-24 36-35 24-44 9H112q-23 0-43-9t-36-24-24-35-9-44V368q0-23 9-43t24-36 35-24 44-9h1824zm-16 128H640v139q33-11 64-11 40 0 75 15t61 41 41 61 15 75q0 31-11 64h1035V384zM384 704q0 26 19 45t45 19h64v-64q0-26-19-45t-45-19q-26 0-45 19t-19 45zm320 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45v64h64zM128 384v384h139q-11-33-11-64 0-40 15-75t41-61 61-41 75-15q31 0 64 11V384H128zm0 1152h384V987l-147 146-90-90 146-147H128v640zm1792 0V896H731l146 147-90 90-147-146v549h1280z"}))};const da=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.L$.Primary,productId:o,showModal:a,skuId:i,enableReactGiftFlow:c,telemetryProps:d,hideModal:h,onClick:m}=e,p=(0,l.useRef)(null),g=(0,l.useRef)(null),f=(0,Z.mG)(a,h,p,g);return l.createElement(l.Fragment,null,l.createElement(tt.$,C()({as:"button","aria-label":t,buttonType:r,className:s()([br,yr]),onClick:m,icon:ua,ref:p,title:t},(0,S.iZ)(d))),c?l.createElement(po,{contentRef:g,hasAddOns:!1,onResult:f,showModal:a,productId:o,skuId:i,availabilityId:n,experience:An.Purchase,scenario:Pn.Gift}):l.createElement(ga,{productId:o,skuId:i,availabilityId:n,contentRef:g,showModal:a,onComplete:f}))},ha=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,buttonType:o=u.L$.Primary,enableReactGiftFlow:a,hideModal:i,onClick:d,productId:h,showModal:m,skuId:p,telemetryProps:g}=e,v=(0,l.useRef)(null),_=(0,l.useRef)(null),y=(0,f.iV)("giftActionText"),b=(0,Z.mG)(m,i,v,_);return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:o,className:s()([mr,yr,P.uo]),onClick:null!==n&&void 0!==n?n:d,ref:v},(0,S.iZ)(g)),y.toLocaleUpperCase()),a?l.createElement(po,{contentRef:_,hasAddOns:!1,onResult:b,showModal:m,productId:h,skuId:p,availabilityId:r,experience:An.Purchase,scenario:Pn.Gift}):l.createElement(ga,{productId:h,skuId:p,availabilityId:r,contentRef:_,showModal:m,onComplete:b}))},ma=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.L$.Primary,productId:o,showModal:a,skuId:i,enableReactGiftFlow:s,telemetryProps:d,hideModal:h,onClick:m,className:p}=e,g=(0,f.iV)("giftActionText"),v=(0,l.useRef)(null),_=(0,l.useRef)(null),y=(0,Z.mG)(a,h,v,_);return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:r,className:p,onClick:m,ref:v},(0,S.iZ)(d)),g.toLocaleUpperCase()),s?l.createElement(po,{contentRef:_,hasAddOns:!1,onResult:y,showModal:a,productId:o,skuId:i,availabilityId:n,experience:An.Purchase,scenario:Pn.Gift}):l.createElement(ga,{productId:o,skuId:i,availabilityId:n,contentRef:_,showModal:a,onComplete:y}))},pa=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,productId:o,showModal:a,skuId:i,enableReactGiftFlow:s,telemetryProps:c,hideModal:u,onClick:d}=e,h=(0,f.iV)("giftActionText"),m=(0,l.useRef)(null);return l.createElement(l.Fragment,null,l.createElement(Xr,{"aria-label":t,onClick:n||d,icon:ua,telemetryProps:c},h),l.createElement(Ur,null,(e=>{const t=()=>{e.closeDialog(),u()};return l.createElement(l.Fragment,null,s?l.createElement(po,{contentRef:m,hasAddOns:!1,onResult:t,showModal:a,productId:o,skuId:i,availabilityId:r,experience:An.Purchase,scenario:Pn.Gift}):l.createElement(ga,{productId:o,skuId:i,availabilityId:r,showModal:a,onComplete:t}))})))},ga=e=>{const t=(0,f.iV)("giftActionText");return l.createElement(l.Fragment,null,e.showModal&&l.createElement(x.u_,{show:e.showModal,className:"GiftButton-module__widthOverride___GwTlJ",ariaLabel:t},l.createElement(k,{productId:e.productId,skuId:e.skuId,availabilityId:e.availabilityId,onComplete:e.onComplete})))};var fa=n(366962);const va="#1b1c1e";var _a;!function(e){e[e.DefaultXbox=0]="DefaultXbox",e[e.XboxSeriesX=1]="XboxSeriesX",e[e.XboxSeriesS=2]="XboxSeriesS",e[e.XboxOne=3]="XboxOne",e[e.XboxOneS=4]="XboxOneS",e[e.XboxOneSDigital=5]="XboxOneSDigital",e[e.XboxOneX=6]="XboxOneX",e[e.PC=7]="PC"}(_a||(_a={}));const ya=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 8.067a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.15a.5.5 0 01-.178.382l-.072.051-18.252 10.539-.058.041-18.42 10.63-2.57 1.48a.5.5 0 01-.42.037l-.08-.037-23.7-13.68a.5.5 0 01-.242-.345L0 41.82V29.7c0-.092.025-.185.075-.265l.044-.06.037-.039.058-.046.036-.023 36.73-21.2zM1 30.566v10.965l23.2 13.391 2.07-1.192v-3.72l-2.31-1.34v-1.73l2.31 1.337v-3.119L1 30.566zm43.668 9.396L27.27 50.009v3.144l17.418-10.058-.02-3.133zm-.032-4.83L27.27 45.158v3.118l17.386-10.04-.02-3.104zM18.87 19.677L1.5 29.7l25.269 14.592 17.36-10.024L18.87 19.677zm44.129 4.849L45.631 34.557l.053 7.963 17.315-9.999v-7.995zM37.23 9.077L19.867 19.099l25.261 14.592L62.499 23.66 37.23 9.077zm22.33 20.601c.388-.674 1.022-1.037 1.414-.81.392.226.395.956.005 1.63-.389.675-1.023 1.038-1.415.811-.392-.226-.394-.956-.005-1.63z"}))};const ba=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 8.032l-17.36 10.03v2.315l17.36-10.02v-2.325zm0-3.475L27.27 46.188v2.325l17.36-10.029v-2.321zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const Ca=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 4.557L27.27 46.188v5.795l17.36-10.02v-5.8zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const Ea=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 8.517a.5.5 0 01.42-.037l.08.037 26.283 15.178.06.042.059.059.042.058a.5.5 0 01.074.217l.002.049v9.72a.5.5 0 01-.178.382l-.072.051-33.04 19.08a.494.494 0 01-.425.035l-.076-.036-2.143-1.244-1.085.625-.07.027-.082.017-.097.002-.08-.012-.045-.014a.499.499 0 01-.087-.04l.067.032-.029-.012L.25 37.543a.5.5 0 01-.242-.345L0 37.11v-6.95l.007-.084a.498.498 0 01.068-.181l.043-.06.045-.045.052-.04.035-.023 36.73-21.21zm26.019 25.034v-1.615l-32.04 18.501v1.617l32.04-18.503zM29.96 51.014l-.895.517.895.52v-1.037zM1 31.026v5.795l25.27 14.593v-5.796L1 31.026zm61.999-.245v-5.795L27.27 45.617v5.796l2.868-1.655.072-.051L63 30.781zM37.229 9.527L1.5 30.159l25.27 14.583L62.5 24.119 37.229 9.527zm22.33 19.521c.39-.674 1.023-1.038 1.416-.811.392.226.394.957.005 1.631-.39.674-1.023 1.037-1.415.811-.393-.226-.395-.957-.006-1.631z"}))};const Sa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M25.48.067A.5.5 0 0125.9.03l.08.037L48.046 12.81l.068.056.039.043.031.045c.05.081.076.174.076.266v44.8a.5.5 0 01-.178.382l-.072.051-9.49 5.48a.495.495 0 01-.265.067.487.487 0 01-.178-.027l-.087-.04-22-12.72a.5.5 0 01-.242-.345l-.008-.088V5.99a.496.496 0 01.172-.388l.078-.055 9.49-5.48zm-8.741 6.798v43.626l21 12.142V18.988l-21-12.123zm30.521 7.22l-8.49 4.903v43.645l8.49-4.902V14.085zm-26.2 2.253c3.583-2.069 9.163 1.152 12.563 7.042 3.4 5.89 3.4 12.332-.184 14.401-3.584 2.07-9.163-1.152-12.564-7.041-3.4-5.89-3.4-12.333.184-14.402zm11.697 7.542c-3.16-5.475-8.22-8.395-11.198-6.676-2.978 1.72-2.978 7.561.182 13.036 3.161 5.474 8.22 8.395 11.198 6.675 2.978-1.72 2.979-7.56-.182-13.035zm7.81-3.595c.39-.674 1.024-1.037 1.416-.81.392.226.395.956.005 1.63-.39.675-1.023 1.038-1.415.812-.392-.227-.394-.957-.005-1.632zM25.73 1.077L17.24 5.979l21.03 12.143 8.489-4.902-21.03-12.143z"}))};const Ta=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M31.75.067a.5.5 0 01.42-.037l.08.037 17.555 10.132.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v42.78a.5.5 0 01-.178.382l-.072.051-14.6 8.42-2.957 1.71-.054.021-.08.02-.097.006-.06-.006-.082-.02-.075-.033L14.23 53.823a.5.5 0 01-.242-.345l-.008-.088V10.61l.007-.084a.498.498 0 01.068-.181l.044-.06.044-.045.052-.04.035-.023L31.75.067zM14.98 11.476v41.625l16.52 9.533V21.018l-16.52-9.542zM49.02 53.1V11.475L32.5 21.018v41.614l2.17-1.255L49.02 53.1zM34.257 22.88c.39-.675 1.023-1.038 1.415-.811.393.226.395.956.005 1.63-.389.675-1.022 1.038-1.415.812-.392-.227-.394-.957-.005-1.631zM32 1.077L15.479 10.61 32 20.152l16.52-9.542L32 1.077z"}))};const wa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M0 29.74a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023 36.73-21.21a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.96a.5.5 0 01-.178.382l-.072.051-36.745 21.208-.072.032-.105.024-.095.002-.078-.012-.069-.022-.066-.032L.25 40.123a.5.5 0 01-.242-.345L0 39.69v-9.95zm62.999 3.621v-8.805L27.27 45.188v8.795l35.729-20.622zm-62-2.756V39.4l25.27 14.583v-8.795L.999 30.605zm36.23-21.498L1.5 29.739l25.27 14.583L62.499 23.69 37.229 9.107z"}))};var Ia=n(581895),ka=n(362638),Aa=n(201489),Pa="DeviceItem-module__iconDevice___qM-eC",xa="DeviceItem-module__itemContainer___LUQza",Ra="DeviceItem-module__title___z1IA+";const Na=e=>{const{hasSufficientFreeSpace:t,isChecked:n,deviceType:r=_a.DefaultXbox,deviceName:o,devicePowerStatus:a,deviceFreeStorage:i,usedStorageSpacePercentage:c,className:u,onClick:h}=e,m=()=>{t&&(null===h||void 0===h||h(!n))};return l.createElement("div",{role:"checkbox","aria-checked":n?"true":"false",onClick:m,onKeyDown:e=>{((0,g.Ypc)(e.key,"spacebar")||(0,g.Ypc)(e.key," ")||(0,g.Ypc)(e.key,"enter"))&&(m(),e.stopPropagation(),e.preventDefault())},tabIndex:t?0:-1,className:s()([xa,"DeviceItem-module__itemContainerFocusStates___RIefB",u])},l.createElement("div",{className:"DeviceItem-module__iconContainer___kr1By"},(e=>{switch(e){case _a.XboxOne:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:ya});case _a.XboxOneS:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:ba});case _a.XboxOneSDigital:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:Ca});case _a.XboxOneX:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:Ea});case _a.XboxSeriesS:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:Sa});case _a.XboxSeriesX:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:Ta});case _a.PC:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:x.Gr});case _a.DefaultXbox:default:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:Pa,icon:wa})}})(r)),l.createElement("div",{className:"DeviceItem-module__infoContainer___jUQEC"},l.createElement("div",{className:Ra},o),a&&l.createElement("div",{className:"DeviceItem-module__subtitle___wJkrQ"},a),void 0!==c&&l.createElement("div",{className:"DeviceItem-module__storageComponents___rhlcd"},l.createElement("div",{className:"DeviceItem-module__availableSpaceMeter___ysdnM"},l.createElement("div",{className:s()("DeviceItem-module__availableSpaceMeterValue___jyxtv",t?void 0:"DeviceItem-module__error___9gepr"),style:{width:`${c}%`}})),l.createElement("div",{className:Ra},!t&&l.createElement(d.JO,{iconSize:d.Jh.Custom,className:"DeviceItem-module__iconWarning___ArYA7",icon:Ia.Z}),i))),l.createElement(d.JO,{iconSize:d.Jh.Custom,className:"DeviceItem-module__checkbox___M2qVf",icon:n?ka.Z:Aa.Z}),!t&&l.createElement("div",{className:"DeviceItem-module__alertStrip___wdn7P"}))},Oa=e=>{var t;const{device:n,isChecked:r,isPc:o,requiredSpace:a,className:i,onClick:s}=e,c={deviceName:n.name,deviceType:_a.PC,isChecked:r,hasSufficientFreeSpace:!0},[u,d,h,m]=(0,f.QF)("installScreenConsoleStateOn","installScreenConsoleStateOff","installScreenConsoleStateUnknown","installScreenFreeStorageTemplate");let p,v;if(!o){c.deviceType=(e=>{switch(e){case Xn.ky.XboxSeriesS:return _a.XboxSeriesS;case Xn.ky.XboxSeriesX:case Xn.ky.XboxSeriesXDevKit:return _a.XboxSeriesX;case Xn.ky.XboxOne:return _a.XboxOne;case Xn.ky.XboxOneS:return _a.XboxOneS;case Xn.ky.XboxOneSDigital:return _a.XboxOneSDigital;case Xn.ky.XboxOneX:case Xn.ky.XboxOneXDevKit:return _a.XboxOneX;default:return}})(n.consoleType);const e=null===(t=n.storage)||void 0===t?void 0:t.filter((e=>e.isDefault))[0];switch(p=(null===e||void 0===e?void 0:e.freeSpaceBytes)||0,v=(null===e||void 0===e?void 0:e.totalSpaceBytes)||0,c.hasSufficientFreeSpace=a<=p,c.usedStorageSpacePercentage=((e,t)=>Math.ceil((t-e)/t*100))(p,v),n.state.powerState){case Xn.Y$.On:case Xn.Y$.ConnectedStandby:c.devicePowerStatus=u;break;case Xn.Y$.Off:c.devicePowerStatus=d;break;default:c.devicePowerStatus=h}}const _=(0,Z.WV)(p,1024,0)||"",y=(0,Z.WV)(v,1024,0)||"";return c.deviceFreeStorage=_&&y?(0,g.WUZ)(m,_,y):"",l.createElement(Na,C()({className:i,onClick:s},c))},La=e=>l.createElement("div",{className:s()([xa,e.className])});var Ma="InstallScreen-module__bodyText2___cmbvC",Ua="InstallScreen-module__contentContainer___Dzlkm",Da="InstallScreen-module__contentTitleMargin___txpE0",Ba="InstallScreen-module__deviceItemMargin___c8nu+",Fa="InstallScreen-module__deviceList___oZG0s",Ha="InstallScreen-module__subTitle___qU0xx",qa="InstallScreen-module__tab___+Npdi";const Ga=e=>{const{firstParagraphText:t,headingText:n,secondParagraphText:r}=e;return l.createElement("div",{className:Da},l.createElement("div",{className:s()(P.F$,Ha)},n),l.createElement("div",{className:s()(P.RO,Ma)},t),l.createElement("div",{className:s()(P.RO,Ma)},r))},za=e=>{const{devices:t,devicesArePcs:n,maxInstallSize:r,selectedDeviceId:o,setSelectedDeviceId:a}=e,{installScreenEmptyConsoleTabHeading:i,installScreenEmptyConsoleUpsellText:c,installScreenEmptyConsoleInstructionsText:u,installScreenReadyToInstall:d}=(0,f.y_)("installScreenEmptyConsoleTabHeading","installScreenEmptyConsoleUpsellText","installScreenEmptyConsoleInstructionsText","installScreenReadyToInstall");return 0===t.length?l.createElement(Ga,{firstParagraphText:c,headingText:i,secondParagraphText:u}):l.createElement(l.Fragment,null,l.createElement("div",{className:s()(P.Gg,"InstallScreen-module__readyMessageMargin___pTAud")},d),l.createElement(We,{className:Fa,gradientColorOverride:va},t.map((e=>l.createElement(Oa,{key:e.id,className:Ba,device:e,isChecked:o===e.id,isPc:n,requiredSpace:r||0,onClick:t=>{a(t?e.id:"")}})))))};const Xa=()=>{const{remoteConsoleLoadErrorHeading:e,reloadPageRequestMessage:t}=(0,f.y_)("remoteConsoleLoadErrorHeading","reloadPageRequestMessage");return l.createElement(l.Fragment,null,l.createElement("div",{className:s()(Ua,Da)},l.createElement("div",null,l.createElement("div",{className:"InstallErrorScreen-module__warningSign___OqVjo"},"\u26a0"),l.createElement("div",{className:s()(P.F$,Ha)},e)),l.createElement("div",{className:s()(P.RO,Ma)},t)))},$a=()=>{const e=(0,f.iV)("loadingText");return l.createElement("div",null,l.createElement("div",{className:s()(P.Gg,Da)},e),l.createElement(We,{className:Fa,gradientColorOverride:va},l.createElement(La,{className:Ba}),l.createElement(La,{className:Ba}),l.createElement(La,{className:Ba})))};var Va,Wa=n(455240),Ka="InstallScreenButtons-module__shimmerAddons___QQWaC";!function(e){e[e.Install=0]="Install",e[e.Launch=1]="Launch",e[e.Reload=2]="Reload",e[e.LearnMore=3]="LearnMore"}(Va||(Va={}));const ja=e=>{const{devicesArePcs:t,primaryButtonState:n,productId:r,selectedDeviceId:o,onCancelClicked:a,onInstallClicked:i}=e,s=(0,v.useDispatch)(),{installScreenCancelButtonText:d,installScreenInstallButtonText:h,installScreenLaunchButtonText:m,learnMoreText:p,reloadPageButtonText:_}=(0,f.y_)("installScreenCancelButtonText","installScreenInstallButtonText","installScreenLaunchButtonText","learnMoreText","reloadPageButtonText"),y=(0,v.useSelector)((e=>(0,Rt.th)(e,r)));let b,C,E,S;switch(n){case Va.Install:b=!o,C=()=>{s(Wa.w.queueInstall.start(o,[r],t)),null===i||void 0===i||i()},E=h;break;case Va.Launch:b=!(0,g.lXB)(),C=()=>{(null===y||void 0===y?void 0:y.isAvailableOnGarrison)?window.location.href=`msxbox://game/?productId=${r}`:window.location.href=`ms-windows-store://pdp/?productId=${r}`,null===i||void 0===i||i()},E=m;break;case Va.LearnMore:b=!1,S=T.n_,E=p;break;case Va.Reload:default:b=!1,C=()=>{"undefined"!==typeof location&&location.reload()},E=_}return l.createElement("div",{className:"InstallScreenButtons-module__buttonContainer___wa-9b"},l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:a},d),S?l.createElement(c.k,{as:"a","aria-label":E,buttonType:u.L$.Brand,href:S,target:"_blank"},E.toLocaleUpperCase()):l.createElement(c.k,{as:"button",disabled:b,buttonType:u.L$.Brand,onClick:C},E.toLocaleUpperCase()))},Ya=()=>l.createElement("div",{className:"InstallScreenButtons-module__loadingPanel___q8RDT"},l.createElement("div",{className:s()(ot.f8,Ka,"InstallScreenButtons-module__shimmerBackground1___LHUZF")}),l.createElement("div",{className:s()(ot.f8,Ka,"InstallScreenButtons-module__shimmerBackground2___YNYl4")})),Za=["children","className","contentRef","productId","onCancelClicked","onInstallClicked"],Qa=(e,t)=>{var n;return!!(null===(n=null===e||void 0===e?void 0:e.availableOn)||void 0===n?void 0:n.filter((e=>e.toLowerCase().includes(t))).length)},Ja=e=>{const t=(0,v.useDispatch)(),[n,r]=(0,l.useState)(""),[o,a]=(0,l.useState)(0),i=(0,v.useSelector)((e=>(0,Rt.D)(e))),c=(0,v.useSelector)((e=>(0,Rt.Hj)(e))),u=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRemoteInstallToPc))),{contentRef:d,productId:h,onCancelClicked:m,onInstallClicked:p}=e,{installScreenConsoleTabText:_,installScreenPcTabText:y,installScreenPcTabHeading:b,installScreenPcAppUpsellText:C,installScreenPcAppRequiresText:E}=(0,f.y_)("installScreenConsoleTabText","installScreenPcTabText","installScreenPcTabHeading","installScreenPcAppUpsellText","installScreenPcAppRequiresText");(0,l.useEffect)((()=>{t(Rt.wx.fetchDevices.start())}),[]);const S=(0,v.useSelector)((e=>(0,Rt.th)(e,h))),T=(0,Z.WV)((null===S||void 0===S?void 0:S.maxInstallSize)||0,1024,2)||"",w=S?(0,G.GK)(S):void 0,I=Qa(S,"pc"),k=Qa(S,"xbox"),A=I&&k&&(0,g.lXB)();(0,l.useEffect)((()=>{(!A&&k||0===o)&&((0,ut.isError)(c)?O(Va.Reload):(0,ut.isContent)(c)&&(0===c.data.length?O(Va.LearnMore):O(Va.Install)))}),[c,o,A,k]),(0,l.useEffect)((()=>{(!A&&I||1===o)&&(u?(0,ut.isError)(i)?O(Va.Reload):(0,ut.isContent)(i)&&(0===i.data.length?O(Va.LearnMore):O(Va.Install)):O(Va.Launch))}),[i,o,A,I,u]);const R=k||u?Va.Install:Va.Launch,[N,O]=(0,l.useState)(R),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u||!t?(0,ut.lceSelect)(e,{content:()=>l.createElement(ja,{devicesArePcs:t,onCancelClicked:m,onInstallClicked:p,primaryButtonState:N,productId:h,selectedDeviceId:n}),isFetching:()=>l.createElement(Ya,null)}):l.createElement(ja,{devicesArePcs:t,onCancelClicked:m,onInstallClicked:p,primaryButtonState:N,productId:h,selectedDeviceId:n})},M=l.createElement(l.Fragment,null,l.createElement("div",{className:Ua},(0,ut.lceSelect)(c,{default:()=>l.createElement(l.Fragment,null),content:e=>{let{data:t}=e;return l.createElement(za,{devices:t,maxInstallSize:null===S||void 0===S?void 0:S.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>l.createElement(Xa,null),isFetching:()=>l.createElement($a,null)})),L(c)),U=l.createElement(l.Fragment,null,l.createElement("div",{className:Ua},u?(0,ut.lceSelect)(i,{default:()=>l.createElement(l.Fragment,null),content:e=>{let{data:t}=e;return l.createElement(za,{devices:t,devicesArePcs:!0,maxInstallSize:null===S||void 0===S?void 0:S.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>l.createElement(Xa,null),isFetching:()=>l.createElement($a,null)}):l.createElement(Ga,{firstParagraphText:C,headingText:b,secondParagraphText:E})),L(i,!0));return l.createElement("div",{className:"InstallScreen-module__container___MXKqq",ref:d},l.createElement("div",{className:"InstallScreen-module__backgroundImageContainer___nOCO2"},l.createElement(x.Ee,{className:"InstallScreen-module__backgroundImage___chH6m",src:null===w||void 0===w?void 0:w.url,width:270,height:270,fluid:!0})),l.createElement("div",{className:"InstallScreen-module__backgroundOverlay___wDs1A"}),l.createElement("div",{className:"InstallScreen-module__productContainer___hrUA4"},l.createElement("div",{className:"InstallScreen-module__boxArt___AXg4O"},l.createElement(x.Ee,{className:"shadow",width:136,height:136,src:null===w||void 0===w?void 0:w.url,alt:null===w||void 0===w?void 0:w.caption,fluid:!0})),l.createElement("div",{className:"InstallScreen-module__gameDetailsContainer___qMQ+F"},l.createElement("div",{className:s()(P.hO,"InstallScreen-module__productTitle___ysrdw")},null===S||void 0===S?void 0:S.title),l.createElement("div",{className:P.Gg},T))),A?l.createElement(Et,{onSelectedIndexChanged:e=>{a(e)},className:"InstallScreen-module__tabContainer___VYgvu"},l.createElement(Ct,{className:qa,key:"Console",title:_},M),l.createElement(Ct,{className:qa,key:"PC",title:y},U)):l.createElement("div",{className:"InstallScreen-module__nonTabbedDisplay___AnG4H"},l.createElement(l.Fragment,null,k?M:U)))},ei=e=>{const{children:t,className:n,contentRef:r,productId:o,onCancelClicked:a,onInstallClicked:i}=e,s=V()(e,Za),c=(0,f.iV)("installButtonText");return l.createElement(x.u_,C()(C()({className:"InstallScreen-module__modal___yYBN1"},s),{},{ariaLabel:c}),l.createElement(Ja,{contentRef:r,productId:o,onCancelClicked:a,onInstallClicked:i}))};const ti=e=>{var t,n,r,o;const{onRetryClicked:a,onCancelClicked:i,installOperation:d}=e,[h,m,p,v,_]=(0,f.QF)("installErrorDetailsHeading","installErrorDetailsMessage","installRetryButtonText","cancelButtonText","errorCodeTemplate"),y=(null===(t=d.error)||void 0===t?void 0:t.errorCode)||(null===(o=null===(r=null===(n=d.error)||void 0===n?void 0:n.originalError)||void 0===r?void 0:r.response)||void 0===o?void 0:o.status);return l.createElement("div",{className:"InstallErrorDialog-module__contentContainer___SrfDw"},l.createElement("div",{className:P.Gg},h),l.createElement("div",{className:P.RO},m),y&&l.createElement("div",{className:s()(P.RO,"InstallErrorDialog-module__errorMessageOpacity___yP91k")},(0,g.WUZ)(_,y)),l.createElement("div",{className:"InstallErrorDialog-module__buttonRow___sO5Xc"},l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:a},p),l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:i},v)))};var ni="InstallInfoBanner-module__container___3up4S";const ri=(e,t)=>l.createElement("span",{className:P.S7},e," ",l.createElement("span",{className:"InstallInfoBanner-module__fadedCaption___FVtGQ"},t)),oi=e=>{const{productId:t}=e,[n,r]=(0,l.useState)(!1),o=(0,v.useSelector)((e=>(0,Rt.ik)(e,t))),a=(0,v.useSelector)((e=>(0,Rt.Me)(e,(null===o||void 0===o?void 0:o.deviceId)||""))),{installStatusErrorMessage:i,installStatusPendingCaption:c,installStatusSuccessCaption:h}=(0,f.y_)("installStatusErrorMessage","installStatusPendingCaption","installStatusSuccessCaption");if(!o)return null;const m=()=>r(!1);switch(o.operationStatus){case Xn.oo.Pending:return l.createElement("div",{className:ni},l.createElement(se,null),ri(c,a));case Xn.oo.ConsoleError:case Xn.oo.Error:case Xn.oo.TimedOut:{const e={behavior:S.cg.EXPAND,contentName:i,id:"InstallInfoBannerErrorButton"};return l.createElement(l.Fragment,null,l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:i,buttonType:u.L$.Primary,className:s()(ni,"InstallInfoBanner-module__actionableContainer___uZc9s"),telemetryProps:e},ri(i),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:nt.Z})),l.createElement(ae.Flyout,null,l.createElement(ne,null,(e=>l.createElement(ti,{onRetryClicked:()=>{r(!0),e.closeFlyout()},onCancelClicked:e.closeFlyout,installOperation:o}))))),l.createElement(ei,{onCancelClicked:m,onInstallClicked:m,onHide:m,productId:t,show:n,closeable:!0}))}case Xn.oo.Succeeded:return l.createElement("div",{className:ni},ri(h,a));default:return null}};var ai=n(168174),ii="InstallButton-module__opaque___eX5ct";const si=["baseProductId","buttonTitle","buttonRef","buttonType","upsellProductId","openModal","isTrial","telemetryProps"],li=e=>{let{baseProductId:t,buttonTitle:n,buttonRef:r,buttonType:o=u.L$.Primary,upsellProductId:a,openModal:i,isTrial:s,telemetryProps:c}=e,d=V()(e,si);const h=(0,v.useSelector)((e=>(0,Rt.tR)(e,t))),{affordingText:m,upsellGlyph:p}=(0,G.vT)({upsellProductId:a,isTrial:s,productEntitlement:(0,ut.getDataOrPrevious)(h)||void 0}),f=(0,g.kgH)(a)===G.OP;return l.createElement(Ar,C()({accessibilityLabel:n,buttonRef:r,buttonType:o,onClick:i,productGlyph:p,usesUbisoftSVG:f,subtitle:m,telemetryProps:c,title:n.toLocaleUpperCase()},d))},ci=e=>{let{buttonTitle:t,buttonRef:n,buttonType:r=u.L$.Primary,telemetryProps:o,openModal:a,overrideClassName:i}=e;return l.createElement(c.k,C()({as:"button",buttonType:r,className:i,onClick:a,ref:n},(0,S.iZ)(o)),t.toLocaleUpperCase())},ui=e=>{let{openModal:t,installOperation:n,telemetryProps:r,overrideClassName:o,overrideContainerClassName:a}=e;const i=(0,v.useDispatch)(),{installStatusErrorTitle:c,installStatusErrorSubtitle:d,installErrorButtonAccessibilityLabel:h}=(0,f.y_)("installStatusErrorTitle","installStatusErrorSubtitle","installErrorButtonAccessibilityLabel"),m=()=>{t(),i(Wa.w.clearOperationStatus(n))},p=C()(C()({},r),{},{contentName:c,id:"InstallErrorButton"});return l.createElement(ae,{className:a},l.createElement(ae.Button,{accessibilityLabel:h,buttonType:u.L$.Primary,className:s()(vr,o),telemetryProps:p},l.createElement("div",{className:P.uo},c),l.createElement("div",{className:s()(P.S7,ii)},d)),l.createElement(ae.Flyout,null,l.createElement(ne,null,(e=>l.createElement(ti,{onRetryClicked:m,onCancelClicked:e.closeFlyout,installOperation:n})))))},di=e=>{let{baseProductId:t,overrideClassName:n}=e;const{installStatusPendingTitle:r}=(0,f.y_)("installStatusPendingTitle"),o=(0,v.useSelector)((e=>(0,ai.ik)(e,t))),a=(0,v.useSelector)((e=>(0,ai.Me)(e,(null===o||void 0===o?void 0:o.deviceId)||"")));return l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,className:s()(Sr,n),disabled:!0},l.createElement("div",{className:"InstallButton-module__progressContainer___JhBBL"},l.createElement(se,null),l.createElement("div",{className:P.uo},r)),l.createElement("div",{className:s()(P.S7,ii)},a))},hi=e=>{let{baseProductId:t,overrideClassName:n}=e;const{installStatusSuccessTitle:r}=(0,f.y_)("installStatusSuccessTitle"),o=(0,v.useSelector)((e=>(0,ai.ik)(e,t))),a=(0,v.useSelector)((e=>(0,ai.Me)(e,(null===o||void 0===o?void 0:o.deviceId)||"")));return l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,className:s()(Sr,n),disabled:!0},l.createElement("div",{className:P.uo},r),l.createElement("div",{className:s()(P.S7,ii)},a))},mi=e=>{let{baseProductId:t,buttonTitle:n,showModal:r,telemetryProps:o,hideModal:a,openModal:i}=e;return l.createElement(l.Fragment,null,l.createElement(Xr,{onClick:i,icon:fa.Z,telemetryProps:o},n),r&&l.createElement(Ur,null,(e=>{const n=()=>{e.closeDialog(),a()};return l.createElement(ei,{"aria-labelledby":"title",onCancelClicked:n,onInstallClicked:n,onHide:n,productId:t,show:r,closeable:!0})})))};const pi=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M512 1152v-128h640v128H512zm989 130l317 318-317 318-91-91 163-163H256V256h1536v1136l-128-128V384H384v1152h1189l-163-163 91-91zm-93-514v128H512V768h896zM512 512h768v128H512V512z"}))};const gi=e=>{const t=(0,f.iV)("sorryForTheInconvenience"),n=(0,f.iV)("externallyManagedSubscription",e.subscriptionName);return l.createElement("div",{className:"ExternallyManagedSubscriptionScreen-module__content___Gp353"},l.createElement("h3",{className:s()(P.vM,"ExternallyManagedSubscriptionScreen-module__modalTitle___O9YrF")},t),l.createElement("p",{className:"ExternallyManagedSubscriptionScreen-module__modalContent___iTQ0p"},n))},fi=e=>{const t=(0,f.iV)("closeButtonText"),{showModal:n,onComplete:r,subscriptionName:o,buttonType:a,overrideButtonClassName:i}=e;return l.createElement(x.u_,{className:"ExternallyManagedModal-module__externallyManagedModalContainer___UsB0s",closeable:!0,show:n,onHide:r},l.createElement(gi,{subscriptionName:o}),l.createElement(c.k,{as:"button",buttonType:a,"aria-label":t,onClick:r,className:null!==i&&void 0!==i?i:""},l.createElement("div",{className:P.uo},t.toLocaleUpperCase())))},vi=["buttonLabel","buttonType","onClick","isExternallyManaged","telemetryProps"],_i=["buttonLabel","buttonType","isExternallyManaged","telemetryProps","onClick","overrideClassName"],yi=["buttonLabel","isExternallyManaged","telemetryProps","onClick"],bi=e=>{let t="";switch(e.experienceButtonType){case Xn.Ug.CondensedDesktop:t=mr;case Xn.Ug.Desktop:return l.createElement(Ci,C()(C()({},e),{},{overrideClassName:t}));case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:return l.createElement(Ei,C()(C()({},e),{},{overrideClassName:Wr(!1,e.experienceButtonType)}));case Xn.Ug.MobileStickyHeader:return l.createElement(Ei,C()(C()({},e),{},{overrideClassName:Er}));case Xn.Ug.Overflow:return l.createElement(Si,C()({},e));default:return null}},Ci=e=>{const{buttonLabel:t,buttonType:n=u.L$.Primary,onClick:r,isExternallyManaged:o,telemetryProps:a}=e,i=V()(e,vi),s=(0,l.useRef)(null);return o?l.createElement(Ar,C()({accessibilityLabel:t,buttonType:n,onClick:r,buttonRef:s,telemetryProps:a,title:t.toLocaleUpperCase()},i)):l.createElement(Pr,C()({accessibilityLabel:t,buttonType:n,href:T.B6,subtitle:"",target:"_blank",telemetryProps:a,title:t.toLocaleUpperCase()},i))},Ei=e=>{const{buttonLabel:t,buttonType:n=u.L$.Primary,isExternallyManaged:r,telemetryProps:o,onClick:a,overrideClassName:i}=e,s=V()(e,_i);return r?l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:n,className:i,onClick:a},(0,S.iZ)(o)),t.toLocaleUpperCase()):l.createElement(c.k,C()(C()({as:"a","aria-label":t,buttonType:n,className:i,href:T.B6,target:"_blank"},(0,S.iZ)(o)),s),t.toLocaleUpperCase())},Si=e=>{const{buttonLabel:t,isExternallyManaged:n,telemetryProps:r,onClick:o}=e,a=V()(e,yi);return n?l.createElement(Xr,C()({"aria-label":t,icon:pi,onClick:o,telemetryProps:r},a),t.toLocaleUpperCase()):l.createElement($r,C()({"aria-label":t,href:T.B6,icon:pi,target:"_blank",telemetryProps:r},a),t.toLocaleUpperCase())},Ti=e=>l.createElement(c.k,{as:"button","aria-disabled":!0,buttonType:u.L$.Tertiary,className:gr},e.actionText.toLocaleUpperCase()),wi=e=>{const t=e.className||fr;return l.createElement(c.k,{as:"button","aria-disabled":!0,buttonType:u.L$.Tertiary,className:t},e.actionText.toLocaleUpperCase())},Ii=e=>l.createElement(Xr,{"aria-disabled":!0,icon:to,telemetryProps:{}},e.actionText);const ki=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1536 256h384v384h-128V475l-456 456-91-91 456-456h-165V256zm0 1280v-512l128-128v768H0V512h1280l-128 128H128v896h1408z"}))},Ai=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,buttonLabel:r,storeLink:o,telemetryProps:a}=e;return t?l.createElement(c.k,C()({as:"button","aria-label":r,buttonType:n,className:s()([mr,yr,P.uo]),onClick:()=>t()},(0,S.iZ)(a)),r.toLocaleUpperCase()):l.createElement(c.k,C()({as:"a","aria-label":r,buttonType:n,className:s()([mr,yr,P.uo]),href:o,target:"_blank"},(0,S.iZ)(a)),r.toLocaleUpperCase())},Pi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,buttonLabel:r,storeLink:o,telemetryProps:a,className:i}=e,d=[yr];return i&&d.push(i),t?l.createElement(c.k,C()({as:"button","aria-label":r,buttonType:n,className:s()(d),onClick:()=>t()},(0,S.iZ)(a)),r.toLocaleUpperCase()):l.createElement(c.k,C()({as:"a","aria-label":r,buttonType:n,className:s()(d),href:o,target:"_blank"},(0,S.iZ)(a)),r.toLocaleUpperCase())},xi=e=>{let{actionOverride:t,buttonLabel:n,storeLink:r,telemetryProps:o}=e;return t?l.createElement(Xr,{icon:ki,onClick:()=>t(),telemetryProps:o},n):l.createElement($r,{href:r,icon:ki,target:"_blank",telemetryProps:o},n)};const Ri=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M384 640V384h256v256H384zM128 896V128h768v768H128zm128-640v512h512V256H256zm128 1408v-256h256v256H384zm-256 256v-768h768v768H128zm128-640v512h512v-512H256zm1408-896v256h-256V384h256zm-512-256h768v768h-768V128zm640 640V256h-512v512h512zm-640 768h128v128h-128v-128zm256-256h-128v128h-128v-256h256v128zm256-128v128h-128v-128h128zm-128 128v256h-256v-128h128v-128h128zm-256 384h256v128h-128v128h-256v-128h128v-128zm256 256v-128h256v128h-256zm384-128h-128v-256h128v256zm-128-512v-128h128v256h-128v128h-128v-256h128zm-256 384v-128h128v128h-128z"}))};var Ni=n(920536);const Oi=async e=>{const t=await e.acquireTokenSilently(E.Q7.MDollar);return t?(0,E.Wg)(t):null},Li=[_n,"XEWeb","XENative","XETest","XboxAppOnAndroid","XboxAppOnIOS"],Mi=e=>{const{productId:t="",skuId:n,availabilityId:r,trackingParams:o,setIsLoading:a,orderDetails:i,onCloseButtonClick:s,clientType:c,offerId:u,productMetadataList:d,themeOverride:h,scenario:m}=e;(0,S.Li)("ContextualStoreRedeem",S.uZ.Overlay,{productInfo:{id:t,sku:n}});const p=()=>{a(!1)},f=(0,E.Tv)(),_=(0,v.useSelector)(g.gzb),y=(0,l.useRef)(null),b=(0,v.useSelector)(g.yWe),C=(0,S.Qc)(),T=(0,v.useSelector)(E.t_),[w,I]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{C.logAppAction({action:Un.RedeemStarted})}),[]),(0,l.useEffect)((()=>{const e=(0,Ni.makeWindowListener)({done:e=>{const o=e.orderId,a=e.orderLineItems&&e.orderLineItems.length>0?e.orderLineItems[0]:e.orderInfo,l=(null===a||void 0===a?void 0:a.productId)||t,c=(null===a||void 0===a?void 0:a.skuId)||n,u=(null===a||void 0===a?void 0:a.availabilityId)||r;switch(e.status){case"cancelXButton":C.logAppAction({action:Un.RedeemCanceled}),s();break;case"cancel":C.logAppAction({action:Un.RedeemCanceled}),i.onCancel(l,c,u,o);break;case"success":C.logAppAction({action:Un.RedeemSuccessful}),i.onSuccess(l,c,u,o);break;case"error":{const t=e,n=kn.PurchaseError;C.logAppAction({action:Un.RedeemFailed}),i.onError(l,n,c,u,o,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{i.onOpenUrl?i.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,l.useEffect)((()=>{var e;w||(a(!1),async function(e,t,n,r,o,a,i,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:_n,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:xn.Redeem,h=arguments.length>12?arguments[12]:void 0,m=arguments.length>13?arguments[13]:void 0;const p=e=>{s(!1),l(e)};if(!e)return void p(new Error("Failed to load frame."));if(d===xn.BuddyPass&&!i)return void p(new Error("No ProductId provided for Buddy Pass scenario."));let f;try{f=n?(0,E.Wg)(n):await Oi(t)}catch(_){return void p(_)}if(!f)return void p(new Error("Unable to get token silently."));const v=["sc_xboxgamepad","sc_xboxspinner","sc_xboxclosebutton","sc_xboxuiexp","sc_disabledefaultstyles"];d===xn.BuddyPass&&v.push("sc_buddypass");await(0,Ni.invokeRedeemNowInFrame)(e,{authToken:"",locale:r.localeWithScript,market:r.market,cV:o,layout:"Modal",clientType:u,cssOverride:"XboxCom2NewUI",xToken:f,productId:i,skuId:c,theme:a===g.Q2A.Dark?"dark":"light",campaignOptions:{flights:v},scenario:d,offerId:m,productMetadataList:h,suppressRedeemThankYouPage:!0})||p(),s(!0)}(y.current,f,T,b,null!==(e=null===o||void 0===o?void 0:o.cV)&&void 0!==e?e:C.cv().get(),null!==h&&void 0!==h?h:_,t,p,(()=>{C.logAppAction({action:Un.RedeemFailed}),i&&i.onError(t,kn.PurchaseError,n,r)}),n,(e=>!!e&&Li.includes(e))(c)?c:_n,m,d,u),I(!0))}),[w]),l.createElement("iframe",{key:"redeem-sdk-iframe",title:"Redeem Frame",name:"redeem-sdk-hosted-iframe",ref:y,className:"ContextualStoreRedeem-module__redeemFrameNewUi___p2HwD"})};var Ui=n(830434);var Di="ThankYouPage-module__actionContainer___YBSpg",Bi="ThankYouPage-module__contentContainer___qsj94",Fi="ThankYouPage-module__fontBold___Zqif6",Hi="ThankYouPage-module__heroButton___JyuUt",qi="ThankYouPage-module__imageContainer___AYQH7",Gi="ThankYouPage-module__marginTop1___dmTdI",zi="ThankYouPage-module__marginTop2___X1SGq",Xi="ThankYouPage-module__parentTextContainer___3kfef",$i="ThankYouPage-module__productImage___H9mHZ",Vi="ThankYouPage-module__subscriptionRow___s5pxV",Wi="ThankYouPage-module__thankYou___2NMnQ";const Ki=e=>{const{isPreorder:t,className:n,contentClassName:r,mainMessageClassName:o,secondaryMessageClassName:a}=e,[i,c,u,d]=(0,f.QF)("fincastleThankYouPrimaryMessage","fincastleThankYouSecondaryMessage","fincastleThankYouPrimaryMessagePreOrder","fincastleThankYouSecondaryMessagePreOrder");return l.createElement("div",{className:n},l.createElement("div",{className:s()("CardPoints-module__contentContainer___qDR8Y",r)},l.createElement("p",{className:o},t?u:i),l.createElement("p",{className:a},t?d:c)))},ji=e=>{const{productId:t,skuId:n,referringProductId:r,scenario:o,setIsLoading:a,onClose:i,onError:u,xboxCardUsedForPurchase:d}=e;(0,S.Li)("ContextualStoreThankYou",S.uZ.Overlay,{productInfo:{id:t,sku:n}});const[h,m,p,y,b,C,T,w,I,k,A,R,N,O,L]=(0,f.QF)("closeButtonText","successText","successTextAccessibilityTemplate","successGamePassTextAccessibilityTemplate","giftProductThankYouTitle","giftProductRecipientGettingSoon","giftProductTrackOrderAtText","giftAccountsLinkText","productThankYouText","productAvailableToYouText","subscriptionThankYouText","gamerPicAltText","downloadXboxAppText","gamePassUltimateLogoAltText","preorderProductAvailableUponReleaseText"),M=(0,v.useDispatch)(),U=(0,v.useSelector)((e=>(0,_.zF)(e,t,n))),D=Bn(g.vCX.EnableBuyNowXboxUiExp),B=(0,v.useSelector)(E.bG),F=(0,l.useRef)(null);if((0,l.useEffect)((()=>{var e;null===(e=F.current)||void 0===e||e.focus()}),[]),(0,l.useEffect)((()=>{a(!1),M(pn.I.getProductDetailById.start(t,u))}),[t]),(0,W.useBackHandler)((0,l.useCallback)((()=>(i(),!1)),[i])),!U)return null;const H=U.product,q=U.sku,z=(0,G.wF)(H,q),X=(0,G.SP)(H,q),$=(0,G.Ie)(H,q),V=(0,G.Xx)(H,q),K=(0,g.WUZ)(p,V),j=(0,g.WUZ)(y,V),Y=o===Pn.Gift,Z=t===G.Os,Q=t===G.Cv,J=null===B||void 0===B?void 0:B.gamerTag,ee=null===B||void 0===B?void 0:B.gamerPicUrl,te=null===q||void 0===q?void 0:q.isPreorder,ne=!Y&&(H.productFamily===G.fO.Subscription||H.productFamily===G.fO.Passes),re=ne?"ThankYouPage-module__gamepassBg___qNLdm":"ThankYouPage-module__productBg___IlsyC",oe=new URL(g.vPf),ae=new URLSearchParams(oe.search);r&&ae.append("productId",r),oe.search=ae.toString();const ie=()=>d?s()(Di,te?"ThankYouPage-module__actionContainerPreOrderXboxCard___4Mdb9":"ThankYouPage-module__actionContainerXboxCard___NVpw-"):Di,se=()=>l.createElement(Ki,{className:"ThankYouPage-module__cardPoints___D3CFZ",contentClassName:"ThankYouPage-module__cardPointsContentContainer___0DC5T",mainMessageClassName:"ThankYouPage-module__cardPointsMainMsg___3PMqI",secondaryMessageClassName:"ThankYouPage-module__cardPointsSecondaryMsg___xODkM",isPreorder:!!te});return l.createElement("div",{className:s()(re,"ThankYouPage-module__rootContainer___td6I6",D?"ThankYouPage-module__enableBuyNowXboxUiExp___ZLR2r":void 0,ne?"ThankYouPage-module__subscriptionRootContainer___yeBhh":void 0,d?"ThankYouPage-module__xboxCardRootContainer___Qvfqh":void 0,te?"ThankYouPage-module__preOrderContainer___pMJca":void 0)},D&&!ne&&l.createElement("div",{className:"ThankYouPage-module__heroContainer___qXtlg"},l.createElement(x.Ee,{className:"ThankYouPage-module__heroImage___e+RSq",src:null===z||void 0===z?void 0:z.url,width:600,height:640,alt:null===z||void 0===z?void 0:z.caption,ariaHidden:!0,hideShadow:!0,fluid:!0}),l.createElement("div",{className:"ThankYouPage-module__heroLinearGradient___EozWi"})),ne&&l.createElement(l.Fragment,null,l.createElement("div",{className:qi},B&&l.createElement(x.X2,{className:s()("ThankYouPage-module__gamerPicRow___veH2x",Vi)},l.createElement(Ui.pp,{className:"ThankYouPage-module__gamerPic___GWq6X",src:ee,"aria-label":R,size:Ui.nh.Large})),Z&&l.createElement(x.Ee,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAcCAYAAABWFFBUAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAcaADAAQAAAABAAAAHAAAAAAF5gC+AAAKpklEQVRoBe1aW4yVSRGeK3PjJpCAuAwzYwRdFyWwIRPHVdQHCcZEYWMgAbNBHjQ+YEg0JhAeDDzIg4kSHkQgyAsJCTdxIbBkYVFcBpaLCSG7sDOzMkBGCHfmeuac4/fV6a+3T5//zGG9wcNUUqe6q6qrq7q6q/sfKC/7GMo/bpaF7YA92nwBViAb+ZCtcgwljTTESH+0+5xXgAkM0dxhEpXACraz2WzKJKM/L+QKPH369PVx48YdgnNMZoZOMnEEnb7KXHf090Vdgd7eXh48HT47gGE5ZULV9zHgZPaiMyxGeXn5OLSV/DTkTyUDrYK8gf0S42wIdPrRGLJO6Z9q2K7HmD6o+moB3lj0ufkykD1JMON9cjKoZR8n6Jn9BH7KzelFmHMMOnWegQZ0BkAGQ94IbcUyYvyYpxY2akI7AwMDjNXiBfX3I7NJJpXHM8IQdu/e/V3wW4DNpIODg9ck7+vruwTeZ52s+eDBg69Ltm/fvu+Lz3GY/APJRM+fP/8zpzMTtBE4IwHJn3nmzJk3OO706dNvoE9fDLEz28mHXx+CRz+bgLI3c926da2UC6B/MdKjbtOJEydWSCekXV1dv4WcczUBTffw4cM+Tulevnz5l5Bzfs1dNJaTJ0/aXO3t7T+GflM0hvESm7q7u38n+6JXr179IWTjgUywnUidqHIw2FYfzRxkMhnKPMCY77u273slNNy4RJn0nI7mzHJYApJPjCGJR53QTnbTpk3/HBoa6tLg+/fvv+faeXqSx/TAgQNvOp73bcWKFRfT6fSdUDdai9C2Hwd98okhiBfqmTxcaw0YHh7mevHQ+bXVAkrHC8SoqKjgJGkgS2oaR9w74dqUmbympobUoKqqik5xjI3LcfN/XRKpx3EskUSWVyH7Nt75URbbDf2BrvkBGtoafvz48bvgGeBknUND8/l5qqur6UceoHpcXbt2bQeYw1OmTBmeNWsWdVKPHj1K3bt373iecq6jWOhz0Vg0l4tFvshnxVzgD6dwSWSefK5KJtFNKKc4QQxeFibRtb0sWmyz0dra+mvstveBHcB/LFmyhDvMFraxsXEYvG7gR8BO6G7nIBe4D1h2HdV8gxcvXpwtW7dv3z7DsYDszp0720FTKGmzQHmHEYfGjBnDxcwDlDOeQrOJa6Vxz549splCWdMJtTFz5879FfxULB+tWbOG5c5vEsg+VCxtbW1/5KAgFtPDptkNnRvALuD1GTNm/MSMl/iJk1igHu38YS0aFaNTmqqvr2fABrW1tVwU9oU5Qf4vazofCYbjx4/nKbfd7BbVy8C3R5fbVKFtiDzYgqOXamlp0YIPHTp06B1qoKxe27Vr1z0258yZ8zL1HA6HGxA8Qnbv3r1/AjWdBQsWvAqbX1QfJfWvqCT3qeggLxbYYxw6mfS3Bqh4LJaEte1H8nqF0PdVD+2iUDKJbtHkEGkMcjRTWVnpJw0SbGPD5McG1MdO9P64UitRTJXsjMqsU/B8bKgvg8fFS2/YsKEnlUp9gIfYWfSZ6PTYsWMpLxoXdC+vX7++m7pEfJu1NTQ0zHdj0rdu3WJZPYZ+IuCh5WOBgi99CcreZyR+JeJpAX4e+CX6kKBfwAonKhCS4RLDiYSxHvmELCZW+1nG5UYFv/39/Syn9Knc1f5AmmtGyfXzuU3i+/ClCa/ISRhlmwwb5C8PHz78G/rppqamLDYnEyL9bLgBOdPNmzcPU9ch9Rfi5HyTMoDZvHbt2pFct/DXJdFigTRxnYNY6Iew0FgJTqLxcAx2H7/DQmD9NsCx564m2GJAl09fA7zeRtp9UsujCFxJrEAS2S6AZ7DLeS0ulMBWZyDz5MmTd3GP2aMGL86XkXR+71JX6FSNZHbs2KEkZo4cOfIZxHoX+PD48eOfhgbjzaxevfodJCLpm7Ms2JD0JXGdXRLjdQqTGcvMufjHanPMDPvTp09/Kejze+w6duUr5KHdBWIJZH/ChAmNpP8uuNNnAQe7NMlcseCUEP75sBwl8DUMZsnL9PT0/H3lypWdNIZH01dIAYmLy7K7efPmHsh5EjOLFy9mWdUYNA3SV65cGcTmeAtxLxVTFOVbyeP6JM4jXVGM2YfT/i31QRM3ciC3ZknjeGy0QFOLlsVO3IzS9B6wff/+/b+BjKXFEol7iLoxUEbkpd0XIF+FnxhKJFf2zF/cMQsdIzt//vz38Y1ovuI+bHN8n3QNJMWrlA8aJtDuT1CLD5SgeGgr3dnZmVhSg4qhtbPB4U8Qi3T4iOK6DGKdhoDPtEYlkzh16tRlePrXu8mzS5cuvV5XV/cd4PdWrVrFnc1gyjZu3DgBO3+Z0wsJg87gtflt3FOzeWEDXz127NgvQqX/YtsSgwXi63nO9u3bJzvbWnzeb1/FAlGP8dsCQleJSm3ZsuXP4NspBM3im/AHwGV3795dDrocawK2JTOD78i3YYt/mvyPAX4tR5l/CdgMf2bjdZy0ngXzlEwijE3dtm3bzzFSu0U7lLuGOzUzceLEMnwXrcfkn9IMbpdpjO1ap2/fRDgluk81JPwrj5VDLyhs0K7QpC4p4lUoSYsWLfo6FJSs8nPnzn0Bfk5xJsk31KnAXXZ669at/HSgz9kLFy7MnjRp0g7gH/DBv40U1YjXCefKnjp1qh8l9W20k0D+kBaDYjraVMXGeX7JJFJz8uTJP0Vwe48ePfo5JgxgScHdUnb27NlX7ty58yZK1GoKBMGdoAA4hokjppI+rt1CalETfQvuTenJPqcmj/dIpUtiGfxd6Hi8/yubm5u/Bso/WHOc8UArVP5u3LjBUiqoQIzfUEd02rRpr6HNeczHjo6Oo5KJxn6KH9IEnTCWvNd+OC5ucxCRDlUD6xAcP4ZHgl5Mfh0KtbiEm0H5EZsEA7CVwa7P21FaXPA5Z95YyPhXfa8PHZVxbx86vCdYDQygw7+McDEhsvHi0zbnoO6AMXM//OBmrKZP/wAg5bRRizZ1ueHKKAOhnfgByCpkr3SORbsCuvTDA/glY4Ey7768P2XKgLNbCbt5a3Tp0qUfzZs37yD06Cd9SMfO+QWUsQTagOTNTeDHrFo4EPO4MAU8MSDL++cd8UMaBxXIICpMOuRMpP3zWKDLptdHw4vQzkuGF+Q3uAmIReOBnZKxYHhNODftCYrxJQ+plYOQMdp+sVfAPcB42PyBC08imZkHDx78Hn9jrMIdwXvCJ5mDsTsS6zTvMh5/PQ64DLE+x5LvyoQ9YsIxzjmVMKqarmyzr/llizyCbMb8nDT3K/uhj5JTFvND/WJ+huNCHdqlLPRH8tBX6Wgu6Usnjh1/Vcrgzu6E+bwkso4QmSwmlPcFazCR5YKlSLVGA0UhMpANUTItYY7G+pRLV5S8kfQoFyTpSTYSlU+cMwTxyZMs5oV+Uk8+SE/ycLxk1CdIJ9fL/YZ2iulzHGX6KrDvSPR5H9rXgU4ilfR6ZELZp0KYRHSNT5oECkCy2CnxYxqOSxoTyjk2SSe2+b/oh34U86GUTij/JLFwPuaHieSjitQeX6D+vyyi7ZXsxYM+k8hJ44nBGoX/8wowiUok88IkipeXJCWMJ5Go5ImCNQrPcQWUNJ5Aovr+/8soUcXoc/R9dGq3AkwaoYAqaTlx7jeJF8pH289/BZRI8+RffoacsJshFlcAAAAASUVORK5CYII=",width:113,height:28,className:s()(Gi,"ThankYouPage-module__gamePassUtlimateImage___qAm7y"),alt:O})),l.createElement("div",{className:s()(Bi)},l.createElement("div",{className:Xi},l.createElement(x.X2,{className:s()(Vi,Gi)},l.createElement("p",{className:"ThankYouPage-module__thanksForJoining___igWv1"},A)),B&&l.createElement(x.X2,{className:s()(Vi)},l.createElement("p",{className:"ThankYouPage-module__gamerTag___OsTkH"},`${J}!`)),d&&se()),l.createElement("div",{className:ie()},(Z||Q)&&(0,g.tdh)()?l.createElement(c.k,{as:"a",ref:F,"aria-label":j,className:s()(Hi,zi),href:oe.toString(),target:"_blank"},N):l.createElement(En.K,{as:"button",ref:F,"aria-label":K,className:s()(Hi,zi),onClick:i},h)))),!ne&&l.createElement(l.Fragment,null,l.createElement("div",{className:qi},D?l.createElement(x.Ee,{src:null===X||void 0===X?void 0:X.url,className:s()($i,Gi,"ThankYouPage-module__productImageUiExp___OPoUU"),alt:(null===X||void 0===X?void 0:X.caption)||V,width:152,height:228,fluid:!0}):l.createElement(x.Ee,{src:null===$||void 0===$?void 0:$.url,className:s()($i,Gi),alt:null===$||void 0===$?void 0:$.caption,width:108,height:108,fluid:!0})),l.createElement("div",{className:s()(Bi)},l.createElement("div",{className:Xi},l.createElement("div",{className:"ThankYouPage-module__tyTextContainer___nXZuA"},Y?l.createElement("p",{className:s()(P.a2,"ThankYouPage-module__giftTitle___uxVBS")},b):l.createElement("p",{className:"ThankYouPage-module__success___jnCaK"},m),l.createElement("p",{className:s()(Wi,Fi)},I),l.createElement("p",{className:Wi},Y?C:te?L:k)),d&&se()),l.createElement("div",{className:Y?"ThankYouPage-module__giftActionContainer___Wm87V":ie()},l.createElement(En.K,{as:"button",ref:F,className:s()(Hi,d?Gi:zi,Fi,D?"ThankYouPage-module__uiExpHeroButton___UocfF":void 0),onClick:i},h),Y&&l.createElement(x.X2,{id:"TrackOrderContainer",className:s()("ThankYouPage-module__trackOrderContainer___vIXiC")},l.createElement("p",{className:s()(P.gC,"ThankYouPage-module__trackOrderMessage___tIN-b")},(0,g.vvg)(T,l.createElement("a",{"aria-labelledby":"TrackOrderContainer",className:s()(ot.Xs,P.gC),href:g.vXL,target:"_blank",rel:"noopener noreferrer"},w))))))))};const Yi=e=>({productId:e||"",status:kn.Canceled}),Zi=e=>{let{contentRef:t,showModal:n,onClose:r}=e;const o=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp))),[a,i]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[u,d]=(0,l.useState)(Yi()),h={onCancel:(e,t,n,o)=>{d({productId:e||"",orderId:o||"",status:kn.Canceled,skuId:t,availabilityId:n}),r(u)},onError:(e,t,n,o,a,i)=>{d({productId:e,orderId:a||"",status:t,skuId:n,availabilityId:o,error:i}),r(u)},onSuccess:(e,t,n,r)=>{c(!0),i(!1),d({status:kn.Purchased,productId:e||"",availabilityId:n,skuId:t,orderId:r})}};return l.createElement(l.Fragment,null,l.createElement(x.u_,{show:n,fullscreenOnMobile:o},l.createElement(x.u_.Body,{className:(0,x.W0)("padding","all",0)},l.createElement(wn,{value:{activateStoreExperiments:!0}},l.createElement("div",{ref:t,className:"RedeemCodeModal-module__modalContainer___4E9L+"},s?l.createElement(ji,{productId:u.productId,skuId:u.skuId,scenario:Pn.BuyNow,setIsLoading:i,onError:e=>{r(C()({error:e},u))},onClose:()=>{c(!1),d(Yi()),r(u),window.location.reload()},xboxCardUsedForPurchase:!1}):l.createElement(Mi,{setIsLoading:i,onCloseButtonClick:()=>r(u),clientType:"XboxCom",themeOverride:g.Q2A.Dark,scenario:xn.Redeem,orderDetails:h}))),a&&l.createElement("div",{className:"RedeemCodeModal-module__progressContainer___PTa75"},l.createElement(x.X2,{className:"RedeemCodeModal-module__progressIconAlignment___lkjyG"},l.createElement(x.dj,null))))))},Qi=e=>{const[t,n]=(0,l.useState)(!1),r=(0,f.iV)("redeemACodeButtonLabel"),o=(0,S.EW)(),a=(0,v.useSelector)(E.yB),i=(0,g.$wQ)(),s=(0,S._d)({behavior:S.cg.SHOW,contentName:r,id:"RedeemCodeModalButton",slotNumber:e.slotNumber},o),c={buttonId:"RedeemCodeModalButton",buttonType:e.buttonType,redeemCodeLabel:r,slotNumber:e.slotNumber,telemetryProps:s,onClick:()=>{if(a)e.actionOverride?e.actionOverride():n(!0);else{const e=new URL(window.location.toString()),t=i(e.toString());window.location.assign(t)}}};let u;switch(e.experienceButtonType){case Xn.Ug.Desktop:u=l.createElement(Ji,C()({},c));break;case Xn.Ug.CondensedDesktop:u=l.createElement(es,C()({},c));break;case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:u=l.createElement(ts,C()(C()({},c),{},{className:Wr(!1,e.experienceButtonType)}));break;case Xn.Ug.MobileStickyHeader:u=l.createElement(ts,C()(C()({},c),{},{className:Er}));break;case Xn.Ug.Overflow:u=l.createElement(ns,C()({},c))}return u?l.createElement(l.Fragment,null,u,l.createElement(Zi,{onClose:()=>n(!1),showModal:t})):null},Ji=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(tt.$,C()(C()({as:"button","aria-label":n,buttonType:t,className:s()([br,yr]),icon:Ri,title:n},(0,S.iZ)(r)),{},{onClick:o}))},es=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(c.k,C()(C()({as:"button","aria-label":n,buttonType:t,className:s()([mr,yr,P.uo])},(0,S.iZ)(r)),{},{onClick:o}),n.toLocaleUpperCase())},ts=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o,className:a}=e;return l.createElement(c.k,C()(C()({as:"button","aria-label":n,buttonType:t,className:a},(0,S.iZ)(r)),{},{onClick:o}),n.toLocaleUpperCase())},ns=e=>l.createElement(Xr,{icon:Ri,onClick:e.onClick,telemetryProps:e.telemetryProps},e.redeemCodeLabel),rs="https://redeem.microsoft.com",os="_blank",as=e=>{const t=(0,f.iV)("redeemACodeButtonLabel"),n=(0,S.EW)(),r=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:t,id:"RedeemCodeHrefButton",slotNumber:e.slotNumber},n),o={buttonId:"RedeemCodeHrefButton",buttonType:e.buttonType,redeemCodeLabel:t,slotNumber:e.slotNumber,telemetryProps:r};switch(e.experienceButtonType){case Xn.Ug.Desktop:return l.createElement(is,C()({},o));case Xn.Ug.CondensedDesktop:return l.createElement(ss,C()({},o));case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:return l.createElement(ls,C()(C()({},o),{},{className:Wr(!1,e.experienceButtonType)}));case Xn.Ug.MobileStickyHeader:return l.createElement(ls,C()(C()({},o),{},{className:Er}));case Xn.Ug.Overflow:return l.createElement(cs,C()({},o));default:return null}},is=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return l.createElement(tt.$,C()({as:"a","aria-label":n,buttonType:t,className:s()([br,yr]),href:rs,icon:Ri,target:os,title:n},(0,S.iZ)(r)))},ss=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:t,className:s()([mr,yr,P.uo]),href:rs,target:os},(0,S.iZ)(r)),n.toLocaleUpperCase())},ls=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,className:o}=e;return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:t,className:o,href:rs,target:os},(0,S.iZ)(r)),n.toLocaleUpperCase())},cs=e=>l.createElement($r,{href:rs,icon:Ri,target:os,telemetryProps:e.telemetryProps},e.redeemCodeLabel);const us=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M0 384h2048v128H0V384zm0 1152v-128h2048v128H0zm0-512V897h2048v127H0z"}))};const ds=["onComplete","showModal","title"],hs=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,telemetryProps:r,title:o}=e;return t?l.createElement(c.k,C()({as:"button","aria-label":o,buttonType:n,className:s()([mr,yr,P.uo]),onClick:()=>t()},(0,S.iZ)(r)),o.toLocaleUpperCase()):l.createElement(ca,C()(C()({},e),{},{buttonAccessibilityLabel:o,preferSkuValues:!0,telemetryProps:r,title:o.toLocaleUpperCase()}))},ms=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,listItemAccessibilityFormat:r,productIdentifiers:o,telemetryProps:a,title:i,subTitle:s,className:d}=e,[h,m]=(0,l.useState)(!1),p=(0,l.useRef)(null),g=(0,l.useRef)(null),f=(0,Z.mG)(h,(()=>m(!1)),p,g);return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":i,buttonType:n,className:d,onClick:t?()=>t():()=>m(!0),ref:p},(0,S.iZ)(a)),i.toLocaleUpperCase(),!!s&&l.createElement("div",null,s)),l.createElement(gs,{listItemAccessibilityFormat:r,contentRef:g,onComplete:f,productIdentifiers:o,showModal:h,telemetryProps:a,title:i}))},ps=e=>{const{actionOverride:t,listItemAccessibilityFormat:n,productIdentifiers:r,telemetryProps:o,title:a}=e,[i,s]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(Xr,{"aria-label":a,onClick:t?()=>t():()=>s(!0),icon:us,telemetryProps:o},a),l.createElement(Ur,null,(e=>l.createElement(gs,{listItemAccessibilityFormat:n,onComplete:()=>{e.closeDialog(),s(!1)},productIdentifiers:r,showModal:i,telemetryProps:o,title:a}))))},gs=e=>{const{onComplete:t,showModal:n,title:r}=e,o=V()(e,ds);return l.createElement(l.Fragment,null,n&&l.createElement(x.u_,{className:"SkuSelectorButton-module__modal___oaP9J",closeable:!0,onHide:t,show:n},l.createElement("h6",{className:P.S7},r),l.createElement(sa,C()(C()({},o),{},{preferSkuValues:!0}))))};const fs=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1887 1856q0 40-15 75t-41 61-61 41-75 15H354q-40 0-75-15t-61-41-41-61-15-75q0-27 6-51t21-47l569-991v-1q10-14 10-34V128H640V0h768v128h-128v604q0 20 10 34v1l569 991q14 23 21 47t7 51zM538 1408h972l-331-577q-27-46-27-99V128H896v604q0 53-27 99l-331 577z"}))},vs=["buttonRef","onClick"],_s=["title","subtitle","accessibilityLabel","affirmationProductGlyph","telemetryProps","isUbisoftPlusAffirmation","buttonType","buttonRef","onClick"],ys=e=>{const t=bs(e),n=(e=>{let{actionArguments:t}=e;const n=(0,l.useRef)(null),r=(0,l.useRef)(null),[o,a]=(0,l.useState)(!1),{[T.Uh.ProductId]:i,[T.Uh.SkuId]:s,[T.Uh.AvailabilityId]:c}=t,u=(0,v.useSelector)(E.yB),d=(0,g.$wQ)(),h=(0,g.IzA)(),m=(0,Z.mG)(o,(e=>{(null===e||void 0===e?void 0:e.status)===kn.Purchased?window.location.reload():a(!1)}),n,r);return{productId:i,skuId:s,availabilityId:c,showModal:o,buttonRef:n,contentRef:r,onClick:()=>{if(u)a(!0);else{const e=(0,g.kgH)(i)===G.Cv?h(window.location.href):d(window.location.href);window.location.assign(e)}},onResult:m}})(e),{buttonRef:r,onClick:o}=n,a=V()(n,vs);if(!t)return null;const i=e.actionOverride?()=>e.actionOverride(e.actionArguments):o,{buttonType:s,experienceButtonType:c}=e;let u;switch(c){case Xn.Ug.Desktop:case Xn.Ug.Mobile:u=Cs;break;case Xn.Ug.CondensedDesktop:u=Es;break;case Xn.Ug.CondensedMobile:case Xn.Ug.MobileStickyHeader:u=Ss;break;case Xn.Ug.Overflow:u=Ts;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(u,C()(C()({},t),{},{buttonType:s,buttonRef:r,onClick:i})),l.createElement(po,C()({hasAddOns:t.hasAddOns,experience:An.Purchase},a)))},bs=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;var o;const a=(0,S.Fj)(),i=(0,S.EW)(),{[T.Uh.ProductId]:s,[T.Uh.AffirmationProductId]:l}=t,[c,u,d,h,m]=(0,f.QF)("getActionText","getActionAccessibilityText","freeTrial","freeTrialUpsellFormat","commaSeparatorTemplate"),p=(0,v.useSelector)((e=>(0,Rt.RY)(e,s)));if(!p||!p.product)return a.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!p}\nhasProduct: ${!!(null===p||void 0===p?void 0:p.product)}`),null;const _=l===G.OP;let y,b,E,w;l?(y=(0,G.KJ)(l),b=(0,G.jb)(l,!0),E=(0,g.WUZ)(h,r===Xn.Ug.Desktop&&y||r===Xn.Ug.Desktop&&_?"":b),w=(0,g.WUZ)(m,(0,g.WUZ)(u,p.product.title),(0,g.WUZ)(h,b))):(y=void 0,b="",E=d,w=(0,g.WUZ)(m,(0,g.WUZ)(u,p.product.title),E));const I=r!==Xn.Ug.Desktop&&r!==Xn.Ug.Mobile?E:c,k=(0,S._d)({behavior:S.cg.PURCHASE,contentName:I,id:"TrialGetButton",slotNumber:n},i),A=Kr(!0,r,r===Xn.Ug.MobileStickyHeader?Er:void 0);return C()(C()({},A),{},{accessibilityLabel:w,affirmationProductGlyph:y,hasAddOns:null===(o=p.product)||void 0===o?void 0:o.hasAddOns,subtitle:E,isUbisoftPlusAffirmation:_,telemetryProps:k,title:I})},Cs=e=>{let{title:t,subtitle:n,accessibilityLabel:r,affirmationProductGlyph:o,telemetryProps:a,isUbisoftPlusAffirmation:i,buttonType:s=u.L$.Primary,buttonRef:c,onClick:d}=e,h=V()(e,_s);return l.createElement(Ar,C()({buttonRef:c,accessibilityLabel:r,buttonType:s,onClick:d,productGlyph:o,usesUbisoftSVG:i,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:a},h))},Es=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,className:s()(mr,P.uo),ref:a,buttonType:o,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},Ss=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,overrideClassName:i,onClick:s}=e;const d=t.toLocaleUpperCase();return l.createElement(c.k,C()({as:"button",ref:a,"aria-label":n,buttonType:o,className:i,onClick:s},(0,S.iZ)(r)),d)},Ts=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(Xr,{"aria-label":n,onClick:o,icon:fs,telemetryProps:r},t)},ws=e=>{const t=Is(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case Xn.Ug.Desktop:case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:o=r===Xn.Ug.CondensedMobile?Ps:ks;break;case Xn.Ug.CondensedDesktop:o=As;break;case Xn.Ug.MobileStickyHeader:o=Ps;break;case Xn.Ug.Overflow:o=xs;break;default:return null}return l.createElement(o,C()(C()({},t),{},{buttonType:n}))},Is=e=>{let{actionArguments:t,upsellProductId:n,slotNumber:r,experienceButtonType:o}=e;const a=(0,S.Fj)(),i=(0,S.EW)(),{[T.Uh.ProductId]:s}=t,[l,c,u]=(0,f.QF)("upsellGetFormat","freeTrialUpsellFormat","inclusionUpsellButtonAccessibilityLabelFormat"),d=(0,v.useSelector)((e=>(0,Rt.RY)(e,s))),h=(0,G.jb)(n,!0),m=(0,T.GP)(n,s),p=(0,g.kgH)(n)===G.OP;if(!n||!h||!d||!d.product)return a.warn(`Trial upsell button requested without valid values:\nupsellProductId: ${n}\nupsellProductTitle: ${h}\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!d}\nhasProduct: ${!!(null===d||void 0===d?void 0:d.product)}`),null;const _=(0,G.KJ)(n),y=(0,g.WUZ)(c,o===Xn.Ug.Desktop&&(_||p)?"":h),b=o===Xn.Ug.Overflow?y:(0,g.WUZ)(l,h),E=(0,g.WUZ)(u,h,d.product.title),w=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:b,id:"TrialUpsellButton",slotNumber:r},i),I=Kr(!0,o,o===Xn.Ug.MobileStickyHeader?Er:void 0);return C()(C()({},I),{},{title:b,subtitle:y,accessibilityLabel:E,isUbisoftPlusUpsell:p,upsellProductGlyph:_,upsellProductLink:m,telemetryProps:w})},ks=e=>{let{title:t,subtitle:n,accessibilityLabel:r,isUbisoftPlusUpsell:o,upsellProductGlyph:a,upsellProductLink:i,telemetryProps:s,buttonType:c=u.L$.Primary,overrideClassName:d,overrideContainerClassName:h}=e;return l.createElement(Pr,{accessibilityLabel:r,buttonType:c,href:i,productGlyph:a,usesUbisoftSVG:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:s,overrideClassName:d,overrideContainerClassName:h})},As=e=>{let{accessibilityLabel:t,buttonType:n=u.L$.Primary,telemetryProps:r,title:o,upsellProductLink:a}=e;return l.createElement(c.k,C()({as:"a","aria-label":t,buttonType:n,className:s()(mr,P.uo),href:a},(0,S.iZ)(r)),o.toLocaleUpperCase())},Ps=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o,buttonType:a=u.L$.Primary,overrideClassName:i}=e;const s=t.toLocaleUpperCase();return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:a,className:i,href:r},(0,S.iZ)(o)),s)},xs=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o}=e;return l.createElement($r,{"aria-label":n,href:r,icon:fs,telemetryProps:o},t)},Rs=["actionArguments"];n(882488),n(330390),n(395682),n(521045),n(17244),n(342068),n(475519),n(839432),n(173574),n(233619),n(753862),n(226881),n(35359),n(98208),n(913608),n(875676),n(305993),n(874456);var Ns=n(882279),Os=n(451356);const Ls=[G.Wy,G.Cv,G.Os,G.kE,G.OP,G.yd,G.Lm,G.pD,G.rQ],Ms=e=>e.filter((e=>Ls.includes(e))).map(((e,t)=>l.createElement(jt,{key:`subscriptionEditionCard-${e}`,productId:e,slotNumber:t}))),Us=e=>{let{productId:t,channelId:n}=e;var r;const o=(null===(r=(0,v.useSelector)((e=>(0,Sn.V4)(e,n))))||void 0===r?void 0:r.products.map((e=>e.productId)))||[],a=(0,v.useSelector)((e=>(0,Rt.I9)(e,t))),i=(0,f.UD)(a?"comingSoonToTheseSubscriptions":"includedInTheseSubscriptions"),s=Ms(o);return(null===o||void 0===o?void 0:o.length)?l.createElement(x.EM,null,l.createElement(_t,{items:s,title:i})):null};n(652856),n(657610);const Ds=e=>{let{contentRef:t,passProducts:n,show:r=!1,onHide:o}=e;if(!(null===n||void 0===n?void 0:n.length))return null;const a=n.some((e=>e.isComingSoon));return l.createElement(x.u_,{show:r,onHide:o,closeable:!0,className:"IncludedInSubscriptions-module__modalContainer___1fcM6"},l.createElement(x.u_.Header,null,l.createElement(Bs,{isComingSoon:a})),l.createElement(x.u_.Body,null,l.createElement(Ko.t8,null,l.createElement(Fs,{passProducts:n,contentRef:t}))))},Bs=e=>{let{isComingSoon:t}=e;const n=(0,f.UD)(t?"comingSoonToTheseSubscriptions":"includedInTheseSubscriptions");return l.createElement("h2",{className:s()(P.hO,"IncludedInSubscriptions-module__modalHeaderText___YccIQ")},n)},Fs=e=>{let{passProducts:t,contentRef:n}=e;const r=t.map((e=>e.passProductId)),o=Ms(r);return l.createElement("ul",{className:"IncludedInSubscriptions-module__channelWrapper___7zrNb",ref:n},o.map(((e,t)=>l.createElement("li",{key:t},e))))},Hs=["actionArguments","logger"],qs=["baseProductTitle","buttonTitle","buttonType","telemetryProps","upsellLink","upsellProductGlyph","upsellProductTitle","upsellUsesUbisoftLogo"],Gs=["baseProductTitle","buttonTitle","buttonType","telemetryProps","saleDiscount","upsellLink","upsellProductGlyph","upsellProductTitle","upsellUsesUbisoftLogo"],zs=e=>{var t;const n=(0,g.kgH)(e.actionArguments[T.Uh.UpsellProductId]),r=!!(null===(t=e.actionArguments[T.Uh.UpsellProductIdsComingSoonList])||void 0===t?void 0:t.trim()),o=(0,S.Fj)(),a=(0,f.iV)("upsellGetFormat"),i=(0,S.EW)(),s=(0,G.jb)(n,!0),c=e.actionArguments[T.Uh.ProductId],u=(0,T.GP)(n,c);if(!n||!s)return o.warn(`Upsell button requested without valid values:\nupsellProductId: ${n}\nupsellProductTitle: ${s}`),null;const d=(0,g.WUZ)(a,s),h={buttonId:r?"ComingSoonUpsellButton":"UpsellButton",buttonTitle:d,telemetryProps:(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:d,id:r?"ComingSoonUpsellButton":"UpsellButton",slotNumber:e.slotNumber},i),upsellProductId:n,upsellLink:u,upsellProductTitle:s};switch(e.experienceButtonType){case Xn.Ug.Desktop:return l.createElement(Xs,C()(C()({},h),{},{actionArguments:e.actionArguments,buttonType:e.buttonType,logger:o}));case Xn.Ug.CondensedDesktop:return l.createElement(Ws,C()(C()({},h),{},{buttonType:e.buttonType}));case Xn.Ug.CondensedMobile:case Xn.Ug.Mobile:{const t=Kr(!0,e.experienceButtonType),n=C()(C()({},h),t);return e.experienceButtonType===Xn.Ug.CondensedMobile?l.createElement(Ks,C()(C()({},n),{},{buttonType:e.buttonType})):l.createElement(Xs,C()(C()({},n),{},{actionArguments:e.actionArguments,buttonType:e.buttonType,logger:o}))}case Xn.Ug.MobileStickyHeader:return l.createElement(Ks,C()(C()({},h),{},{buttonType:e.buttonType,overrideClassName:Er}));case Xn.Ug.Overflow:return l.createElement(js,C()({},h));default:return null}},Xs=e=>{var t;const{actionArguments:n,logger:r}=e,o=V()(e,Hs),[a,i,s]=[n[T.Uh.ProductId],n[T.Uh.SkuId],n[T.Uh.AvailabilityId]],c=!!(null===(t=e.actionArguments[T.Uh.UpsellProductIdsComingSoonList])||void 0===t?void 0:t.trim()),u=(0,g.kgH)(n[T.Uh.GlyphProductId]),d=(0,g.kgH)(e.upsellProductId),h=u||d,m=(0,v.useSelector)(g.yWe),p=(0,v.useSelector)((e=>(0,Rt.RY)(e,a,i,s))),f=(0,G.KJ)(h),_=d===G.OP;if(!p||!p.product)return r.warn(`Upsell button requested without valid values:\nbaseProductId: ${a}\nbaseSkuId: ${i}\nbaseAvailabilityId: ${s}\nhasProductSummaryInfo: ${!!p}\nhasProduct: ${!!(null===p||void 0===p?void 0:p.product)}`),null;if(a&&i&&s){const t=p.availability;if(t&&t.price.listPrice<t.price.msrp){const n=(0,g.xGv)(t.price.msrp-t.price.listPrice,t.price.currency,m);return l.createElement(Vs,C()({baseProductTitle:p.product.title,experienceButtonType:e.experienceButtonType,saleDiscount:n,upsellProductGlyph:f,upsellUsesUbisoftLogo:_,isComingSoonUpsell:c},o))}return r.warn(`Sale Upsell button requested with invalid availability:\nhasAvailability: ${!!t}\nlistPrice: ${null===t||void 0===t?void 0:t.price.listPrice}\nmsrp: ${null===t||void 0===t?void 0:t.price.msrp}`),null}return l.createElement($s,C()({baseProductTitle:p.product.title,experienceButtonType:e.experienceButtonType,upsellProductGlyph:f,upsellUsesUbisoftLogo:_,isComingSoonUpsell:c},o))},$s=e=>{const[t,n]=(0,f.QF)(e.isComingSoonUpsell?"upsellComingSoonToFormat":"upsellIncludedWithFormat",e.isComingSoonUpsell?"inclusionUpsellComingSoonButtonAccessibilityLabelFormat":"inclusionUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,buttonTitle:o,buttonType:a=u.L$.Primary,telemetryProps:i,upsellLink:s,upsellProductGlyph:c,upsellProductTitle:d,upsellUsesUbisoftLogo:h}=e,m=V()(e,qs);return l.createElement(Pr,C()({accessibilityLabel:(0,g.WUZ)(n,d,r),buttonType:a,href:s,productGlyph:c,usesUbisoftSVG:h,subtitle:(0,g.WUZ)(t,c||h?"":d),telemetryProps:i,title:o.toLocaleUpperCase()},m))},Vs=e=>{const[t,n]=(0,f.QF)("upsellSaveWithFormat","saleUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,buttonTitle:o,buttonType:a=u.L$.Primary,telemetryProps:i,saleDiscount:s,upsellLink:c,upsellProductGlyph:d,upsellProductTitle:h,upsellUsesUbisoftLogo:m}=e,p=V()(e,Gs);return l.createElement(Pr,C()({accessibilityLabel:(0,g.WUZ)(n,h,s,r),buttonType:a,href:c,productGlyph:d,usesUbisoftSVG:m,subtitle:(0,g.WUZ)(t,s,d||m?"":h),telemetryProps:i,title:o.toLocaleUpperCase()},p))},Ws=e=>{const{buttonTitle:t,buttonType:n=u.L$.Primary,telemetryProps:r,upsellLink:o}=e;return l.createElement(c.k,C()({as:"a",buttonType:n,className:s()(mr,P.uo),href:o},(0,S.iZ)(r)),t.toLocaleUpperCase())},Ks=e=>{const{buttonTitle:t,buttonType:n=u.L$.Primary,telemetryProps:r,upsellLink:o,overrideClassName:a}=e;return l.createElement(c.k,C()({as:"a",buttonType:n,className:a,href:o},(0,S.iZ)(r)),t.toLocaleUpperCase())},js=e=>{const t=(0,G.Xm)(e.upsellProductId)||Os.Z;return l.createElement($r,{href:e.upsellLink,icon:t,telemetryProps:e.telemetryProps},e.buttonTitle)},Ys=e=>{const t=Zs(e),[n,r]=(0,l.useState)(!1),o=(0,l.useRef)(null),a=(0,l.useRef)(null),i=(0,Z.mG)(n,(()=>{r(!1)}),o,a);if(!t)return null;if(1===t.upsellPasses.length)return l.createElement(zs,C()(C()({},e),{},{actionArguments:C()(C()({},e.actionArguments),{},{[T.Uh.UpsellProductId]:t.upsellPasses[0].passProductId,[T.Uh.UpsellProductIdsComingSoonList]:t.upsellPasses[0].isComingSoon?t.upsellPasses[0].passProductId:""})}));const{buttonType:s,experienceButtonType:c}=e;let u;switch(c){case Xn.Ug.Desktop:case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:u=c===Xn.Ug.CondensedMobile?el:Qs;break;case Xn.Ug.CondensedDesktop:u=Js;break;case Xn.Ug.MobileStickyHeader:u=el;break;case Xn.Ug.Overflow:u=tl;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(u,C()(C()({},t),{},{buttonRef:o,buttonType:s,onClick:()=>{r(!0)}})),l.createElement(Ds,{contentRef:a,onHide:i,passProducts:t.upsellPasses,show:n}))},Zs=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;const o=(0,S.Fj)(),a=(0,S.EW)(),{[T.Uh.ProductId]:i,[T.Uh.UpsellProductIdsList]:s,[T.Uh.UpsellProductIdsComingSoonList]:l}=t,c=s.split(";").filter((e=>0!==e.length)).map(((e,t)=>({passProductId:e,isComingSoon:!1}))),u=l.split(";").filter((e=>0!==e.length)).map(((e,t)=>({passProductId:e,isComingSoon:!0}))),d=u.length>0,h=[...new Set([...u,...c])],[m,p,_,y,b,E,w,I]=(0,f.QF)("multiUpsellGet","multiUpsellIncludedIn","multiUpsellGetButtonAccessibilityLabelFormat","upsellGetFormat","upsellIncludedWithFormat","upsellComingSoonToFormat","inclusionUpsellButtonAccessibilityLabelFormat","inclusionUpsellComingSoonButtonAccessibilityLabelFormat"),k=(0,v.useSelector)((e=>(0,Rt.RY)(e,i)));if(!k||!k.product)return o.warn(`Multi upsell button requested without valid values:\nbaseProductId: ${i}\nhasProductSummaryInfo: ${!!k}\nhasProduct: ${!!(null===k||void 0===k?void 0:k.product)}`),null;let A,P,R,N,O;h.every((e=>G.gS.includes(e.passProductId)))?(A=(0,g.WUZ)(y,G.IC),P=(0,g.WUZ)(d?E:b,""),R=(0,g.WUZ)(d?I:w,G.IC,k.product.title),N=x.E0.XboxGamepassInline,O=Ns.Z):(A=m,P=p,R=(0,g.WUZ)(_,k.product.title),N=void 0,O=void 0);const L=(0,S._d)({behavior:S.cg.SHOW,contentName:A,id:"MultiUpsellButton",slotNumber:n},a),M=Kr(!0,r,r===Xn.Ug.MobileStickyHeader?Er:void 0);return C()(C()({},M),{},{accessibilityLabel:R,subtitle:P,telemetryProps:L,title:A,upsellPasses:h,upsellProductGlyph:N,upsellProductIcon:O})},Qs=e=>{let{title:t,subtitle:n,accessibilityLabel:r,upsellProductGlyph:o,telemetryProps:a,buttonType:i=u.L$.Primary,buttonRef:s,onClick:c,overrideClassName:d,overrideContainerClassName:h}=e;return l.createElement(Ar,{buttonRef:s,accessibilityLabel:r,buttonType:i,onClick:c,productGlyph:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:a,overrideClassName:d,overrideContainerClassName:h})},Js=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,className:s()(mr,P.uo),ref:a,buttonType:o,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},el=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i,overrideClassName:s}=e;return l.createElement(c.k,C()({as:"button",ref:a,"aria-label":n,buttonType:o,className:s,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},tl=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o,upsellProductIcon:a}=e;return l.createElement(Xr,{"aria-label":n,onClick:o,icon:a||Os.Z,telemetryProps:r},t)},nl=["actionArguments"];function rl(e){return!!e&&e.split(";").every((e=>G.gS.includes(e)))}const ol=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1024 564q-35-35-69-71t-69-71-72-64-79-53-89-36-102-13q-87 0-162 32t-132 89-89 132-33 163q0 84 31 159t91 135l774 774v181l-865-864Q82 981 41 881T0 672q0-75 19-144t55-130 85-110 110-85 130-55 145-20q84 0 149 19t119 52 105 81 107 103q56-56 106-103t105-80 120-53 149-19q112 0 211 43t173 116 117 173 43 212q0 109-41 208t-118 177l-97 97V972q62-61 94-136t33-164q0-88-32-163t-88-130-132-87-163-32q-85 0-150 27t-121 71-105 98-104 108zm640 588v384h384v128h-384v384h-128v-384h-384v-128h384v-384h128z"}))};var al=n(665447);const il={[Xn.Zr.Acquisition]:e=>{var t;const{[T.Uh.ProductId]:n,[T.Uh.SkuId]:r,[T.Uh.AvailabilityId]:o,[T.Uh.IsUpgrade]:a,[T.Uh.IsDisabled]:i,[T.Uh.DisabledReason]:s}=e.actionArguments,c=(0,S.Fj)(),u=(0,v.useSelector)((e=>(0,Rt.RY)(e,n,r,o))),d=(0,v.useSelector)(E.yB),h=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)));let m=null;if(Ro(n,r,o,u,"Acquisition",c)){const c=u.availability.price,p=u.sku.recurrencePolicySummary,g=u.product.title,f={availabilityId:o,buttonType:e.buttonType,endDateUtcString:u.availability.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:u.product.hasAddOns,isDisabled:(0,Z.mU)(i)&&d,disabledReason:s,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0,price:c,productId:n,productSummaryInfo:u,recurrencePolicySummary:p,skuId:r,slotNumber:e.slotNumber,title:g},v=h&&(null===(t=null===c||void 0===c?void 0:c.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;m=u.sku.isPreorder?l.createElement(wo,C()({},f)):0===c.listPrice?l.createElement(So,C()({},f)):(0,Z.mU)(a)||v?l.createElement(Eo,C()({},f)):(0,G.hz)(p)&&(null===p||void 0===p?void 0:p.isRecurring)?l.createElement(To,C()({},f)):l.createElement(Co,C()({},f))}return m},[Xn.Zr.AccountLink]:e=>{const t=jr(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case Xn.Ug.Desktop:o=Yr;break;case Xn.Ug.CondensedDesktop:o=Zr;break;case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:case Xn.Ug.MobileStickyHeader:o=Qr;break;case Xn.Ug.Overflow:o=Jr;break;default:return null}return l.createElement(o,C()(C()({},t),{},{buttonType:n}))},[Xn.Zr.BuyToOwn]:e=>{const[t,n,r,o]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId],e.slotNumber],a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,Rt.RY)(e,t,n,r))),[s,c]=(0,f.QF)("buyActionText","buyActionAccessibilityText");let u=null;if(Ro(t,n,r,i,"BuyToOwn",a)){const{product:a,sku:d,availability:h}=C()({},i),m={productId:t,skuId:n,availabilityId:r,buttonType:e.buttonType,endDateUtcString:h.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:i.product.hasAddOns,price:h.price,recurrencePolicySummary:d.recurrencePolicySummary,slotNumber:o,title:a.title,productSummaryInfo:i,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0};u=i.sku.isPreorder?l.createElement(wo,C()({},m)):l.createElement(Io,C()({actionAccessibilityLabelFormat:c,actionText:s,buttonId:"BuyToOwnButton"},m))}return u},[Xn.Zr.Cart]:e=>{const[t,n,r]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],o=(0,v.useDispatch)(),a=(0,v.useSelector)((e=>(0,Rt.GK)(e,t,n,r))),[i,s,c,u,d,h]=(0,f.QF)("actionErrorMessage","addToCartButtonAccessibilityLabelFormat","addToCartProcessingButtonAccessibilityLabelFormat","addToCartActionText","openCartButtonAccessibilityLabel","reloadPageRequestMessage"),m=(0,S.EW)(),[p,_]=(0,l.useState)(),[y,b]=(0,l.useState)(h),[E,w]=(0,l.useState)(!1),[I,k]=(0,l.useState)(!1),A=(0,v.useSelector)((e=>(0,Rt.RY)(e,t,n,r)));if(!A||!A.product||!t||!n||!r)return null;const P=(0,g.WUZ)(s,A.product.title),R=(0,g.WUZ)(c,A.product.title),N={productId:t,skuId:n,availabilityId:r,quantity:1},O=e=>{var t;k(!1),w(!0),e.reasons.length>0&&(_(null===(t=e.reasons[0].code)||void 0===t?void 0:t.toString()),b(e.displayMessage&&!e.displayMessage.isDefault?e.displayMessage.shortDescription:h))},L=()=>{k(!1)};let M={behavior:S.cg.ADDTOCART,contentName:P};a&&(M={behavior:S.cg.VIEWCART,contentName:d});const U=(0,S._d)(C()({id:"CartButton",slotNumber:e.slotNumber},M),m);return l.createElement(l.Fragment,null,l.createElement(Uo,{actionAccessibilityLabel:P,actionIcon:Oo.Z,actionLabel:u,buttonId:"CartButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:d,navigationHref:"/cart",navigationIcon:Lo,navigationLabel:d,onClick:()=>{k(!0),o(Rt.SA.addToCart.start({items:[N]},L,O))},processingAccessibilityLabel:R,showSpinner:I,slotNumber:e.slotNumber,state:a,telemetryProps:U}),E&&l.createElement(x.u_,{className:_r,closeable:!0,onHide:()=>w(!1),show:E,ariaLabel:i},l.createElement(ze,{errorCode:p,errorMessage:i,userRequestMessage:y})))},[Xn.Zr.CloudPlay]:e=>{const{[T.Uh.ProductId]:t,[T.Uh.UpsellProductId]:n,[T.Uh.CloudServiceUpsells]:r}=e.actionArguments,o=(0,l.useContext)(fo),a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,Rt.RY)(e,t))),s=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMultiCloudPlayButton))),c=r?JSON.parse(r):void 0,u=1===(null===c||void 0===c?void 0:c.length)&&(0,g.Ypc)(c[0].ServiceId,G.Kf.geforcenow);if(!t||!i.product||!n&&!c||u&&!s)return a.warn(`Cloud play button requested without valid values:\nbaseProductId: ${t}\nhasProductSummaryInfo: ${!!i}\nhasProduct: ${!!(null===i||void 0===i?void 0:i.product)}\ncloudServiceUpsellObjects: ${c}\nupsellsOnlyHasNvidia: ${u}`),null;let d;return d=s&&c&&c.length>1&&o!==Xn.vm.ContextualStore?na:Xo,l.createElement(d,C()(C()({},e),{},{baseProductId:t,cloudServiceUpsells:c,productSummaryInfo:i,upsellProductId:n}))},[Xn.Zr.EditionSelector]:e=>{const t=e.actionArguments[T.Uh.ProductId],n=(e.actionArguments[T.Uh.EditionIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:e,skuId:"",availabilityId:""}))),[r]=(0,f.QF)("editionSelectorButtonText"),o=(0,S.EW)(),a=(0,v.useSelector)((e=>(0,Rt.zF)(e,t)));if(!a||e.experienceButtonType!==Xn.Ug.Desktop)return null;const i=(0,S._d)({behavior:S.cg.SHOW,contentName:r,id:"EditionSelectorButton",slotNumber:e.slotNumber},o);return l.createElement(ca,{buttonAccessibilityLabel:r,buttonId:e.buttonId,buttonType:e.buttonType,productIdentifiers:n,subTitle:a.product.title,telemetryProps:i,title:r.toLocaleUpperCase()})},[Xn.Zr.Extend]:e=>{var t;const[n,r,o]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,Rt.RY)(e,n,r,o))),[s,c]=(0,f.QF)("extendActionText","extendActionAccessibilityLabelFormat");let u=null;if(Ro(n,r,o,i,"Extend",a)){const a=i.availability,d=e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0;u=l.createElement(Io,{actionText:s,actionAccessibilityLabelFormat:c,availabilityId:o,behavior:S.cg.RENEWSUBSCRIPTION,buttonType:e.buttonType,buttonId:"ExtendButton",endDateUtcString:a.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:i.product.hasAddOns,iconOverride:eo,price:a.price,productId:n,productSummaryInfo:i,recurrencePolicySummary:null===(t=i.sku)||void 0===t?void 0:t.recurrencePolicySummary,slotNumber:e.slotNumber,skuId:r,title:i.product.title,actionOverride:d})}return u},[Xn.Zr.Gift]:e=>{const[t,n]=(0,l.useState)(!1),[r,o,a]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],i=(0,f.iV)("giftActionAccessibilityLabelFormat"),s=(0,v.useSelector)((e=>(0,Rt.RY)(e,r))),c=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),u=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnablePurchaseLaunchOnLogin))),d=(0,S.EW)(),h=(0,v.useSelector)(E.yB),m=(0,g.$wQ)(),p=(0,g.IzA)();if(!s||!s.product||!r)return null;const _=(0,g.WUZ)(i,s.product.title),y=u?io(window.location.href,r,{skuId:o,availabilityId:a,experience:Pn.Gift}):(0,no.j)(),b=(0,S._d)({behavior:S.cg.INTENTTOBUY,id:"GiftButton",contentName:_,slotNumber:e.slotNumber},d),w={accessibilityLabel:_,availabilityId:a,buttonId:"GiftButton",buttonType:e.buttonType,productId:r,slotNumber:e.slotNumber,showModal:t,skuId:o,enableReactGiftFlow:c,telemetryProps:b,hideModal:()=>n(!1),onClick:()=>{if(e.actionOverride)e.actionOverride();else if(h)n(!0);else{const e=(0,g.kgH)(r)===G.Cv?p(y):m(y);window.location.assign(e)}}};switch(e.experienceButtonType){case Xn.Ug.Desktop:return l.createElement(da,C()({},w));case Xn.Ug.CondensedDesktop:return l.createElement(ha,C()({},w));case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:return l.createElement(ma,C()(C()({},w),{},{className:Wr(!1,e.experienceButtonType)}));case Xn.Ug.MobileStickyHeader:return l.createElement(ma,C()(C()({},w),{},{className:Er}));case Xn.Ug.Overflow:return l.createElement(pa,C()({},w));default:return null}},[Xn.Zr.Install]:e=>{let{actionArguments:t,slotNumber:n,buttonType:r,experienceButtonType:o}=e;const[a,i]=[t[T.Uh.ProductId],t[T.Uh.UpsellProductId]],s=(0,Z.mU)(t[T.Uh.IsTrial]),[c,u]=(0,l.useState)(!1),d=()=>u(!0),h=()=>u(!1),m=(0,v.useSelector)((e=>(0,Rt.RY)(e,a))),p=(0,v.useSelector)((e=>(0,ai.ik)(e,a))),g=(0,f.iV)("installButtonText"),_=(0,S.EW)(),y=(0,l.useRef)(null),b=(0,l.useRef)(null),E=(0,Z.mG)(c,h,y,b);if(!a||!m)return null;const w=(0,S._d)({behavior:S.cg.SHOW,contentName:g,id:"InstallButton",slotNumber:n},_),I={buttonId:"InstallButton",buttonTitle:g,slotNumber:n,telemetryProps:w,openModal:d},k=(e,t)=>{switch(null===p||void 0===p?void 0:p.operationStatus){case Xn.oo.Pending:return l.createElement(di,{baseProductId:a,overrideClassName:e});case Xn.oo.ConsoleError:case Xn.oo.Error:case Xn.oo.TimedOut:return l.createElement(ui,{installOperation:p,openModal:d,telemetryProps:w,overrideClassName:e,overrideContainerClassName:t});case Xn.oo.Succeeded:return l.createElement(hi,{baseProductId:a,overrideClassName:e});default:return l.createElement(li,C()(C()({},I),{},{overrideClassName:e,overrideContainerClassName:t,baseProductId:a,buttonRef:y,buttonType:r,upsellProductId:i,isTrial:s}))}},A=()=>l.createElement(ei,{"aria-labelledby":"title",closeable:!0,contentRef:b,onCancelClicked:E,onHide:E,onInstallClicked:E,productId:a,show:c});switch(o){case Xn.Ug.Desktop:return l.createElement("div",null,k(),A());case Xn.Ug.CondensedMobile:{const e=C()(C()({},I),Kr(!1,o));return l.createElement(l.Fragment,null,l.createElement(ci,C()(C()({},e),{},{buttonRef:y,buttonType:r})),A())}case Xn.Ug.Mobile:{const e=Kr(!0,o);return l.createElement(l.Fragment,null,k(e.overrideClassName,e.overrideContainerClassName),A())}case Xn.Ug.MobileStickyHeader:return l.createElement(l.Fragment,null,l.createElement(ci,C()(C()({},I),{},{buttonRef:y,buttonType:r,overrideClassName:Er})),A());case Xn.Ug.Overflow:return l.createElement(mi,C()(C()({},I),{},{baseProductId:a,hideModal:h,openModal:d,showModal:c}));default:return null}},[Xn.Zr.Manage]:e=>{var t,n;const[r,o]=(0,l.useState)(!1),a=(0,f.iV)("manageActionText"),i=e.actionArguments&&(0,Z.mU)(e.actionArguments.IsExternallyManagedPass),s=e.actionArguments&&(0,G.jb)(null!==(t=e.actionArguments.ProductId)&&void 0!==t?t:"",!1),c=(0,S.EW)(),d=(0,l.useRef)(null),h=(0,l.useRef)(null),m=(0,Z.mG)(r,(()=>o(!1)),d,h),p=(0,S._d)({behavior:i?S.cg.SHOW:S.cg.NAVIGATIONFORWARD,contentName:a,id:"ManageButton",slotNumber:e.slotNumber},c),g={behavior:S.cg.OTHER,buttonId:"ManageButton",buttonLabel:a,buttonType:e.buttonType,slotNumber:e.slotNumber,isExternallyManaged:i,onClick:()=>{o(!0)},experienceButtonType:e.experienceButtonType,telemetryProps:p},v={buttonType:null!==(n=e.buttonType)&&void 0!==n?n:u.L$.Primary,showModal:r,contentRef:h,subscriptionName:s,onComplete:m};return l.createElement(l.Fragment,null,l.createElement(bi,C()({},g)),l.createElement(fi,C()({},v)))},[Xn.Zr.NotSoldSeparately]:e=>{const t=(0,Z.mU)(e.actionArguments[T.Uh.IsBundleProduct]),{bundleNotAvailableActionText:n,notSoldSeparatelyActionText:r}=(0,f.y_)("bundleNotAvailableActionText","notSoldSeparatelyActionText"),o=t?n:r;switch(e.experienceButtonType){case Xn.Ug.Desktop:return l.createElement(Ti,{actionText:o});case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:return l.createElement(wi,{actionText:o});case Xn.Ug.MobileStickyHeader:return l.createElement(wi,{actionText:o,className:"CommonButtonStyles-module__disabledMobileStickyBannerButton___YjEEx"});case Xn.Ug.Overflow:return l.createElement(Ii,{actionText:o});default:return null}},[Xn.Zr.OpenInStore]:e=>{const t=(0,f.iV)("openInStoreButtonLabel"),{[T.Uh.ProductId]:n,[T.Uh.SkuId]:r,[T.Uh.AvailabilityId]:o}=e.actionArguments,a=(0,T.PH)(n,void 0,r,o),i=(0,S.EW)(),s=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:t,id:"OpenInStoreButton",slotNumber:e.slotNumber},i),c={actionOverride:e.actionOverride,buttonId:"OpenInStoreButton",buttonLabel:t,buttonType:e.buttonType,slotNumber:e.slotNumber,storeLink:a,telemetryProps:s};switch(e.experienceButtonType){case Xn.Ug.CondensedDesktop:return l.createElement(Ai,C()({},c));case Xn.Ug.Mobile:case Xn.Ug.CondensedMobile:return l.createElement(Pi,C()(C()({},c),{},{className:Wr(!1,e.experienceButtonType)}));case Xn.Ug.MobileStickyHeader:return l.createElement(Pi,C()(C()({},c),{},{className:Er}));case Xn.Ug.Overflow:return l.createElement(xi,C()({},c));default:return null}},[Xn.Zr.RedeemACode]:e=>(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRedeemCodeModal)))?l.createElement(Qi,C()({},e)):l.createElement(as,C()({},e)),[Xn.Zr.SkuSelector]:e=>{const{actionArguments:t,actionOverride:n,buttonType:r,experienceButtonType:o,slotNumber:a}=e,i=t[T.Uh.ProductId]||"",s=(t[T.Uh.SkuIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:i,skuId:e,availabilityId:""}))),[c,u,d]=(0,f.QF)("skuSelectorSubscriptionText","skuSelectorProductText","listItemAccessibilityLabelFormat"),h=(0,g._yM)(g.Hw9.SkuId,""),m=(0,S.EW)(),p=(0,v.useSelector)((e=>(0,Rt.zF)(e,i,h)));if(!(null===p||void 0===p?void 0:p.product)||!(null===p||void 0===p?void 0:p.sku))return null;const _=(0,g.Ypc)(p.product.productFamily,G.fO.Passes)?c:u,y={actionOverride:n,buttonType:r,listItemAccessibilityFormat:d,productIdentifiers:s,telemetryProps:(0,S._d)({behavior:S.cg.SHOW,contentName:_,id:"SkuSelectorButton",slotNumber:a},m),title:_};switch(o){case Xn.Ug.CondensedDesktop:return l.createElement(hs,C()({},y));case Xn.Ug.Desktop:return l.createElement(ca,C()(C()({},y),{},{buttonAccessibilityLabel:_,subTitle:p.sku.skuTitle||p.product.title,preferSkuValues:!0,title:y.title.toLocaleUpperCase()}));case Xn.Ug.CondensedMobile:case Xn.Ug.Mobile:return l.createElement(ms,C()(C()({},y),{},{subTitle:o===Xn.Ug.CondensedMobile?void 0:p.sku.skuTitle||p.product.title,className:Wr(!0,Xn.Ug.Mobile,o===Xn.Ug.Mobile?"SkuSelectorButton-module__multipleLineMobileButton___PLOYk":void 0)}));case Xn.Ug.MobileStickyHeader:return l.createElement(ms,C()(C()({},y),{},{className:Er}));case Xn.Ug.Overflow:return l.createElement(ps,C()({},y));default:return null}},[Xn.Zr.Trial]:e=>{let{actionArguments:t}=e,n=V()(e,Rs);const{[T.Uh.UpsellProductId]:r}=t;return r?l.createElement(ws,C()(C()({},n),{},{actionArguments:t,upsellProductId:r})):l.createElement(ys,C()(C()({},n),{},{actionArguments:t}))},[Xn.Zr.Upsell]:e=>{let{actionArguments:t}=e,n=V()(e,nl);const{[T.Uh.UpsellProductIdsList]:r,[T.Uh.UpsellProductIdsComingSoonList]:o}=t,a=(0,l.useContext)(fo),i=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMultiUpsellButton))),s=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableComingSoonUpsell))),c=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableDefaultUltimateUpsell))),u=C()(C()({},t),{},{[T.Uh.UpsellProductIdsList]:null!==r&&void 0!==r?r:"",[T.Uh.UpsellProductIdsComingSoonList]:s&&null!==o&&void 0!==o?o:"",[T.Uh.GlyphProductId]:c&&rl(r)?G.Wy:""});let d;return d=!i||!(r||s&&o)||c&&rl(r)||a===Xn.vm.ContextualStore?zs:Ys,l.createElement(d,C()(C()({},n),{},{actionArguments:u}))},[Xn.Zr.Wishlist]:e=>{var t;const[n,r]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId]],o=(0,v.useDispatch)(),a=(0,v.useSelector)(E.yB),i=(0,S.EW)(),s=(0,g.$wQ)(),c=(0,g.IzA)(),u=(0,v.useSelector)((e=>(0,Rt.Z5)(e,T.Z0)));let d=(0,Z.mU)(e.actionArguments[T.Uh.IsOnWishlist]);u&&(d=!!(null===(t=u.products)||void 0===t?void 0:t.find((e=>e&&(0,g.kgH)(e.productId)===(0,g.kgH)(n)&&(0,g.kgH)(e.skuId)===(0,g.kgH)(r)))));const[h,m]=(0,l.useState)(),[p,_]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),[C,w]=(0,l.useState)(d),[I,k,A,P,R,N]=(0,f.QF)("actionErrorMessage","addToWishListAccessibilityTemplate","addToWishListText","addToWishlistProcessingButtonAccessibilityLabelFormat","openWishlistButtonAccessibilityLabel","reloadPageRequestMessage"),O=(0,v.useSelector)((e=>(0,Rt.RY)(e,n,r)));if(!O||!O.product||!n||!r)return null;const L=(0,S._d)({behavior:C?S.cg.NAVIGATIONFORWARD:S.cg.ADDWISHLIST,contentName:C?R:A,id:"WishlistButton",slotNumber:e.slotNumber},i),M=(0,g.WUZ)(k,O.product.title),U=(0,g.WUZ)(P,O.product.title),D=e=>{b(!1),_(!0),e&&m(e.name)},B=()=>{w(!0),b(!1)};return l.createElement(l.Fragment,null,l.createElement(Uo,{actionAccessibilityLabel:M,actionIcon:ol,actionLabel:A,behavior:C?S.cg.OTHER:S.cg.ADDWISHLIST,buttonId:"WishlistButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:R,navigationHref:"/wishlist",navigationIcon:al.Z,navigationLabel:R,onClick:()=>{if(a)b(!0),o(Rt.l.addWishListItem.start(B,D,T.Z0,n,r));else{const e=(0,g.kgH)(n)===G.Cv?c(window.location.href):s(window.location.href);window.location.assign(e)}},processingAccessibilityLabel:U,slotNumber:e.slotNumber,showSpinner:y,state:C,telemetryProps:L}),p&&l.createElement(x.u_,{className:_r,closeable:!0,show:p,onHide:()=>_(!1),ariaLabel:I},l.createElement(ze,{errorCode:h,errorMessage:I,userRequestMessage:N})))}},sl=(e,t,n,r,o)=>{let{actionType:a,actionArguments:i={}}=t;const s=il[a];s&&e.push(l.createElement(s,{key:`${a}-index-${n}`,actionArguments:i,actionOverride:o,experienceButtonType:r,buttonType:0===n?u.L$.Brand:u.L$.Primary,slotNumber:n}))},ll=(e,t,n,r,o)=>{const a=[],i=[],s=[];return e.forEach(((l,c)=>{const u=o&&o[l.actionType],d=u?()=>u(null===l||void 0===l?void 0:l.actionArguments):void 0;a.length+i.length<n||c===e.length-1&&0===s.length&&r?Xn.E2[l.actionType]<=Xn.E2.PrimaryActionPriorityCutoff?sl(a,l,c,t,d):sl(i,l,c,t,d):sl(s,l,s.length,Xn.Ug.Overflow,d)})),{primaryButtons:a,secondaryButtons:i,overflowChildren:s}},cl=(e,t)=>(Xn.E2[e.actionType]||Number.MAX_SAFE_INTEGER)-(Xn.E2[t.actionType]||Number.MAX_SAFE_INTEGER);const ul=e=>{const t=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel"),[n,r]=(0,l.useState)(Xn.Ug.CondensedDesktop),o=x.M9[x.JD.XS];(0,l.useEffect)((()=>{const e=window.matchMedia("(orientation: landscape)");e.matches&&window.innerHeight<=o&&r(Xn.Ug.CondensedMobile),!e.matches&&window.innerWidth<=o&&r(Xn.Ug.CondensedMobile)}),[o]);const{primaryButtons:a,secondaryButtons:i,overflowChildren:s}=ll(e.actionsList,n,2,!1,e.productActionTypeToActionOverride),c=a.concat(i);return s.length>1&&c.push(l.createElement(Fr,{accessibilityLabel:t,containingElementRef:e.containingElementRef,experienceButtonType:n,slotNumber:c.length,key:"Action-Panel-Overflow-Button"},s)),l.createElement(l.Fragment,null,l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__condensedDesktopProductActionsPanel___u-aMC"},c),l.createElement(dl,{buttons:c}),l.createElement(hl,{buttons:c}))},dl=e=>{let{buttons:t}=e;return l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobilePortraitProductActionsPanel___AsFJC"},l.createElement("div",null,t[1],t[2]),t[0])},hl=e=>{let{buttons:t}=e;return l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobileLandscapeProductActionsPanel___-QiXD"},l.createElement("div",null,t[0],t[1],t[2]))};var ml="ProductActionsPanel-module__desktopProductActionsPanel___J1Jn3",pl="ProductActionsPanel-module__orSeparator___isj1r";const gl=e=>{(0,Z.FF)();const t=(0,x.EX)(),n=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel");let r=4,o=Xn.Ug.Desktop;switch(t){case x.JD.XXS:case x.JD.XS:case x.JD.SM:r=2,o=Xn.Ug.Mobile;break;case x.JD.MD:r=2;break;case x.JD.LG:r=3}const{primaryButtons:a,secondaryButtons:i,overflowChildren:s}=ll(e.actionsList,o,r,o!==Xn.Ug.Mobile,e.productActionTypeToActionOverride),c=a.concat(i);let u;return t<=x.JD.SM?u=l.createElement("div",{className:"PDPActionPanelLayout-module__mobileProductActionsPanel___F8s4J"},c[0],c.length>1&&l.createElement("div",null,c[1],s.length>0&&l.createElement(Fr,{accessibilityLabel:n,experienceButtonType:o,slotNumber:2},s))):(a.length>1&&!vl(e.actionsList)&&c.splice(1,0,l.createElement(fl,{key:"OR"})),s.length>1&&c.push(l.createElement(Fr,{accessibilityLabel:n,containingElementRef:e.containingElementRef,experienceButtonType:o,slotNumber:c.length,key:"Action-Panel-Overflow-Button"},s)),u=l.createElement(W.FocusContainer,{className:ml},c)),u},fl=()=>{const e=(0,f.iV)("orSeparatorText");return l.createElement("span",{className:pl},e)},vl=e=>{const t=e.some((e=>e.actionType===Xn.Zr.AccountLink)),n=e.some((e=>{const t=e.actionArguments?e.actionArguments[T.Uh.IsDisabled]:"";return e.actionType===Xn.Zr.Acquisition&&(0,Z.mU)(t)}));return t&&n};const _l=e=>{(0,Z.FF)();const t=(0,x.EX)(),n=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel");let r=4;switch(t){case x.JD.XXS:case x.JD.XS:case x.JD.SM:case x.JD.MD:r=2;break;case x.JD.LG:r=3}const o=t<=x.JD.SM,a=o?Xn.Ug.MobileStickyHeader:Xn.Ug.Desktop,{primaryButtons:i,secondaryButtons:c,overflowChildren:u}=ll(e.actionsList,a,r,!1),d=i.concat(c);return i.length>1&&t>x.JD.SM&&d.splice(1,0,l.createElement(yl,{key:"OR"})),u.length>0&&d.push(l.createElement(l.Fragment,null,o&&l.createElement("div",{className:"PDPPageBarActionPanelLayout-module__overflowSeparator___g01Hh"}),l.createElement(Fr,{accessibilityLabel:n,experienceButtonType:a,slotNumber:d.length,key:"Page-Bar-Action-Panel-Overflow-Button",overrideClassName:s()([Q,Nr])},u))),l.createElement(W.FocusContainer,{className:s()(o?"PDPPageBarActionPanelLayout-module__mobileProductActionsPanel___PmqB6":ml,o?"PDPPageBarActionPanelLayout-module__stickyHeaderMobileText___eavIU":P.uo)},d)},yl=()=>{const e=(0,f.iV)("orSeparatorText");return l.createElement("span",{className:pl},e)};const bl=e=>{var t;const[n,r,o,a,i,s,c]=(0,f.QF)("errorButtonText","errorButtonAccessibilityLabel","pleaseTryAgainMessage","actionFetchErrorMessage","reloadPageRequestMessage","reloadPageButtonText","cancelButtonText"),d=(0,S.EW)(),h=(0,S._d)({behavior:S.cg.SHOW,contentName:n,id:"ErrorButton",slotNumber:0},d),m=null===(t=e.error)||void 0===t?void 0:t.httpStatusCode,p=()=>{"undefined"!==typeof location&&location.reload()};return l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:r,buttonType:u.L$.Primary,className:vr,telemetryProps:h},l.createElement("div",{className:P.uo},n),l.createElement("div",{className:P.S7},o)),l.createElement(ae.Flyout,null,l.createElement(ne,null,(e=>l.createElement(ze,{className:"ErrorButton-module__flyoutContentContainer___-uOkR",errorCode:null===m||void 0===m?void 0:m.toString(),errorMessage:a,primaryButtonAction:p,primaryButtonText:s,secondaryButtonAction:e.closeFlyout,secondaryButtonText:c,userRequestMessage:i})))))};n(901951);var Cl="LoadingButtonPanel-module__shimmerAddons___LfBS4",El="LoadingButtonPanel-module__shimmerBackground1___9hgH0",Sl="LoadingButtonPanel-module__smallLoadingButton___zFPmW";const Tl=()=>{let e="LoadingButtonPanel-module__desktopLoadingButtonPanel___A6zGo";const t=[];switch((0,x.EX)()){default:case x.JD.XL:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_5",className:s()(Sl,ot.f8,Cl,"LoadingButtonPanel-module__shimmerBackground5___ivz+n")}));case x.JD.LG:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_4",className:s()(Sl,ot.f8,Cl,"LoadingButtonPanel-module__shimmerBackground4___di0xE")}));case x.JD.MD:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_3",className:s()(Sl,ot.f8,Cl,"LoadingButtonPanel-module__shimmerBackground3___zcVff")})),t.unshift(l.createElement("div",{key:"Desktop Loading_Button_2",className:s()("LoadingButtonPanel-module__largeLoadingButton___ebOUG",ot.f8,Cl,"LoadingButtonPanel-module__shimmerBackground2___L-v+N")})),t.unshift(l.createElement("div",{key:"Desktop Loading_Button_1",className:s()("LoadingButtonPanel-module__mediumLoadingButton___40Gcb",ot.f8,Cl,El)}));break;case x.JD.SM:case x.JD.XS:case x.JD.XXS:e="LoadingButtonPanel-module__mobileLoadingButtonPanel___EIz1q",t.push(l.createElement("div",{key:"Mobile Loading_Button_1",className:s()(ot.f8,Cl,El)})),t.push(l.createElement("div",{key:"Mobile Loading_Button_2",className:s()(ot.f8,Cl,"LoadingButtonPanel-module__mobileShimmerBackground___behtU")}))}return l.createElement("div",{className:e},t)},wl=l.memo((e=>{const t=e.productId,n=(0,v.useSelector)((e=>(0,Rt.FJ)(e,t))),r=()=>l.createElement(kl,null);return l.createElement(fo.Provider,{value:e.actionPanelContext},l.createElement(pt,{key:`PAP_${t}_${e.selectedSkuId}}`,lceState:n,content:t=>l.createElement(Il,C()({productActions:t.data.productActions,skuActions:t.data.skuActionsBySkuId},e)),error:e=>l.createElement(bl,{error:e.error}),defaultRender:r,isFetching:()=>l.createElement(Tl,null),isNotRequested:r}))}),((e,t)=>(0,g.kgH)(e.productId)===(0,g.kgH)(t.productId)&&(0,g.kgH)(e.selectedSkuId||"")===(0,g.kgH)(t.selectedSkuId||""))),Il=e=>{const t=(0,x.EX)(),{containingElementRef:n,hideOpenInStore:r,hideWishList:o,selectedSkuId:a,contentTelemetry:i,productActions:s,skuActions:c,productId:u,productActionTypeToActionOverride:d}=e,h=[s];a&&h.push(c[(0,g.kgH)(a)]);const m=((e,t,n,r)=>{const o={};return e.filter((e=>!!e)).forEach((e=>{e.filter((e=>!!e)).forEach((e=>{e.actionType===Xn.Zr.EditionSelector&&t<=x.JD.SM||e.actionType===Xn.Zr.OpenInStore&&n||e.actionType===Xn.Zr.Wishlist&&r||(o[e.actionType]=e)}))})),Object.values(o)})(h,t,r,o);m.sort(cl);const p={actionsList:m,containingElementRef:n,productActionTypeToActionOverride:d};let f,v;switch((0,l.useContext)(fo)){case Xn.vm.ContextualStore:f=ul,v="ContextualStore-ProductActionsPanel";break;case Xn.vm.PDPPageBar:f=_l,v="PDPPageBar-ProductActionsPanel";break;case Xn.vm.PDP:default:f=gl,v="ProductActionsPanel"}const _=(0,S._d)({areaName:v,contentType:S.zc.Button,productId:u,skuId:a},i);return l.createElement(S.OR.Provider,{value:_},l.createElement(f,C()({},p)))},kl=()=>{let e;switch((0,x.EX)()){case x.JD.XXS:case x.JD.XS:case x.JD.SM:e="ProductActionsPanel-module__mobileProductActionsPanelPlaceholder___VTlrI";break;case x.JD.MD:case x.JD.LG:default:e=ml}return l.createElement("div",{className:e})};var Al="TargetedOfferHeadline-module__offerBadgeText___k15V1";const Pl=e=>{var t,n,r;const{productId:o,skuId:a,isXPriceStorewideOffer:i}=e,c=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableDealXPriceText))),[u,d,h,m]=(0,f.QF)("productCardJustForYouFooterMessage","targetedOfferPromoMessageFormat","productCardDealForYouFooterMessage","upgradeOfferBadge"),p=(0,v.useSelector)((e=>(0,Rt.zF)(e,o,a))),_=null===p||void 0===p?void 0:p.availability,y=null===(t=null===_||void 0===_?void 0:_.price)||void 0===t?void 0:t.eligibilityInfo,b=null===_||void 0===_?void 0:_.price,C=(null===(n=null===b||void 0===b?void 0:b.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer,E=C||(null===y||void 0===y?void 0:y.type)===G.sL.XPrice,S=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&C;if(!E||!b)return null;const T=(0,G.Z6)(b.msrp,b.listPrice),w=(0,g.WUZ)(d,T.toString(),null!==(r=null===y||void 0===y?void 0:y.affirmationMessage)&&void 0!==r?r:"");return l.createElement("div",{className:"TargetedOfferHeadline-module__offerBadge___hdx-5"},S?l.createElement("div",{className:s()(P.lO,Al,"TargetedOfferHeadline-module__upgradeOfferBadge___bx7gs")},m):!i&&l.createElement("div",{className:s()(P.lO,Al,"TargetedOfferHeadline-module__justForYouBadgeText___gBX2j")},c?h:u),l.createElement("div",{className:"TargetedOfferHeadline-module__promoMessage___xyITh"},w))};const xl=e=>{var t,n,r;const{productId:o,skuId:a,availabilityId:i,onGoBack:c,onPurchaseAction:u,onGiftAction:d,onRedeemAction:h,setIsLoading:m,onError:p,onOpenStoreUrl:_,onShowSkuPicker:b,hideShowInStore:C,hideWishList:E}=e,[S,w,I]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate","upgradeOfferRemarkText"),k=(0,l.useRef)(null),A=(0,v.useSelector)(g.NDL),R=(0,T.PH)(o,void 0,a,i),N=(0,v.useSelector)((e=>(0,Rt.mr)(e,o,a,i))),O=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableXboxSmallPurchaseDialog)));(0,W.useBackHandler)((0,l.useCallback)((()=>(c(),!0)),[c])),(0,l.useEffect)((()=>{N&&(m(!1),N.sku&&N.availability||p(new Error("Missing sku or availability information")))}),[p,N,m]);const L=null===N||void 0===N?void 0:N.product,M=null===N||void 0===N?void 0:N.sku,U=null===N||void 0===N?void 0:N.availability,D=null===(t=null===N||void 0===N?void 0:N.availability)||void 0===t?void 0:t.price,B=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===D||void 0===D?void 0:D.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!L||!M||!U)return null;const F=!!(null===(r=null===D||void 0===D?void 0:D.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),H=M.skuTitle&&M.skuTitle!==L.title?(0,g.WUZ)(S,L.title,M.skuTitle):L.title,q=L.publisherName?(0,g.WUZ)(w,L.publisherName):"",z=(0,G.SP)(L,M),X=(0,G.wF)(L,M),$=(0,G.nk)(L,M),V=(0,g.Ypc)(L.productFamily,G.fO.Passes)||(0,g.Ypc)(L.productFamily,G.fO.Subscription),K={[Xn.Zr.Acquisition]:u,[Xn.Zr.BuyToOwn]:u,[Xn.Zr.Extend]:u,[Xn.Zr.OpenInStore]:()=>_(R),[Xn.Zr.SkuSelector]:b,[Xn.Zr.Trial]:u};d&&(K[Xn.Zr.Gift]=d),h&&(K[Xn.Zr.RedeemACode]=h);const j=!!L.contentRating&&!!L.legalNotices;return l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__miniPdpContainer___2wqKo",ref:k},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroContainer___uIgks"},l.createElement(x.Ee,{className:"DesktopMiniProductDetailsPage-module__heroImage___ug064",src:null===X||void 0===X?void 0:X.url,width:608,height:714,alt:(null===X||void 0===X?void 0:X.caption)||H,hideShadow:!0,fluid:!0}),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroLinearGradient___DcNWn"})),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__informationContainer___Ur19o"},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityContainer___AOkmQ"},l.createElement(x.Ee,{height:144,width:96,src:null===z||void 0===z?void 0:z.url,alt:(null===z||void 0===z?void 0:z.caption)||H,className:"DesktopMiniProductDetailsPage-module__boxArtImage___MqLkW"}),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityInformationContainer___fJNGD"},l.createElement("h1",{className:s()(P.a2,"DesktopMiniProductDetailsPage-module__titleFontAdjustments___ExUih")},H),l.createElement("p",{className:s()(P.gC,"DesktopMiniProductDetailsPage-module__subtitleTextAdjustments___C68Mg")},q),l.createElement(G.HR,{hasAddOns:L.hasAddOns,productInfo:N,productPrice:D,recurrencePolicySummary:M.recurrencePolicySummary,isPass:V,className:P.hO,historicalLowestListPrice:M.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:B}),(B||!F)&&l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__badgeWrapper___S3faN"},l.createElement(Pl,{productId:o,isXPriceStorewideOffer:F})))),l.createElement(We,{className:s()("DesktopMiniProductDetailsPage-module__scrollableDescriptorsContainer___ANdBn",O&&"DesktopMiniProductDetailsPage-module__smallScrollableDescriptorsContainer___L9Qqd"),focusable:!0,gradientColorOverride:A.theme===g.Q2A.Dark?fn:vn},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__descriptorsContainer___jHE5l"},l.createElement(dr,{productId:o,itemClassName:"DesktopMiniProductDetailsPage-module__playableOnItemOverride___KZQ+6",titleClassName:s()(P.RO,"DesktopMiniProductDetailsPage-module__playableOnTitle___lbh2d"),className:"DesktopMiniProductDetailsPage-module__playableOnContainer___AFmRm"}),l.createElement("div",{className:s()(P.RO,"DesktopMiniProductDetailsPage-module__description___D71J3")},$))),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__actionPanelContainer___Bcbma"},l.createElement(wl,{actionPanelContext:Xn.vm.ContextualStore,containingElementRef:k,hideOpenInStore:C,hideWishList:E,productActionTypeToActionOverride:K,productId:o,selectedSkuId:a})),B&&l.createElement("p",{className:s()(P.$c,"DesktopMiniProductDetailsPage-module__upgradeOfferRemarkText___wT+Tc")},I),l.createElement("div",{className:s()("DesktopMiniProductDetailsPage-module__legalContainer___TJalL",j?"DesktopMiniProductDetailsPage-module__legalItemsWidthAdjustment___C1F2p":"")},l.createElement(y,{productId:o,className:"DesktopMiniProductDetailsPage-module__rating___KetXe"}),j&&l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__dividingLine___g+EAG"}),l.createElement("div",null,l.createElement(Yn,{productId:o,className:P.Km})))))};var Rl=(0,l.memo)((function(e){var t=e.icon,n=e.className,o=e.label,a=e.iconClassName,i=e.iconStyle,c=e.labelClassName,u=e.labelStyle,d=(0,r.__rest)(e,["icon","className","label","iconClassName","iconStyle","labelClassName","labelStyle"]);return l.createElement("div",(0,r.__assign)({className:s()("IconText-module__container___9pn0K",n)},d),l.createElement(t,{"aria-hidden":!0,className:s()("IconText-module__icon___2lSCQ",a),style:i}),l.createElement("div",{className:s()("IconText-module__label___SkTCC",c),style:u},o))})),Nl=n(279517),Ol="SkuPickerButton-module__ellipseOnOverflow___eiTTG",Ll="SkuPickerButton-module__noBottomMargin___nYQTb";const Ml=e=>{var t,n,r,o;const{className:a,productId:i,skuId:c,availabilityId:d,onClick:h}=e,m=(0,v.useSelector)(g.yWe),p=(0,v.useSelector)((e=>(0,_.mr)(e,i,c,d))),y=(0,f.iV)("plusSignDelimiterStringTemplate"),b=null===(t=null===p||void 0===p?void 0:p.sku)||void 0===t?void 0:t.skuTitle,C=null===(n=null===p||void 0===p?void 0:p.availability)||void 0===n?void 0:n.promotionalDuration,E=null===(r=null===p||void 0===p?void 0:p.availability)||void 0===r?void 0:r.price,S=(0,G.Xz)(C),T=E&&(0,g.xGv)(E.listPrice,E.currency,m),w=b&&S?(0,g.WUZ)(y,b,S):b;return l.createElement(K.Z,{as:"button",className:a,icon:nt.Z,buttonType:u.L$.Secondary,overlayMode:u.gT.Solid,onClick:h},l.createElement(x.X2,{className:(0,x.Nl)("width",100)},!!w&&l.createElement(x.sg,{xs:9},l.createElement("p",{className:s()(Ll,Ol)},w)),E&&l.createElement(x.sg,{xs:3,className:"SkuPickerButton-module__priceInfo___WpcBt"},l.createElement("p",{className:s()(Ll,Ol)},`${T}${(null===(o=null===p||void 0===p?void 0:p.product)||void 0===o?void 0:o.hasAddOns)?"+":""}`))))};var Ul="ContextualStoreProductDetailsPage-module__marginBottom1___vx0XP",Dl="ContextualStoreProductDetailsPage-module__marginTop1___fzkzL",Bl="ContextualStoreProductDetailsPage-module__multipleButtonRow___YefIf",Fl="ContextualStoreProductDetailsPage-module__paddingLeft0___gaLHu",Hl="ContextualStoreProductDetailsPage-module__paddingRight0___gAqxV",ql="ContextualStoreProductDetailsPage-module__seeInStoreButtonContent___JfSNJ",Gl="ContextualStoreProductDetailsPage-module__skuPicker___Y81pW",zl="ContextualStoreProductDetailsPage-module__skuPickerContainer___-xrrl",Xl="ContextualStoreProductDetailsPage-module__uiExpActionButton___5lfV2",$l="ContextualStoreProductDetailsPage-module__upShiftContainers___1bo+v",Vl="ContextualStoreProductDetailsPage-module__width100___Rn+5k";const Wl=e=>{var t,n,r,o,a,i;const{productId:c,skuId:u,availabilityId:d,hideShowInStore:h,trackingParams:m,xStoreScenario:p,itemType:_,clientType:b,onPurchaseAction:C,onError:E,setIsLoading:S,onShowSkuPicker:w,onGoBack:I,onOpenStoreUrl:k}=e,[A,R,N,O,L,M,U,D,B,F,H]=(0,f.QF)("buyActionText","buyActionAccessibilityTextWithPrice","nextActionText","getActionText","getActionAccessibilityTextWithPrice","selectOfferText","seeInStoreButtonText","buyInStoreButtonText","subscriptionRecurrenceLegalNotice","dlcRequiresGameLegalNotice","closeButtonText"),q=(0,v.useSelector)((e=>(0,Rt.mr)(e,c,u,d))),z=(0,v.useSelector)(g.Xnf).userAgent,[X,$]=(0,l.useState)(!1),V=(0,v.useSelector)((e=>(0,Rt.NP)(e,c))),K=Bn(g.vCX.EnableBuyNowXboxUiExp),j=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableTVPurchaseFlow))),Y=(0,v.useSelector)(g.Yzi),Z=(0,v.useSelector)(g.Xnf).origin;(0,l.useEffect)((()=>{q&&(S(!1),q.sku&&q.availability||E(new Error("Missing sku or availability information")))}),[E,q,S]),(0,W.useBackHandler)((0,l.useCallback)((()=>(I(),!0)),[I]));const Q=null===q||void 0===q?void 0:q.sku,J=null===q||void 0===q?void 0:q.availability,ee=null===(t=null===q||void 0===q?void 0:q.availability)||void 0===t?void 0:t.price,te=(0,G.OD)(ee),ne=(0,f.iV)("skuProductTitleTemplate",null!==(r=null===(n=null===q||void 0===q?void 0:q.product)||void 0===n?void 0:n.title)&&void 0!==r?r:"",null!==(a=null===(o=null===q||void 0===q?void 0:q.sku)||void 0===o?void 0:o.skuTitle)&&void 0!==a?a:"");if(!q||!Q)return null;const re=q.product,oe=V.length>1,ae=(null===Q||void 0===Q?void 0:Q.skuTitle)&&(null===Q||void 0===Q?void 0:Q.skuTitle)!==re.title?ne:re.title,ie=re.publisherName,se=ee&&ee.listPrice<=0,le=re.productFamily===G.fO.Subscription||re.productFamily===G.fO.Passes,ce=(0,G.nQ)(re.productKind),ue=se?O:le?N:A,de=te&&(0,g.WUZ)(se?L:le?N:R,ae,te.lowestPrice||""),he=(0,G.wF)(re,Q),me=(0,G.SP)(re,Q),pe=K&&me?me:(0,G.Ie)(re,Q),ge=(0,G.nk)(re,Q),fe={productId:c,skuId:u,availabilityId:d},ve=()=>{const e=(0,T.Ok)(Z,Y,c,ae,u,d);k?k(e):window.open(e,"_blank")},_e=(null===(i=Q.recurrencePolicySummary)||void 0===i?void 0:i.isRecurring)?B:void 0,ye=(0,gn.hA)(z);return l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__rootContainer___LKLDG")},l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroContainer___bI3Qf"},l.createElement(x.Ee,{className:s()(Vl,"ContextualStoreProductDetailsPage-module__heroImage___6vJQV"),src:null===he||void 0===he?void 0:he.url,width:480,height:270,hideShadow:!0,fluid:!0,alt:(null===he||void 0===he?void 0:he.caption)||ae}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroLinearGradient___TaUmc"})),l.createElement(x.W2,{className:"ContextualStoreProductDetailsPage-module__body___LV6g1"},l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__justifyContentCenter___oyHc8","ContextualStoreProductDetailsPage-module__displayFlex___cTCTp",$l)},l.createElement(x.Ee,{className:s()("shadow","ContextualStoreProductDetailsPage-module__portraitProductImage___+4ts6"),width:96,height:144,src:null===me||void 0===me?void 0:me.url,fluid:!0,alt:(null===he||void 0===he?void 0:he.caption)||ae}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__productItem___V63iN"},l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__landscapeProductImageContainer___aRkqe"},l.createElement(x.Ee,{src:null===pe||void 0===pe?void 0:pe.url,className:"ContextualStoreProductDetailsPage-module__landscapeProductImage___EF3wD",width:96,height:96,fluid:!0,alt:(null===he||void 0===he?void 0:he.caption)||ae})),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__info___Rz2G1"},l.createElement("h2",{className:s()(P.cN,"ContextualStoreProductDetailsPage-module__landscapeTitle___faUoV")},ae),ee&&J&&l.createElement(G.HR,{className:s()("ContextualStoreProductDetailsPage-module__priceDetails___Vy-Ax",P.S7),hasAddOns:re.hasAddOns,isPass:le,productInfo:q,productPrice:ee,recurrencePolicySummary:Q.recurrencePolicySummary}),!!_e&&l.createElement("div",{className:P.RO},l.createElement("span",null,_e)),ce&&l.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__dlcMessage___Y7p8n",P.S7)},F)))),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitHeader___bDcBi",$l)},l.createElement("h2",{className:s()(P.cN,"ContextualStoreProductDetailsPage-module__portraitTitle___WgGK6")},ae),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__productSubtitle___Q97sz",P.Km)},l.createElement("p",{className:"ContextualStoreProductDetailsPage-module__marginBottom0___ZPgNJ"},ie))),l.createElement(W.GamepadScrollable,{className:s()("ContextualStoreProductDetailsPage-module__productInfoContainer___dMhhj",$l,{"ContextualStoreProductDetailsPage-module__productInfoContainerFocused___CdVX1":X}),maxScrollPixels:155,onFocus:()=>$(!0),onBlur:()=>$(!1)},l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__skuInfoContainer___w8l2m")},!le&&l.createElement(y,{productId:c,className:"ContextualStoreProductDetailsPage-module__ageRatingInfo___ahA2t"}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__portraitPrice___4Mxfs"},ee&&J&&l.createElement(G.HR,{className:P.S7,hasAddOns:re.hasAddOns,isPass:le,productInfo:q,productPrice:ee,recurrencePolicySummary:Q.recurrencePolicySummary})),!!_e&&l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitLegalMessages___VguOH",P.RO)},l.createElement("span",null,_e)),oe&&!ye&&l.createElement("div",{className:s()(zl)},l.createElement("p",{className:s()(P.S7,Ul)},M),l.createElement(Ml,{className:s()(Gl),productId:c,skuId:fe.skuId,availabilityId:fe.availabilityId,onClick:w})),!le&&l.createElement(ur,{productId:c,className:"ContextualStoreProductDetailsPage-module__playableOnContainer___bQTzM",itemClassName:"ContextualStoreProductDetailsPage-module__playableOnItem___5NF94",titleClassName:s()(P.F$,"ContextualStoreProductDetailsPage-module__playableOnTitle___0Z2tD")})),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__descriptionContainer___rmst4")},l.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__description___lwQS7",P.RO)},ge))),l.createElement("div",{className:s()($l,"ContextualStoreProductDetailsPage-module__multipleButtonContainer___DN-ZY")},ye&&!j?l.createElement(Kl,{showSkuPickerButton:oe,locSelectOfferText:M,locale:Y,title:ne,productId:c,selectedPSA:fe,onShowSkuPicker:w,openPdpInNewWindow:ve,buyInStoreButtonText:D,closeButtonText:H,trackingParams:m,xStoreScenario:p,itemType:_,clientType:b}):l.createElement(jl,{hideShowInStore:h,openPdpInNewWindow:ve,seeInStoreButtonText:U,locPrimaryActionAccessibilityText:de,handleOnPurchaseAction:()=>{S(!0),C()},locPrimaryActionText:ue,enableBuyNowXboxUiExp:K}))))},Kl=e=>{let{showSkuPickerButton:t,locSelectOfferText:n,locale:r,title:o,productId:a,selectedPSA:i,onShowSkuPicker:c,openPdpInNewWindow:d,buyInStoreButtonText:h,closeButtonText:m,trackingParams:p,xStoreScenario:g,itemType:f,clientType:v}=e;const _=(0,T.Tf)(void 0,r,i.productId,o,i.skuId,i.availabilityId||"",void 0,null===p||void 0===p?void 0:p.callerApplicationId,null===p||void 0===p?void 0:p.campaignId,g,f,v);return l.createElement(l.Fragment,null,l.createElement(x.X2,{className:Bl},t&&l.createElement(x.sg,{xs:6,className:s()(Fl,Hl)},l.createElement("div",{className:s()(zl)},l.createElement("p",{className:s()(P.S7,Ul)},n),l.createElement(Ml,{className:s()(Gl),productId:a,skuId:i.skuId,onClick:c}))),l.createElement(x.sg,{xs:6,className:s()(Fl,"ContextualStoreProductDetailsPage-module__storeLinkButtonContainer___gabNQ")},l.createElement(K.Z,{as:"a",icon:Ri,className:s()("ContextualStoreProductDetailsPage-module__storeLinkButton___CPriI"),buttonType:u.L$.Brand,onClick:d,href:_,target:"_blank","data-autofocus":!0},l.createElement("div",{className:ql},l.createElement("span",null,h.toLocaleUpperCase())))),l.createElement(x.sg,{xs:6,className:s()(Fl,"ContextualStoreProductDetailsPage-module__bButtonContainer___b0XAx")},l.createElement(Rl,{icon:Nl.Z,label:m,className:"ContextualStoreProductDetailsPage-module__bButtonIcon___6npbL"}))))},jl=e=>{let{hideShowInStore:t,openPdpInNewWindow:n,seeInStoreButtonText:r,locPrimaryActionAccessibilityText:o,handleOnPurchaseAction:a,locPrimaryActionText:i,enableBuyNowXboxUiExp:c=!1}=e;return l.createElement(x.X2,{className:Bl},!t&&l.createElement(x.sg,{xs:6,className:s()(Fl)},l.createElement(En.K,{as:"a",className:s()(Vl,Dl,c?Xl:void 0),buttonType:u.L$.Primary,onClick:n,style:{cursor:"pointer"},tabIndex:0},l.createElement("div",{className:ql},l.createElement("div",null),l.createElement("span",null,r.toLocaleUpperCase()),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:"ContextualStoreProductDetailsPage-module__seeInStoreExternalUrlIcon___oneUD",icon:Zt.Z})))),l.createElement(x.sg,{xs:t?12:6,className:s()(Fl,Hl)},l.createElement(En.K,{as:"button","aria-label":o,className:s()(Vl,Dl,"ContextualStoreProductDetailsPage-module__actionButton___wDRb8",c?Xl:void 0),buttonType:u.L$.Brand,onClick:a,"data-autofocus":!0},i.toLocaleUpperCase())))};const Yl=e=>{var t,n,r;const{availabilityId:o,hideShowInStore:a,hideWishList:i,onError:c,onGoBack:u,onOpenStoreUrl:d,onPurchaseAction:h,onGiftAction:m,onRedeemAction:p,onShowSkuPicker:_,productId:b,setIsLoading:C,skuId:E}=e,[S,w]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate"),I=(0,v.useSelector)(g.NDL),k=(0,T.PH)(b,void 0,E,o),A=(0,v.useSelector)((e=>(0,Rt.mr)(e,b,E,o)));(0,W.useBackHandler)((0,l.useCallback)((()=>(u(),!0)),[u])),(0,l.useEffect)((()=>{A&&(C(!1),A.sku&&A.availability||c(new Error("Missing sku or availability information")))}),[c,A,C]);const R=null===A||void 0===A?void 0:A.product,N=null===A||void 0===A?void 0:A.sku,O=null===A||void 0===A?void 0:A.availability,L=null===(t=null===A||void 0===A?void 0:A.availability)||void 0===t?void 0:t.price,M=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===L||void 0===L?void 0:L.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!R||!N||!O)return null;const U=!!(null===(r=null===L||void 0===L?void 0:L.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),D=N.skuTitle&&N.skuTitle!==R.title?(0,g.WUZ)(S,R.title,N.skuTitle):R.title,B=R.publisherName?(0,g.WUZ)(w,R.publisherName):"",F=(0,G.SP)(R,N),H=(0,G.wF)(R,N),q=(0,G.nk)(R,N),z=(0,g.Ypc)(R.productFamily,G.fO.Passes)||(0,g.Ypc)(R.productFamily,G.fO.Subscription),X={[Xn.Zr.Acquisition]:h,[Xn.Zr.BuyToOwn]:h,[Xn.Zr.Extend]:h,[Xn.Zr.OpenInStore]:()=>d(k),[Xn.Zr.SkuSelector]:_,[Xn.Zr.Trial]:h};return m&&(X[Xn.Zr.Gift]=m),p&&(X[Xn.Zr.RedeemACode]=p),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__miniPdpContainer___JTHS9"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroContainer___ARaCo"},l.createElement("img",{className:"MobilePortraitMiniProductDetailsPage-module__heroImage___vCHwR",src:null===H||void 0===H?void 0:H.url,alt:(null===H||void 0===H?void 0:H.caption)||D}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroLinearGradient___+Dxxg"})),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__informationContainer___LRiyI"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainerWrapper___FXXWV"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainer___s-wEZ"},l.createElement(x.Ee,{height:144,width:96,src:null===F||void 0===F?void 0:F.url,alt:(null===F||void 0===F?void 0:F.caption)||D,className:"MobilePortraitMiniProductDetailsPage-module__boxArtImage___T6McP"}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityInformationContainer___glMX-"},l.createElement("h1",{className:s()(P.a2,"MobilePortraitMiniProductDetailsPage-module__titleFontAdjustments___uO6Sj")},D),l.createElement("p",{className:s()(P.gC,"MobilePortraitMiniProductDetailsPage-module__subtitleTextAdjustments___5K2hm")},B),l.createElement(G.HR,{hasAddOns:R.hasAddOns,productInfo:A,productPrice:L,recurrencePolicySummary:N.recurrencePolicySummary,isPass:z,className:P.hO,historicalLowestListPrice:N.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:M}))),(M||!U)&&l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__badgeWrapper___qVEUL"},l.createElement(Pl,{productId:b,isXPriceStorewideOffer:U}))),l.createElement(We,{className:s()("MobilePortraitMiniProductDetailsPage-module__scrollableDescriptorsContainer___4ULRC",M?"MobilePortraitMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___-AAz9":null),gradientColorOverride:I.theme===g.Q2A.Light?vn:fn},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__descriptorsContainer___SKnCY"},l.createElement(dr,{productId:b,itemClassName:"MobilePortraitMiniProductDetailsPage-module__playableOnItemOverride___El5iI",titleClassName:s()(P.RO,"MobilePortraitMiniProductDetailsPage-module__playableOnTitle___VcVtx"),className:"MobilePortraitMiniProductDetailsPage-module__playableOnContainer___wcvH0"}),l.createElement(y,{productId:b,className:"MobilePortraitMiniProductDetailsPage-module__rating___ySRgM"}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__legalContainer___O3hTJ"},l.createElement(Yn,{productId:b,className:P.Km})),l.createElement("div",{className:P.RO},q))),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__actionPanelContainer___p4-Ld"},l.createElement(wl,{actionPanelContext:Xn.vm.ContextualStore,hideOpenInStore:a,hideWishList:i,productActionTypeToActionOverride:X,productId:b,selectedSkuId:E}))))};const Zl=e=>{var t;const{isExtraSmallViewport:n,fadingScrollProps:r,boxArtImage:o,isUpgradeAvailable:a,price:i,product:c,productId:u,productSummaryInfo:d,publisherDisplayString:h,sku:m,title:p}=e,f=!!(null===(t=null===i||void 0===i?void 0:i.xPriceOfferInfo)||void 0===t?void 0:t.isXPriceStorewideOffer),v=(0,G.nk)(c,m),_=(0,g.Ypc)(c.productFamily,G.fO.Passes)||(0,g.Ypc)(c.productFamily,G.fO.Subscription),b=n?"div":We,E=n?{}:r,S=e=>{let{children:t}=e;return n?l.createElement(We,C()({className:"MobileLandscapeMiniProductDetailsPage-module__contentWrapper___i0aam"},r),t):l.createElement(l.Fragment,null,t)};return l.createElement(S,null,l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainerWrapper___1M6Pe"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainer___Ig18B"},l.createElement(x.Ee,{height:96,width:96,src:null===o||void 0===o?void 0:o.url,alt:(null===o||void 0===o?void 0:o.caption)||p,className:"MobileLandscapeMiniProductDetailsPage-module__boxArtImage___blp53"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityInformationContainer___W5nx8"},l.createElement("h1",{className:s()(P.a2,"MobileLandscapeMiniProductDetailsPage-module__titleFontAdjustments___p9VFe")},p),l.createElement("p",{className:s()(P.gC,"MobileLandscapeMiniProductDetailsPage-module__subtitleTextAdjustments___N1aG2")},h),l.createElement(G.HR,{hasAddOns:c.hasAddOns,productInfo:d,productPrice:i,recurrencePolicySummary:m.recurrencePolicySummary,isPass:_,className:P.hO,historicalLowestListPrice:m.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:a}))),a&&l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__badgeWrapper___hNkAs"},l.createElement(Pl,{productId:u,isXPriceStorewideOffer:f}))),l.createElement(b,C()({className:s()("MobileLandscapeMiniProductDetailsPage-module__scrollableDescriptorsContainer___6KQdD",a?"MobileLandscapeMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___Brki8":null)},E),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__descriptorsContainer___bP4kR"},l.createElement(dr,{productId:u,itemClassName:"MobileLandscapeMiniProductDetailsPage-module__playableOnItemOverride___pqJ94",titleClassName:s()(P.RO,"MobileLandscapeMiniProductDetailsPage-module__playableOnTitle___1iwYO"),className:"MobileLandscapeMiniProductDetailsPage-module__playableOnContainer___VowzK"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__horizontalDescriptorsContainer___6qTXU"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__ratingAndLegalContainer___ZaMT8"},l.createElement(y,{productId:u,className:"MobileLandscapeMiniProductDetailsPage-module__rating___sV5-W"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__legalContainer___9JX49"},l.createElement(Yn,{productId:u,className:P.Km}))),l.createElement("div",{className:s()(P.RO,"MobileLandscapeMiniProductDetailsPage-module__description___NAjvW")},v)))))},Ql=e=>{var t,n;const{availabilityId:r,hideShowInStore:o,hideWishList:a,onError:i,onGoBack:s,onOpenStoreUrl:c,onPurchaseAction:u,onGiftAction:d,onRedeemAction:h,onShowSkuPicker:m,productId:p,setIsLoading:_,skuId:y}=e,[b,C]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate"),E=(0,v.useSelector)(g.NDL),S=(0,T.PH)(p,void 0,y,r),w=(0,v.useSelector)((e=>(0,Rt.mr)(e,p,y,r)));(0,W.useBackHandler)((0,l.useCallback)((()=>(s(),!0)),[s])),(0,l.useEffect)((()=>{w&&(_(!1),w.sku&&w.availability||i(new Error("Missing sku or availability information")))}),[i,w,_]);const I=null===w||void 0===w?void 0:w.product,k=null===w||void 0===w?void 0:w.sku,A=null===w||void 0===w?void 0:w.availability,P=null===(t=null===w||void 0===w?void 0:w.availability)||void 0===t?void 0:t.price,R=(0,x.df)()<x.M9[x.JD.XS],N={gradientColorOverride:E.theme===g.Q2A.Light?vn:fn},O=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===P||void 0===P?void 0:P.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!I||!k||!A)return null;const L=k.skuTitle&&k.skuTitle!==I.title?(0,g.WUZ)(b,I.title,k.skuTitle):I.title,M=I.publisherName?(0,g.WUZ)(C,I.publisherName):"",U=(0,G.GK)(I,k),D=(0,G.wF)(I,k),B={[Xn.Zr.Acquisition]:u,[Xn.Zr.BuyToOwn]:u,[Xn.Zr.Extend]:u,[Xn.Zr.OpenInStore]:()=>c(S),[Xn.Zr.SkuSelector]:m,[Xn.Zr.Trial]:u};return d&&(B[Xn.Zr.Gift]=d),h&&(B[Xn.Zr.RedeemACode]=h),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__miniPdpContainer___1-WEQ"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroContainer___NXpwe"},l.createElement("img",{className:"MobileLandscapeMiniProductDetailsPage-module__heroImage___j7rKS",src:null===D||void 0===D?void 0:D.url,alt:(null===D||void 0===D?void 0:D.caption)||L}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroLinearGradient___f5sYZ"})),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__informationContainer___3x1uo"},l.createElement(Zl,{isExtraSmallViewport:R,fadingScrollProps:N,boxArtImage:U,isUpgradeAvailable:O,publisherDisplayString:M,price:P,product:I,productId:p,productSummaryInfo:w,sku:k,title:L}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__actionPanelContainer___H+pZE"},l.createElement(wl,{actionPanelContext:Xn.vm.ContextualStore,hideOpenInStore:o,hideWishList:a,productActionTypeToActionOverride:B,productId:p,selectedSkuId:y}))))},Jl=e=>{(0,S.Li)("ContextualStoreProductDetails",S.uZ.Overlay,{productInfo:{id:e.productId,sku:e.skuId}});const t=(0,v.useSelector)(g.Xnf).userAgent,n=!(0,gn.hA)(t);return l.createElement(l.Fragment,null,n?l.createElement(ec,C()({},e)):l.createElement(Wl,C()({},e)))},ec=e=>{const t=e.onGiftAction,n=t?n=>{if(e.updateSelectedProduct&&n){const[t,r,o]=[n[T.Uh.ProductId],n[T.Uh.SkuId],n[T.Uh.AvailabilityId]],a={productId:null!==t&&void 0!==t?t:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};e.updateSelectedProduct(a)}t()}:void 0,r=(0,x.Wp)({desktopComponent:xl,mobilePortraitComponent:Yl,mobileLandscapeComponent:Ql});return r?l.createElement(r,C()(C()({},e),{},{onPurchaseAction:t=>{let n,r,o;if(t&&e.updateSelectedProduct){[n,r,o]=[t[T.Uh.ProductId],t[T.Uh.SkuId],t[T.Uh.AvailabilityId]];const a={productId:null!==n&&void 0!==n?n:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};n&&e.updateSelectedProduct(a)}e.onPurchaseAction()},onGiftAction:n,onRedeemAction:e.onRedeemAction})):null};var tc=n(859902);const nc=async e=>{const t=await e.acquireTokenSilently(E.Q7.MDollar);return t?(0,E.Wg)(t):null},rc="XboxCom",oc=[rc,"XEWeb","XENative","XETest","XboxAppOnAndroid","XboxAppOnIOS"],ac=(e,t)=>{const n=["sc_fincastlebuynowgreenlogo","sc_xboxspinner","sc_xboxclosebutton",...e],r=n.includes("sc_xboxuiexp")?"XboxCom2NewUI":"XboxCom2";return{flights:n,cssOverride:r,expIds:[...t,...n].map((e=>`EX:${e}`))}},ic=e=>{var t,n,r;const{productId:o,skuId:a,availabilityId:i,trackingParams:s,setIsLoading:c,orderDetails:u,onCloseButtonClick:d,scenario:h,clientType:m,giftRecipientInformation:p}=e;(0,S.Li)("ContextualStorePurchase",S.uZ.Overlay,{productInfo:{id:o,sku:a}});const f=()=>{c(!1)},y=(0,E.Tv)(),b=(0,v.useSelector)(g.gzb),C=(0,l.useRef)(null),T=(0,v.useSelector)(g.yWe),w=(0,S.Qc)(),I=(0,v.useSelector)(E.t_),[k,A]=(0,l.useState)(!1),P=(0,v.useSelector)((e=>(0,g.PE2)(e,g.vCX.TestBuyNowFlights))),x=Bn(g.vCX.EnableBuyNowXboxUiExp),R=Bn(g.vCX.EnableBuyNowFCRedeemWithTax),N=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),O=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableTVPurchaseFlow))),L=Fn(g.vCX.PIGroupingExpId),M=Fn(g.vCX.PIGroupingFlightId),U=Bn(g.vCX.EnableXboxAppOnMobileGooglePay),D=(0,v.useSelector)(g.UwQ),B=(0,v.useSelector)(g.$Zt),F=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableXboxGamePadLite)));B.push(F?"sc_xboxgamepadlite":"sc_xboxgamepad");(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableXboxSmallPurchaseDialog)))&&B.push("sc_xboxsmallpurchasedialog"),L&&D.push(L),"string"===typeof P&&P.split(",").forEach((e=>{B.includes(e)||B.push(e)})),x&&(B.push("sc_xboxuiexp"),B.push("sc_disabledefaultstyles")),R&&B.push("sc_showtax"),N&&B.push("sc_gamertaggifting"),M&&B.push(M),O&&B.push("sc_bypasscspcheck"),((e,t,n)=>{!t||"XboxAppOnAndroid"!==n&&"XboxAppOnIOS"!==n||(e.push("sc_buynowgooglepay"),e.push("sc_allowgooglepayforbuynow"))})(B,U,m);const H=(0,v.useSelector)((e=>(0,_.zF)(e,o,a,i))),q=h===Pn.Gift&&N,G=!q&&(null===H||void 0===H?void 0:H.product.productId)||o,z=!q&&(null===(t=null===H||void 0===H?void 0:H.sku)||void 0===t?void 0:t.skuId)||a,X=!q&&(null===(n=null===H||void 0===H?void 0:H.availability)||void 0===n?void 0:n.availabilityId)&&z?null===(r=null===H||void 0===H?void 0:H.availability)||void 0===r?void 0:r.availabilityId:i;return(0,l.useEffect)((()=>{w.logAppAction({action:Mn.PurchaseStarted},{productId:o})}),[]),(0,l.useEffect)((()=>{const e=(0,tc.makeWindowListener)({done:e=>{var t,n,r,s;const l=e.orderId;switch(e.status){case"cancelXButton":w.logAppAction({action:Mn.PurchaseCanceled},{productId:o}),d();break;case"cancel":w.logAppAction({action:Mn.PurchaseCanceled},{productId:o}),u.onCancel(o,a,i,l);break;case"success":w.logAppAction({action:Mn.PurchaseSuccessful},{productId:o,xboxCardPointsRedeemed:null===(t=e.orderInfo)||void 0===t?void 0:t.xboxCardPointsRedeemed,xboxCardUsedForPurchase:null===(n=e.orderInfo)||void 0===n?void 0:n.xboxCardUsedForPurchase}),u.onSuccess(o,a,i,l,null===(r=e.orderInfo)||void 0===r?void 0:r.xboxCardUsedForPurchase);break;case"error":{const t=e;let n=kn.PurchaseError;t.errorInfo.code.includes("UserAlreadyOwnsContent")?n=kn.AlreadyPurchased:w.logAppAction({action:Mn.PurchaseFailed},{productId:o,xboxCardUsedForPurchase:null===(s=e.orderInfo)||void 0===s?void 0:s.xboxCardUsedForPurchase}),u.onError(o,n,a,i,l,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{u.onOpenUrl?u.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,l.useEffect)((()=>{var e,t,n;G&&z&&(X||q)&&!k&&(c(!0),async function(e,t,n,r,o,a,i,s,l,c,u,d,h,m,p,f){let v=arguments.length>16&&void 0!==arguments[16]?arguments[16]:rc;const _=e=>{h(!1),f(e)};if(!e)return void _(new Error("Failed to load frame."));let y;try{y=n?(0,E.Wg)(n):await nc(t)}catch(T){return void _(T)}if(!y)return void _(new Error("Unable to get token silently."));const{flights:b,cssOverride:C,expIds:S}=ac(u,d);await(0,tc.invokeBuyNowInFrame)(e,{authToken:"",products:[r],locale:o.localeWithScript,market:o.market,cV:a,layout:"Modal",clientType:v,cssOverride:C,xToken:y,campaignOptions:{campaignId:i,callerApplicationId:s,expId:S,flights:b,optionalCampaignId:l},theme:c===g.Q2A.Dark?"dark":"light",suppressGiftThankYouPage:m,scenario:m?"gift":"",gifteeType:m&&(null===p||void 0===p?void 0:p.gifteeType)||void 0,gamertagImageUrl:m&&(null===p||void 0===p?void 0:p.gifteeType)===Ln.GamerTag&&(null===p||void 0===p?void 0:p.gamerPicUrl)||void 0,gifteeValue:m&&(null===p||void 0===p?void 0:p.gifteeType)===Ln.GamerTag&&(null===p||void 0===p?void 0:p.classicGamerTag)||void 0,modernGamertag:m&&(null===p||void 0===p?void 0:p.gifteeType)===Ln.GamerTag&&(null===p||void 0===p?void 0:p.modernGamerTag)||void 0,frameAllow:"payment *"})||_(),h(!0)}(C.current,y,I,{productId:G,skuId:z,availabilityId:X},T,null!==(e=null===s||void 0===s?void 0:s.cV)&&void 0!==e?e:w.cv().get(),null!==(t=null===s||void 0===s?void 0:s.campaignId)&&void 0!==t?t:"xboxcomct",null!==(n=null===s||void 0===s?void 0:s.callerApplicationId)&&void 0!==n?n:_n,null===s||void 0===s?void 0:s.ocid,b,B,D,f,q,p||null,(()=>{w.logAppAction({action:Mn.PurchaseFailed},{productId:o}),u.onError(o,kn.PurchaseError,a,i)}),(e=>!!e&&oc.includes(e))(m)?m:rc),A(!0))}),[G,z,X]),l.createElement("iframe",{key:"purchase-sdk-iframe",title:"Purchase Frame",name:"purchase-sdk-hosted-iframe",ref:C,className:x?"ContextualStorePurchase-module__purchaseFrameNewUi___CedNY":"ContextualStorePurchase-module__purchaseFrame___Fbhay"})};n(904173),n(606710);function sc(){if(globalThis.ReactNativeWebView){const e=globalThis.postMessage;console.log("We are in react native");let t=0;const n=setInterval((()=>{globalThis.postMessage!==e?globalThis.postMessage=t=>{var n;e(t),null===(n=globalThis.ReactNativeWebView)||void 0===n||n.postMessage("string"==typeof t?t:JSON.stringify(t))}:t++,t>10&&clearInterval(n)}),500)}}var lc;!function(e){e.Pdp="ProductDetailsPage",e.Purchase="Purchase",e.PurchaseOnFallback="PurchaseOnFallback",e.ThankYou="ThankYouPage",e.Error="ErrorPage",e.SkuPicker="SkuPickerPage",e.Browse="BrowsePage",e.Gift="Gift",e.Redeem="Redeem"}(lc||(lc={}));const cc=(e,t,n)=>({productId:e,skuId:null!==t&&void 0!==t?t:"",availabilityId:null!==n&&void 0!==n?n:""}),uc=e=>{switch(e){case An.Purchase:return lc.Purchase;case An.Browse:return lc.Browse;case An.Redeem:return lc.Redeem;default:return lc.Pdp}},dc=e=>{const{productId:t,skuId:n,availabilityId:r,activateStoreExperiments:o,allowAnonymous:a,experience:i,hasAddOns:d,hideCloseButton:h,hideShowInStore:m,hideWishList:p,onResult:_,onMessage:y,productTitle:b,skipPurchaseConfirmation:T,tracking:w,options:I,referringProductId:k,itemType:A,xStoreScenario:P,clientType:R,giftRecipientInformation:N,offerId:O,productMetadataList:L,themeOverride:M,redeemScenario:U}=e;let D=e.scenario;const[B,F]=(0,l.useState)(!0),[H,q]=(0,l.useState)(uc(i)),[z,X]=(0,l.useState)(""),{currentExperience:$}=(0,l.useContext)(x.rE),V=(0,l.useCallback)(((e,t)=>{y&&y({type:On.PageChange,data:e}),q(e)}),[y]),K=(0,v.useSelector)(E.t_),j=(0,v.useSelector)(E.yB)||!!K,Y=(0,g.$wQ)(),Q=(0,g.IzA)(),J=null!==A&&void 0!==A?A:"",ee=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp)))&&!!o,te=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),ne=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRedeemCodeModal))),re=(0,v.useSelector)((e=>(0,Rt.th)(e,t))),oe=n||(null===re||void 0===re?void 0:re.optimalSkuId)||(null===re||void 0===re?void 0:re.preferredSkuId);(0,l.useEffect)((()=>{if(!a&&!j){const e=(0,g.kgH)(t)===G.Cv?Q(window.location.href):Y(window.location.href);window.parent===window?window.location.assign(e):H!==lc.Error&&(V(lc.Error,new Error("Attempting to sign-in inside an iframe")),F(!1))}}),[a,j,t,H,Y,Q,V]);const ae=(0,v.useDispatch)(),ie=(0,v.useSelector)(g.gzb),[se,le]=(0,l.useState)(((e,t,n)=>({productId:e,skuId:t,availabilityId:n,status:kn.Canceled}))(t,oe,r)),[ce,ue]=(0,l.useState)(cc(t,oe,r)),de={contentName:"Close Contextual Store Button",templateName:"ButtonComponent",contentType:"ActionButton",productId:t,skuId:oe,productName:b},{genericPurchaseErrorMessage:he,closeButtonText:me,closeContextualStore:pe}=(0,f.y_)("genericPurchaseErrorMessage","closeButtonText","closeContextualStore"),ge=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.UsePostMessageHelper)));(0,l.useEffect)((()=>{(0,W.initializeGamepadNavigation)()}),[]);const fe=(e,t)=>!!e&&t===lc.Pdp||t===lc.Purchase,ve=e=>{fe(null===I||void 0===I?void 0:I.fallbackToPurchaseOnError,H)?V(lc.PurchaseOnFallback,e):(le({productId:t,skuId:oe,availabilityId:r,status:kn.ServiceError,error:e}),V(lc.Error,e)),F(!1)};(0,l.useEffect)((()=>{ae(pn.I.getProductDetailById.start(t,(e=>ve(e))));const e=uc(i);H!==e&&q(e),ue(cc(t,oe,r))}),[r,t,oe,i]),(0,l.useEffect)((()=>{if(i===An.Browse){const e=J.split(",").map((e=>{switch(e){case G.Dp.Game:case G.Dp.GameDemo:return G.Fc.Game;case G.Dp.Consumable:return G.Fc.Consumable;case G.Dp.Durable:return G.Fc.Durable;case G.Dp.Application:default:return}})).filter((e=>!!e&&e in G.Fc));0===e.length&&(V(lc.Error,new Error("Invalid product kind provided")),F(!1));const n=(0,mn.H0)(e),r=(0,Z.lx)(n,t);r||(V(lc.Error,new Error("Unable to get channel product key")),F(!1)),X(r)}}),[i,J,V,t]),(0,l.useEffect)((()=>{if(i===An.Browse){const e=e=>{le({productId:t,skuId:oe,availabilityId:r,status:kn.ServiceError,error:e}),V(lc.Error,e),F(!1)};ae(pn.I.getBrowsePageDataById.start(t,J,z,e))}}),[r,t,oe,i,ae,V,J,z]),(0,l.useEffect)((()=>{switch(se.status){case kn.Purchased:T?_&&_(se):(ue({productId:se.productId,skuId:se.skuId||"",availabilityId:se.availabilityId||""}),V(lc.ThankYou));break;case kn.ServiceError:case kn.PurchaseError:case kn.AlreadyPurchased:_&&_(se)}}),[se,_,T]);const _e=e=>{e!==ce&&ue(e),ae(pn.I.getProductDetailById.start(e.productId,(e=>ve(e)))),V(lc.Pdp)},ye=()=>{_&&_(se)},be=()=>{i===An.Browse&&H===lc.Pdp?(ue(cc(t,oe,r)),V(lc.Browse)):_&&_(se)},Ce=()=>{i===An.Purchase||H===lc.PurchaseOnFallback||i===An.Redeem?ye():(ue(cc(t,oe,r)),V(lc.Pdp))},Ee=e=>{y&&y({type:On.OpenUrl,data:e}),window.open(e,"_blank")},Se={onCancel:Ce,onError:(e,t,n,r,o,a)=>{le({productId:e,skuId:n,availabilityId:r,status:t,orderId:o,error:a})},onOpenUrl:Ee,onSuccess:(e,t,n,r,o)=>{le({productId:e,skuId:t,availabilityId:n,status:kn.Purchased,orderId:r,xboxCardUsedForPurchase:o}),i!==An.Redeem&&e&&ae(pn.I.purchaseComplete(e))}};let Te=null;switch(H){case lc.Pdp:default:Te=l.createElement(Jl,{productId:ce.productId,skuId:ce.skuId,availabilityId:ce.availabilityId,hideShowInStore:m,hideWishList:p,trackingParams:w,onShowSkuPicker:()=>V(lc.SkuPicker),onPurchaseAction:()=>V(lc.Purchase),onGiftAction:te?()=>V(lc.Gift):void 0,onRedeemAction:ne?()=>V(lc.Redeem):void 0,onError:e=>{V(fe(null===I||void 0===I?void 0:I.fallbackToPurchaseOnError,H)?lc.PurchaseOnFallback:lc.Error,e)},onGoBack:be,onOpenStoreUrl:Ee,setIsLoading:F,xStoreScenario:P,itemType:J,updateSelectedProduct:ue,clientType:R});break;case lc.Gift:D=Pn.Gift;case lc.Purchase:case lc.PurchaseOnFallback:Te=l.createElement(ic,{productId:ce.productId,availabilityId:ce.availabilityId,skuId:ce.skuId,trackingParams:w,setIsLoading:F,orderDetails:Se,onCloseButtonClick:Ce,scenario:D,clientType:R,giftRecipientInformation:N});break;case lc.Redeem:Te=l.createElement(Mi,{productId:ce.productId,availabilityId:ce.availabilityId,skuId:ce.skuId,trackingParams:w,setIsLoading:F,onCloseButtonClick:Ce,clientType:R,orderDetails:Se,offerId:O,productMetadataList:L,themeOverride:M,scenario:U});break;case lc.Browse:Te=l.createElement(zn,{productId:ce.productId,skuId:ce.skuId,availabilityId:ce.availabilityId,onSelect:_e,onClose:ye,onError:e=>{V(fe(null===I||void 0===I?void 0:I.fallbackToPurchaseOnError,H)?lc.PurchaseOnFallback:lc.Error,e)},setIsLoading:F,channelKey:z,itemType:J});break;case lc.ThankYou:Te=l.createElement(ji,{productId:ce.productId,skuId:ce.skuId,referringProductId:k,scenario:D,setIsLoading:F,onError:e=>V(lc.Error,e),onClose:ye,xboxCardUsedForPurchase:se.xboxCardUsedForPurchase});break;case lc.Error:Te=((e,t,n,r,o)=>l.createElement("div",{className:"ContextualStoreV2-module__failureViewContainer___Z+3cW"},l.createElement("h4",null,e),l.createElement(c.k,C()({as:"button",onClick:r,className:"ContextualStoreV2-module__closeButton___MmWUe","aria-label":n},(0,S.iZ)(o)),t)))(he,me,pe,ye,de);break;case lc.SkuPicker:Te=l.createElement(Cn,{hasAddOns:d,onSelect:_e,onClose:()=>V(lc.Pdp),productId:t})}const we=!(h||H===lc.Purchase||H===lc.PurchaseOnFallback||H===lc.Gift||H===lc.Redeem||H===lc.ThankYou&&$===x.a3.MobileLandscape),Ie=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableXboxSmallPurchaseDialog))),ke=ee?s()("ContextualStoreV2-module__newContextualStoreSizing___h+ipJ",Ie&&"xbox-new-contextual-store-sizing"):"ContextualStoreV2-module__contextualStoreSizing___tzMDW";return l.createElement(wn,{value:{activateStoreExperiments:!!o}},ge&&l.createElement(hn.q,null,l.createElement("script",null,`(${sc.toString()})();`)),l.createElement(S.pC,null,l.createElement(W.FocusContainer,{autoFocusContainer:!0,className:"ContextualStoreV2-module__focusContainer___EAJYV",onKeyDown:e=>{"Escape"===e.nativeEvent.key&&ye()}},l.createElement(x.W2,{className:s()("xgp-reset-style","ContextualStoreV2-module__contextualStoreContainer___7k8p9",{"theme-dark":M?M===g.Q2A.Dark:ie===g.Q2A.Dark},ee?"ContextualStoreV2-module__isNewBuyNowXboxUiExpEnabled___7Mjfr":void 0)},l.createElement("div",{className:s()(ke,"ContextualStoreV2-module__flexColumn___EnNnt")},Te),we&&l.createElement(un.Q,C()({as:"button",icon:dn.Z,onClick:ye,buttonSize:u.qE.Small,buttonType:u.L$.Primary,overlayMode:u.gT.Solid,className:s()([(0,x.W0)("margin","all",2),"ContextualStoreV2-module__closeIcon___nKOGi"]),"aria-label":pe},(0,S.iZ)(de))),B&&l.createElement("div",{className:"ContextualStoreV2-module__progressContainer___SE7z1"},l.createElement(x.X2,{className:"ContextualStoreV2-module__progressIconAlignment___n9XxL"},l.createElement(x.dj,null)))))))};n(344112);const hc=e=>{let{onResult:t,onMessage:n}=e;var r;const o=(0,v.useDispatch)(),a=(0,g._yM)(g.Hw9.ProductId,""),i=(0,g._yM)(g.Hw9.AvailabilityId,""),s=(0,g._yM)(g.Hw9.SkuId,""),c=new URLSearchParams((0,co.TH)().search),u=c.get("partnerid"),d=c.get("cv"),h=c.get("campaignId"),m=c.get("it"),p=c.get("xs"),f=c.get("clientType"),_=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableSkipActivateStoreExp)))||(0,g.Ypc)(null!==(r=c.get("activateStoreExperiments"))&&void 0!==r?r:"","true"),y=!!(null===u||void 0===u?void 0:u.startsWith("gamepasssamsungtv")),b=Nn.v2,C=c.get("t");(0,l.useEffect)((()=>{C&&"dark"===C.toLowerCase()&&o(g.uQd.setTheme(g.Q2A.Dark))}),[]);const E=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"purchase":return An.Purchase;case"browse":return An.Browse;case"redeem":return An.Redeem;default:return An.Details}})(c.get("exp")),S=c.get("skipPurchaseConfirmation"),w="true"===(null===S||void 0===S?void 0:S.toLowerCase()),I=c.get("fallbackToPurchaseOnError"),k="true"===(null===I||void 0===I?void 0:I.toLowerCase()),A=c.get("anon"),P="true"===(null===A||void 0===A?void 0:A.toLowerCase()),R=c.get("hideClose"),N="true"===(null===R||void 0===R?void 0:R.toLowerCase())||y,O="xboxapponandroid"===(null===f||void 0===f?void 0:f.toLowerCase())||"xboxapponios"===(null===f||void 0===f?void 0:f.toLowerCase()),L=(0,g.oB7)(c,lo.nV.referringProductId),M=(0,T.PH)(a,void 0,s,i),U=e=>{var n,r;null===t||void 0===t||t(e),null===(n=window.parent)||void 0===n||n.postMessage({message:"PurchaseStatus",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseStatus",result:e},"*"),!window.opener&&window.parent===window&&y&&window.location.assign(M)},D=e=>{var t,r;null===n||void 0===n||n(e),null===(t=window.parent)||void 0===t||t.postMessage({message:"PurchaseMessage",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseMessage",result:e},"*")};return l.createElement(x.SV,null,(()=>l.createElement(x.Wv,null,l.createElement(dc,{allowAnonymous:P,productId:a,skuId:s,availabilityId:i,onResult:U,onMessage:D,tracking:{callerApplicationId:u||void 0,cV:d||void 0,campaignId:h||void 0},version:b,experience:E,skipPurchaseConfirmation:w,options:{fallbackToPurchaseOnError:k},referringProductId:null===L||void 0===L?void 0:L.value,hideCloseButton:N,hideShowInStore:y,hideWishList:O,itemType:m,xStoreScenario:p,clientType:f,activateStoreExperiments:_}))))},mc=()=>{var e;const[t,n]=(0,l.useState)(void 0),r=(0,v.useSelector)(E.yB),o=(0,g.$wQ)(),a=(0,g.IzA)();(0,l.useEffect)((()=>{var e;if(r){const t=new URLSearchParams(window.location.search),r=t.get(ro);if(r){const o=r.split("-").filter((e=>e));if(o.length>0&&o.length<4){const r=t.get(ao),a=pc(r);n(C()({productId:o[0],skuId:o[1],availabilityId:o[2],referringProductId:null!==(e=t.get(lo.nV.referringProductId))&&void 0!==e?e:void 0},a))}}}}),[r,n]),(0,l.useEffect)((()=>{const e=e=>{var t,i;const s=null===e||void 0===e?void 0:e.detail,l=null===(t=s.experience)||void 0===t?void 0:t.toLocaleLowerCase();if(s&&s.productId||l===An.Redeem.toLocaleLowerCase())if(r)n({productId:s.productId,skuId:s.skuId,availabilityId:s.availabilityId,experience:s.experience,referringProductId:null!==(i=s.referringProductId)&&void 0!==i?i:void 0,activateStoreExperiments:!!s.activateStoreExperiments});else{let e=s.productId;s.skuId&&(e+=`-${s.skuId}`,s.availabilityId&&(e+=`-${s.availabilityId}`));const t=new URL(window.location.toString()),n=new URLSearchParams(t.search);e&&n.set(ro,e),s.referringProductId&&n.set(lo.nV.referringProductId,s.referringProductId),t.search=n.toString();const r=(0,g.kgH)(s.productId)===G.Cv?a(t.toString()):o(t.toString());window.location.assign(r)}};return document.addEventListener(oo,e),()=>document.removeEventListener(oo,e)}),[o,a,r,n]);const i=()=>{n(void 0)};if(t)switch(null===(e=t.experience)||void 0===e?void 0:e.toLocaleLowerCase()){case An.Redeem.toLocaleLowerCase():return l.createElement(Zi,{showModal:!0,onClose:i});case An.Purchase.toLocaleLowerCase():case An.Details.toLocaleLowerCase():default:return l.createElement(po,C()({onResult:i,showModal:!0},t))}return null},pc=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case An.Redeem.toLowerCase():return{experience:An.Redeem};case An.Purchase.toLowerCase():return{experience:An.Purchase};case Pn.Gift.toLowerCase():return{experience:An.Purchase,scenario:Pn.Gift};case An.Details.toLowerCase():default:return{experience:An.Details}}};var gc=n(84179),fc="FeaturedContentModule-module__desktopMaxTextWidth___yEzRm";const vc=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(bc,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__desktopImage___wV18f",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__desktopContainer___TSgIa",subtitle:a,subtitleClassName:s()(fc,P.RH),textClassName:"FeaturedContentModule-module__desktopModuleText___H+kav",textSectionClassName:"FeaturedContentModule-module__desktopTextSection___-34mE",title:i,titleClassName:s()(fc,"FeaturedContentModule-module__desktopTitle___tYfd2",P.Q)})},_c=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(bc,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__mobilePortraitImage___bAlrR",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__mobilePortraitContainer___Tiupf",subtitle:a,subtitleClassName:P.RH,textClassName:"FeaturedContentModule-module__mobilePortraitText___mfUEB",textSectionClassName:"FeaturedContentModule-module__mobilePortraitTextSection___FDzIb",title:i,titleClassName:P.jG})},yc=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(bc,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__mobileLandscapeImage___usIhX",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__mobileLandscapeContainer___FPxh6",subtitle:a,subtitleClassName:P.RH,textSectionClassName:"FeaturedContentModule-module__mobileLandscapeTextSection___MF4BF",textClassName:"FeaturedContentModule-module__mobileLandscapeModuleText___s87OT",title:i,titleClassName:P.jG})},bc=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i,titleClassName:c,subtitleClassName:u,moduleContainerClassName:d,textSectionClassName:h,textClassName:m,imageClassName:p}=e,g=(0,gc.m)(n);return l.createElement("div",{style:{backgroundImage:`url(${o})`},className:s()("FeaturedContentModule-module__container___XfPap",d)},l.createElement("div",{className:"FeaturedContentModule-module__scrim___uO23m"},l.createElement("div",{className:h},l.createElement("div",{className:m},l.createElement("header",{className:s()("FeaturedContentModule-module__title___alPtd",c)},i),l.createElement("span",{className:s()("FeaturedContentModule-module__subtitle___nUL2v",u)},a),!(!t||!n)&&l.createElement(U,{label:t,url:null!==g&&void 0!==g?g:"#"})),l.createElement("img",{className:p,alt:r,src:o}))))},Cc=e=>{const t=(0,x.Wp)({desktopComponent:vc,mobilePortraitComponent:_c,mobileLandscapeComponent:yc}),{properties:n}=e;return t&&(e=>!!(e&&e.imageUrl&&e.title&&e.imageAltText&&e.subtitle))(n)?l.createElement(t,C()({},n)):null};var Ec=n(331168),Sc=n(885495),Tc=n(637533),wc="SortAndFilters-module__clearAllButton___M8wTO",Ic="SortAndFilters-module__clearAllButtonContainer___v6UZC",kc="SortAndFilters-module__filterList___T81LH",Ac="SortAndFilters-module__filterText___MqCzX",Pc="SortAndFilters-module__filterTitle___LiVrt",xc="SortAndFilters-module__filtersText___8OwXG",Rc="SortAndFilters-module__sortContainer___e+DLZ",Nc="SortAndFilters-module__text___Dl4fZ";const Oc={[mn.vA.Accessibility]:800,[mn.vA.Price]:900,[mn.vA.Genre]:1e3,[mn.vA.IncludedInSubscription]:1050,[mn.vA.MaturityRating]:1100,[mn.vA.Multiplayer]:1200,[mn.vA.TechnicalFeatures]:1300,[mn.vA.SupportedLanguages]:1400},Lc=e=>{let t=0;for(const n in e)n!==mn.vA.OrderBy&&(t+=e[n].length);return t};const Mc=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),l.createElement("circle",{cx:16,cy:16,r:5,fillRule:"evenodd"}))};var Uc="ApplyFiltersButton-module__applyButton___faTvE",Dc="ApplyFiltersButton-module__filterText___-fwr6",Bc="ApplyFiltersButton-module__text___UQPpr";const Fc=e=>e.pageType===S.uZ.Search?l.createElement(Hc,C()({},e)):l.createElement(qc,C()({},e)),Hc=e=>{const t=(0,f.UD)("seeResultsFilterButtonText");return l.createElement(c.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()(Uc,P.Km,Bc),onClick:e.onHide},l.createElement("span",{className:Dc},t))},qc=e=>{const t=(0,co.k6)().location,n=(0,Z.e1)(t),r=(0,g._yM)(g.Hw9.ChannelId,""),o=(0,mn.Pd)(n,r),a=(0,v.useSelector)((e=>(0,Sn.wX)(e,o))),i=(0,f.UD)("browsePageRefineResults"),d=(0,f.UD)("seeResultsFilterButtonText"),h=()=>{const e=l.createElement(Mc,{"aria-hidden":!0});return l.createElement("span",{className:Dc},e," ",e," ",e)};return l.createElement(c.k,{as:"button","aria-label":i,buttonType:u.L$.Brand,className:s()(Uc,P.Km,Bc),onClick:e.onHide},l.createElement(Ec.LceRenderer,{key:"FilterPanel_button_title",data:a,renderNotRequested:h,renderContent:()=>l.createElement("span",{className:Dc},d),renderFetching:h,renderError:h,renderDefault:h}))},Gc=["overrideLandscapeButtonWithPortraitButton"],zc=e=>{const{selectedSortId:t,sortInfo:n}=e,r=(0,co.k6)(),o=(0,f.iV)("browsePageSortByXFunction"),a=[T.XW];return l.createElement(xe,{filterInfo:n,onChoicesClick:(e,t)=>{const o=e;if(n.hasAllChoice&&n.allChoiceId&&t===n.allChoiceId){const e=(0,Z.Uo)(o,(0,Z._B)(r.location));(0,Z.uh)(r,e,!0)}else{const e=(0,Z.BS)(o,t,(0,Z._B)(r.location));(0,Z.uh)(r,e,!0)}},selectedChoices:null!==t&&void 0!==t?t:a,isInitiallyCollapsed:!0,titleFunction:o,isScrollable:!1})},Xc=e=>{const{filtersInfo:t,selectedFiltersId:n}=e,r=(e=>{const t=[];return Object.keys(e).filter((e=>e!==mn.vA.OrderBy)).forEach((n=>{t.push(e[n])})),t.sort(((e,t)=>Oc[e.id]-Oc[t.id]))})(t),o=(0,co.k6)(),a=(e,t)=>{const n=(0,Z.z1)(e,t,(0,Z._B)(o.location));(0,Z.uh)(o,n,!0)};return l.createElement(l.Fragment,null,r.map(((e,t)=>{var r;const o=n&&null!==(r=n[e.id])&&void 0!==r?r:[],i=e.id!==mn.vA.Accessibility;return l.createElement("li",{key:`${e.id}_${t}`,className:"SortAndFilters-module__li___aV+Oo"},l.createElement(xe,{filterInfo:e,onChoicesClick:a,selectedChoices:o,isInitiallyCollapsed:!0,isScrollable:i}))})))},$c=e=>{const{filtersInfo:t,selectedFiltersId:n,sortInfo:r}=e,o=(0,f.iV)("browsePageFilterTitle");return l.createElement("div",{className:"SortAndFilters-module__container___yA+Vp"},l.createElement("div",{className:Rc},l.createElement(zc,{selectedSortId:n[mn.vA.OrderBy],sortInfo:r})),l.createElement("h2",{className:s()(P.ZN,xc)},o),l.createElement("ul",{className:kc},l.createElement(Xc,{selectedFiltersId:n,filtersInfo:t})))},Vc=e=>{const{browsePageRefineResults:t,browsePageClearAllFilters:n}=(0,f.y_)("browsePageRefineResults","browsePageClearAllFilters"),r=(0,co.k6)(),[o,a]=(0,l.useState)(!1),i=Lc(e.selectedFiltersId),d=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:i});return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()("SortAndFilters-module__button___OeFeU",P.gC,Nc),onClick:()=>{a(!0)}},l.createElement(Sc.Z,{"aria-hidden":!0}),l.createElement("span",{className:Ac},t)),o&&l.createElement(jc,{showModal:o,onHide:()=>{a(!1)},selectedFiltersSize:i,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,selectedFiltersId:e.selectedFiltersId,filterTitleWithCount:d,pageType:e.pageType}),i>0&&l.createElement("div",{className:Pc},l.createElement("div",{className:s()(P.ZN,xc)},d),l.createElement("div",{className:Ic},l.createElement(c.k,{as:"button","aria-label":n,buttonType:u.L$.Tertiary,className:s()(wc,P.Km,Nc),onClick:()=>{const e=(0,Z.nS)(r.location);(0,Z.uh)(r,e,!0)}},l.createElement("span",{className:Ac},n)))))},Wc=e=>{const t=(0,f.iV)("browsePageRefineResults"),[n,r]=(0,l.useState)(!1),o=Lc(e.selectedFiltersId),a=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:o});return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()("SortAndFilters-module__buttonLandscape___+mKnt",P.gC,Nc),onClick:()=>{r(!0)}},l.createElement(Sc.Z,{"aria-hidden":!0})),n&&l.createElement(jc,{showModal:n,onHide:()=>{r(!1)},selectedFiltersId:e.selectedFiltersId,selectedFiltersSize:o,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,filterTitleWithCount:a,pageType:e.pageType}))},Kc=e=>{const{overrideLandscapeButtonWithPortraitButton:t}=e,n=V()(e,Gc),r=(0,x.Wp)({desktopComponent:$c,mobilePortraitComponent:Vc,mobileLandscapeComponent:t?Vc:Wc});return r?l.createElement(r,C()({},n)):null},jc=e=>{let{filtersInfo:t,filterTitleWithCount:n,onHide:r,showModal:o,selectedFiltersId:a,selectedFiltersSize:i,sortInfo:d,pageType:h}=e;const{browsePageFiltersTitle:m,browsePageClearAllFilters:p}=(0,f.y_)("browsePageFiltersTitle","browsePageClearAllFilters"),g=0===i?m:n,v=(0,co.k6)();return l.createElement(x.u_,{ariaLabel:g,className:"SortAndFilters-module__modalContainer___MoRmH",closeable:!1,onHide:r,show:o},l.createElement(x.u_.Body,{className:(0,x.W0)("padding","all",3)},l.createElement("div",{className:"SortAndFilters-module__containerMobile___vuoD2"},l.createElement("div",{className:Rc},l.createElement(zc,{selectedSortId:a[mn.vA.OrderBy],sortInfo:d})),l.createElement("div",{className:s()(Pc,"SortAndFilters-module__sortFilterTitle___RAHge")},l.createElement("div",{className:s()(P.ZN,xc)},g),i>0&&l.createElement("div",{className:Ic},l.createElement(c.k,{as:"button","aria-label":p,buttonType:u.L$.Tertiary,className:s()(wc,P.Km,Nc),onClick:()=>{const e=(0,Z.nS)(v.location);(0,Z.uh)(v,e,!0)}},l.createElement("span",{className:Ac},p)))),l.createElement("ul",{className:kc},l.createElement(Xc,{selectedFiltersId:a,filtersInfo:t}))),l.createElement("div",{className:"SortAndFilters-module__applyButtonContainer___I7dpt"},l.createElement(Fc,{onHide:r,pageType:h}))))};var Yc="FiltersPanel-module__modalContainer___pQEtN",Zc="FiltersPanel-module__text___Umo23",Qc="LoadingFilters-module__text___qgjxf";const Jc=()=>l.createElement("div",{className:"LoadingFilters-module__filtersPanel___HaYt8"}),eu=()=>{const e=(0,f.iV)("browsePageRefineResults");return l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("LoadingFilters-module__button___tD2Ng",P.gC,Qc),disabled:!0},l.createElement(Sc.Z,{"aria-hidden":!0}),l.createElement("span",{className:"LoadingFilters-module__filterText___fmXBY"},e))},tu=()=>{const e=(0,f.iV)("browsePageRefineResults");return l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("LoadingFilters-module__buttonLandscape___rLfge",P.gC,Qc),disabled:!0},l.createElement(Sc.Z,{"aria-hidden":!0}))},nu=()=>{const e=(0,x.Wp)({desktopComponent:Jc,mobilePortraitComponent:eu,mobileLandscapeComponent:tu});return e?l.createElement(e,null):null},ru=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.y_)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,a]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("FiltersPanel-module__button___YQ92p",P.gC,Zc),onClick:()=>{a(!0)}},l.createElement(Sc.Z,{"aria-hidden":!0}),l.createElement("span",{className:"FiltersPanel-module__filterText___G10Ck"},e)),o&&l.createElement(x.u_,{className:Yc,show:o,ariaLabel:t,closeable:!0,onHide:()=>{a(!1)}},l.createElement(Ve,{errorHeading:n,errorDescription:r})))},ou=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.y_)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,a]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("FiltersPanel-module__buttonLandscape___T7IjK",P.gC,Zc),onClick:()=>{a(!0)}},l.createElement(Sc.Z,{"aria-hidden":!0})),o&&l.createElement(x.u_,{className:Yc,show:o,ariaLabel:t,closeable:!0,onHide:()=>{a(!1)}},l.createElement(Ve,{errorHeading:n,errorDescription:r})))},au=()=>{const{browsePageFilterErrorTitle:e,browsePageFilterErrorDescription:t}=(0,f.y_)("browsePageFilterErrorTitle","browsePageFilterErrorDescription");return l.createElement(Ve,{errorHeading:e,errorDescription:t})},iu=()=>{const e=(0,x.Wp)({desktopComponent:au,mobilePortraitComponent:ru,mobileLandscapeComponent:ou});return e?l.createElement(e,null):null},su=e=>{const t=(0,v.useSelector)((t=>(0,Sn.Zj)(t,e.pageType))),n=(0,co.k6)(),r=(0,Tc.e1)(n.location);return l.createElement(Ec.LceRenderer,{key:`FilterPanel_${e.pageType}`,data:t,renderFetching:()=>l.createElement(nu,null),renderContent:t=>l.createElement(Kc,{filtersInfo:t.data,selectedFiltersId:r,sortInfo:t.data[mn.vA.OrderBy],pageType:e.pageType,overrideLandscapeButtonWithPortraitButton:e.overrideLandscapeButtonWithPortraitButton}),renderError:()=>l.createElement(iu,null)})};var lu=n(883022);const cu=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{d:"M22.5 12a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.89 3.067L3.053 14.905a3.518 3.518 0 00-.783 1.18c-.18.446-.27.91-.27 1.395.01.493.104.962.285 1.408.18.446.436.835.768 1.167l8.892 8.892a3.52 3.52 0 001.181.783c.446.18.91.27 1.394.27.494-.01.963-.104 1.409-.285.446-.18.835-.436 1.167-.768L28.933 17.11c.35-.351.616-.75.797-1.195.18-.446.27-.91.27-1.395V5.642a3.88 3.88 0 00-.285-1.422 3.404 3.404 0 00-.782-1.153 3.878 3.878 0 00-1.167-.782A3.495 3.495 0 0026.358 2h-8.893a3.657 3.657 0 00-2.575 1.067zm1.95 1.058c-.218.093-.39.211-.535.356L4.467 16.32a1.52 1.52 0 00-.342.516c-.082.2-.123.405-.125.626.007.248.055.47.139.678.082.203.19.364.328.502l8.892 8.892c.153.152.32.263.517.342.2.081.404.123.626.125.247-.007.47-.055.677-.139a1.47 1.47 0 00.502-.328L27.52 15.695a1.57 1.57 0 00.357-.53c.083-.206.124-.416.124-.645V5.663a1.876 1.876 0 00-.133-.68 1.405 1.405 0 00-.328-.482 1.88 1.88 0 00-.57-.382A1.497 1.497 0 0026.358 4h-8.893c-.229 0-.431.042-.625.125z"}))};const uu=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{d:"M30.982 7.593A1.06 1.06 0 0030 6.938H20a1.063 1.063 0 000 2.125h7.435L17 19.496l-5.249-5.248a1.063 1.063 0 00-1.502 0l-9 9A1.062 1.062 0 102.75 24.75L11 16.503l5.249 5.248a1.063 1.063 0 001.502 0l11.186-11.186V18a1.063 1.063 0 002.125 0V8a1.06 1.06 0 00-.08-.407z"}))};var du=n(789809);const hu={marginTop:"-0.1875rem",width:"1rem",height:"1rem"},mu=()=>{const e=l.createElement(lu.Z,{"aria-hidden":!0,style:hu}),[t,n]=(0,f.QF)("myWishlistHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.zx,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},pu=()=>{const e=l.createElement(cu,{"aria-hidden":!0,style:hu}),[t,n]=(0,f.QF)("dealsAndSpecialsHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.J2,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},gu=()=>{const e=l.createElement(uu,{"aria-hidden":!0,style:hu}),[t,n]=(0,f.QF)("trendingGamesHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.Wk,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},fu=()=>{const e=l.createElement(du.Z,{"aria-hidden":!0,style:hu}),[t,n]=(0,f.QF)("homePageBrowseAllGamesButtonLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.n5,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},vu=()=>{const e=l.createElement(du.Z,{"aria-hidden":!0,style:hu}),[t,n]=(0,f.QF)("gamePassHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.v5,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},_u=()=>l.createElement(x.EM,{className:"QuickLinks-module__buttonContainer___WLGwK"},l.createElement(mu,null),l.createElement(pu,null),l.createElement(gu,null),l.createElement(vu,null),l.createElement(fu,null));const yu=e=>{let{searchResult:t}=e;let n=t.description;return t.description.length>225&&(n=`${t.description.substring(0,225)} ...`),l.createElement("div",{className:"SearchResult-module__resultWrapper___Xnr2T"},l.createElement(c.k,{href:t.url,as:"a",buttonType:u.L$.Tertiary,className:"SearchResult-module__result___mnqfi"},l.createElement("p",{className:"SearchResult-module__title___cBdxh"},t.title),l.createElement("p",{className:"SearchResult-module__description___yl6ss"},n),l.createElement("p",{className:"SearchResult-module__url___Fiuhf"},t.url)))};const bu=e=>{let{searchResults:t}=e;return l.createElement("div",{className:"SearchResultList-module__searchGrid___8Jq6r"},t.map(((e,t)=>l.createElement(yu,{searchResult:e,key:t}))))};const Cu=e=>{const{ctaLabel:t,ctaUrl:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement("div",{className:"Spotlight-module__desktopContainer___0ci90"},l.createElement("div",{className:"Spotlight-module__desktopImagePane___4ca3T"},l.createElement("img",{alt:r,className:"Spotlight-module__desktopImage___Vccus",src:o}),l.createElement("div",{className:"Spotlight-module__desktopScrim___J4KEB"})),l.createElement("div",{className:"Spotlight-module__desktopTextPane___jYFTl"},l.createElement("section",{className:"Spotlight-module__description___9jsHd"},l.createElement("header",{className:s()(P.d7,"Spotlight-module__desktopTitle___GWcsS")},i),l.createElement("span",{className:s()(P.af,"Spotlight-module__desktopSubtitle___e7Xzw")},a),l.createElement(U,{label:t,url:null!==n&&void 0!==n?n:"#"}))))},Eu=e=>{const{ctaLabel:t,ctaUrl:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(l.Fragment,null,l.createElement("div",{className:"Spotlight-module__portraitContainer___zEJi5"},l.createElement(x.Ee,{alt:null!==r&&void 0!==r?r:i,className:"Spotlight-module__portraitImage___AIkQu",height:860,src:o,width:860}),l.createElement("div",{className:"Spotlight-module__portraitScrim___u0U0p"}),l.createElement("section",{className:"Spotlight-module__portraitDescription___Ooa9E"},l.createElement("header",{className:s()(P.zO,"Spotlight-module__portraitTitle___8PJwh")},i),l.createElement("span",{className:s()(P.ZN,"Spotlight-module__portraitSubtitle___1ldMw")},a),l.createElement(U,{label:t,url:null!==n&&void 0!==n?n:"#"}))))},Su=e=>{var t,n,r;const{properties:o}=e,a=o.ctaProperties,i=(0,gc.m)(a),s=(0,x.Wp)({desktopComponent:Cu,mobilePortraitComponent:Eu,mobileLandscapeComponent:Cu});if(!o.imageUrl||!o.title)return null;const c={ctaLabel:null!==(t=o.ctaLabel)&&void 0!==t?t:"",ctaUrl:i,imageUrl:null!==(n=o.imageUrl)&&void 0!==n?n:"",imageAltText:o.imageAltText,subtitle:null!==(r=o.subtitle)&&void 0!==r?r:"",title:o.title};return s?l.createElement(s,C()({},c)):null};var Tu="StackFilters-module__button___DhtUo",wu="StackFilters-module__buttonContainer___yoawp",Iu="StackFilters-module__text___StjKO";const ku=e=>{var t;const{selectedFiltersIds:n,filters:r}=e,[o,a]=(0,f.QF)("browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel"),i=(0,co.k6)(),d=[];for(const[s,c]of Object.entries(n)){const e=c.map((e=>e.toUpperCase())),n=null===(t=r[s])||void 0===t?void 0:t.choices.filter((t=>e.includes(t.id.toUpperCase())));n&&n.map((e=>{s.toUpperCase()!==T.dq&&d.push(l.createElement(Au,{filterId:s,choiceId:e.id,choiceTitle:e.title}))}))}return d.length>0?l.createElement("div",{className:"StackFilters-module__container___yKM42"},l.createElement("div",{className:wu},l.createElement(c.k,{as:"button","aria-label":a,buttonType:u.L$.Tertiary,className:s()(Tu,P.Km,Iu),onClick:()=>{const e=(0,Z.nS)(i.location);(0,Z.uh)(i,e,!0)}},o)),l.createElement(l.Fragment,null,d)):null},Au=e=>{const{filterId:t,choiceId:n,choiceTitle:r}=e,o=(0,co.k6)(),a=(0,f.iV)("browsePageClearFilterFunction"),i=(0,g.WUZ)(a,r);return l.createElement("div",{className:wu},l.createElement(c.k,{as:"button","aria-label":i,buttonType:u.L$.Tertiary,className:s()(Tu,P.Km,Iu),onClick:()=>((e,t)=>{const n=(0,Z.z1)(e,t,(0,Z._B)(o.location));(0,Z.uh)(o,n,!0)})(mn.vA[t],n)},l.createElement(he,{"aria-hidden":!0}),l.createElement("span",{className:"StackFilters-module__filterText___tmWQ0"},r)))},Pu=e=>{const t=(0,x.Wp)({desktopComponent:ku,mobilePortraitComponent:void 0,mobileLandscapeComponent:void 0});return t?l.createElement(t,C()({},e)):null},xu=e=>{const t=(0,v.useSelector)((t=>(0,Sn.Zj)(t,e.pageType))),n=(0,co.k6)(),r=(0,Z.e1)(n.location);return l.createElement(Ec.LceRenderer,{key:`StackFilter_${e.pageType}`,data:t,renderContent:e=>l.createElement(Pu,{selectedFiltersIds:r,filters:e.data})})};const Ru=e=>{let{gamerTag:t,className:n,gamerPic:r,gamerPicSize:o}=e;const a=(0,f.UD)("gamerPicAltText"),i=(0,f.UD)("applyFlowAccountWelcomeTitle",[t]);return l.createElement("div",{className:s()("GamerPicWithGamerTag-module__gamerPicWithGamerTagContainer___5nJMD",n)},l.createElement(Ui.pp,{"aria-label":a,src:r,size:null!==o&&void 0!==o?o:Ui.nh.Large,className:"GamerPicWithGamerTag-module__gamerPicContainer___InnM5"}),l.createElement("div",{className:"GamerPicWithGamerTag-module__gamerTag___40FQO"},i))};var Nu=n(705808);const Ou="launchContentModal",Lu="launchContentModalEvent";var Mu;!function(e){e.XboxCardApplyModal="xboxcardapplymodal"}(Mu||(Mu={}));const Uu=e=>{let{gamerTag:t}=e;const n=(0,f.UD)("applyFlowAccountSwitchButtonText"),r=(0,f.UD)("applyFlowAccountSwitchTitle",[t]),o=(0,g.UDx)(),a=new URL(o),i=-1!==o.toLocaleLowerCase().indexOf("/apply"),c=(0,g.$wQ)(),u=new URLSearchParams(a.search);i||(u.set(Ou,Mu.XboxCardApplyModal),a.search=u.toString());const d={areaName:"XboxCardApplyHost",contentType:S.zc.Link,contentName:"Xbox card apply switch account",id:"xboxCardApplyUserSwitchAccount"},h=c(a.toString(),{prompt:"select_account"});return l.createElement("div",{className:"XboxCardApply-module__switchAccountBlock___fqUJZ"},l.createElement("span",{className:P.gC},r),l.createElement("a",C()({"aria-label":n,className:s()(P.gC,"XboxCardApply-module__changeAccountLink___bbNtn"),href:h},(0,S.iZ)(d)),n))},Du=e=>{let{hideSwitchAccount:t,applyFullPageRender:n,applyFullPageConsoleRender:r,onKeyDown:o,channelName:a,referrerId:i,onClose:c}=e;const u=(0,v.useSelector)(E.bG),d=(0,v.useSelector)(E.c1),h=null!==d&&void 0!==d?d:u,m=null===h||void 0===h?void 0:h.gamerPicUrl,p=null===h||void 0===h?void 0:h.gamerTag;return l.createElement(x.W2,{className:s()("xgp-reset-style","XboxCardApply-module__applyContainer___BonYH"),onKeyDown:o},l.createElement(x.W2,{className:"XboxCardApply-module__contentContainer___cFqa-"},l.createElement(x.W2,{className:"XboxCardApply-module__accountContainer___JTyBI"},!!p&&l.createElement(Ru,{gamerPic:m,gamerTag:p,className:"XboxCardApply-module__heroContainer___3sN5n"}),!t&&!!p&&l.createElement(Uu,{gamerTag:p})),l.createElement(Nu.r,{channelName:a,containerClassName:"XboxCardApply-module__pidlContainer___GMrgR",referrerId:i,onClose:c,nonConsoleFullPageRender:n,consoleFullPageRender:r})))},Bu=e=>{const{applyFullPageConsoleRender:t}=e,n=(0,v.useDispatch)(),r=new URLSearchParams((0,co.TH)().search),o=r.get("t");o&&"dark"===o.toLowerCase()&&n(g.uQd.setTheme(g.Q2A.Dark));const a=r.get("channelname"),i=r.get("referrerid");return l.createElement(x.SV,null,(()=>l.createElement(x.Wv,null,l.createElement(Du,{hideSwitchAccount:t,channelName:null!==a&&void 0!==a?a:T.at,referrerId:null!==i&&void 0!==i?i:T.XB,applyFullPageRender:!t,applyFullPageConsoleRender:t}))))};const Fu=e=>{let{onClose:t,showModal:n,hideClose:r,children:o}=e;const a=(0,v.useSelector)(E.bG),i=(0,f.UD)("applyModalAccessibilityLabel");return a?l.createElement(x.u_,{className:"XboxCardApplyModal-module__modalContent___WI4rp",show:n,fullscreenOnMobile:!0,ariaLabel:i,closeable:!r,closeButtonClassName:"XboxCardApplyModal-module__closeButton___UqRQM",closeContainerClassName:"XboxCardApplyModal-module__closeContainer___WqaLB",onCloseBtnClick:t,onHide:()=>{},overlayClassName:"XboxCardApplyModal-module__applyModalOverlay___BNzOM"},l.createElement(x.u_.Body,{className:"XboxCardApplyModal-module__applyModalBody___x190R"},o)):null};var Hu=n(106490);const qu=`${T.IG} _IPageRequestUtils`},589083:(e,t,n)=>{"use strict";var r,o,a,i,s,l,c,u,d,h,m;n.d(t,{S8:()=>a,eN:()=>r,vm:()=>v.vm,m9:()=>o,ky:()=>i,UA:()=>m,Y$:()=>s,Ug:()=>v.Ug,nj:()=>d,oo:()=>u,E2:()=>v.E2,Zr:()=>v.Zr,px:()=>f,BQ:()=>h,qY:()=>p,Vn:()=>_}),function(e){e.None="None",e.Authorized="Authorized",e.Linked="Linked"}(r||(r={})),function(e){e.Success="Success",e.AlreadyLinked="AlreadyLinked",e.TokenMissing="TokenMissing",e.PartnerLinkedToAnotherXboxAccount="PartnerLinkedToAnotherXboxAccount",e.XboxLinkedToAnotherPartnerAccount="XboxLinkedToAnotherPartnerAccount",e.Error="Error"}(o||(o={})),function(e){e.Ubisoft="Ubisoft"}(a||(a={})),function(e){e.XboxOne="XboxOne",e.XboxOneS="XboxOneS",e.XboxOneSDigital="XboxOneSDigital",e.XboxOneX="XboxOneX",e.XboxOneXDevKit="XboxOneXDevKit",e.XboxSeriesS="XboxSeriesS",e.XboxSeriesX="XboxSeriesX",e.XboxSeriesXDevKit="XboxSeriesXDevKit",e.Other="Other"}(i||(i={})),function(e){e.Unknown="Unknown",e.ConnectedStandby="ConnectedStandby",e.On="On",e.Off="Off",e.SystemUpdate="SystemUpdate"}(s||(s={})),function(e){e.Unknown="Unknown",e.Playing="Playing",e.Paused="Paused",e.Stopped="Stopped"}(l||(l={})),function(e){e.OK="OK",e.AccountNotFound="AccountNotFound",e.XboxNotPaired="XboxNotPaired",e.NullContext="NullContext",e.MissingAuthHeader="MissingAuthHeader",e.InvalidAuthHeader="InvalidAuthHeader",e.InvalidAuthScheme="InvalidAuthScheme",e.InvalidRequest="InvalidRequest",e.InvalidRequestPayload="InvalidRequestPayload",e.InvalidUserToken="InvalidUserToken",e.UserTokenExpired="UserTokenExpired",e.UnsupportedDeviceTypeClaim="UnsupportedDeviceTypeClaim",e.MissingXuidClaim="MissingXuidClaim",e.InvalidProxyToken="InvalidProxyToken",e.MissingPuidClaim="MissingPuidClaim",e.InvalidXToken="InvalidXToken",e.InvalidListType="InvalidListType",e.InvalidSkillPlatform="InvalidSkillPlatform",e.ErrorGettingDDSS2SToken="ErrorGettingDDSS2SToken",e.ErrorGettingCCSS2SToken="ErrorGettingCCSS2SToken",e.ErrorGettingCCSPermissionTicket="ErrorGettingCCSPermissionTicket",e.ErrorCallingCCS="ErrorCallingCCS",e.ErrorCallingAlexaEventGateway="ErrorCallingAlexaEventGateway",e.UserDataNotFound="UserDataNotFound",e.OperationNotFound="OperationNotFound",e.MissingDeviceId="MissingDeviceId",e.MissingGamerData="MissingGamerData",e.MissingPuid="MissingPuid",e.MissingXuid="MissingXuid",e.MissingDigitalAssistantRemoteControlEnabledFlag="MissingDigitalAssistantRemoteControlEnabledFlag",e.MissingConsoleStreamingEnabledFlag="MissingConsoleStreamingEnabledFlag",e.MissingRemoteManagementEnabledFlag="MissingRemoteManagementEnabledFlag",e.MissingWnsChannelUri="MissingWnsChannelUri",e.MissingOpId="MissingOpId",e.ErrorGettingWNSS2SToken="ErrorGettingWNSS2SToken",e.ErrorCallingWNS="ErrorCallingWNS",e.NotImplemented="NotImplemented",e.XboxDataNotFound="XboxDataNotFound",e.ApplicationNotInstalled="ApplicationNotInstalled",e.ErrorCallingXboxLive="ErrorCallingXboxLive",e.InvalidXboxOsVersion="InvalidXboxOsVersion",e.InternalError="InternalError",e.FriendNotFound="FriendNotFound",e.TvChannelNotFound="TvChannelNotFound",e.TvChannelFallback="TvChannelFallback",e.DigitalAssistantRemoteControlDisabled="DigitalAssistantRemoteControlDisabled",e.ConsoleStreamingDisabled="ConsoleStreamingDisabled",e.RemoteManagementDisabled="RemoteManagementDisabled",e.InvalidRefreshToken="InvalidRefreshToken",e.InvalidAuthToken="InvalidAuthToken",e.ErrorWNSTempDisconnected="ErrorWNSTempDisconnected",e.MissingPuidHeader="MissingPuidHeader",e.MissingXuidHeader="MissingXuidHeader",e.MissingPrincipal="MissingPrincipal",e.MissingServiceId="MissingServiceId",e.InvalidServiceId="InvalidServiceId",e.ServiceIdNotAllowed="ServiceIdNotAllowed",e.Timeout="Timeout",e.CurrentConsoleNotFound="CurrentConsoleNotFound",e.OperationUnauthorized="OperationUnauthorized",e.MobileEndpointNotFound="MobileEndpointNotFound",e.RegisteredClientNotFound="RegisteredClientNotFound",e.UnsupportedPlatform="UnsupportedPlatform",e.ContactSharingNotAllowed="ContactSharingNotAllowed",e.XboxPowerOff="XboxPowerOff",e.XboxSystemUpdate="XboxSystemUpdate",e.DefaultOrStaleData="DefaultOrStaleData",e.InstallQueueNotFound="InstallQueueNotFound",e.InstallQueueEmpty="InstallQueueEmpty",e.ThrottledTryAgain="ThrottledTryAgain"}(c||(c={})),function(e){e.Paused="Paused",e.Error="OffConsoleError",e.Pending="Pending",e.TimedOut="TimedOut",e.ConsoleError="Error",e.Succeeded="Succeeded"}(u||(u={})),function(e){e.Pending="Pending",e.Success="Success",e.Error="Error"}(d||(d={})),function(e){e.Left="Left",e.Right="Right"}(h||(h={})),function(e){e.ProductId="ProductId",e.CollectionId="CollectionId",e.Link="Link"}(m||(m={}));var p,g,f,v=n(902455);!function(e){e.Private="Private",e.Public="Public"}(p||(p={})),function(e){e.Friends="Friends",e.Everyone="Everyone",e.Blocked="Blocked"}(g||(g={})),function(e){e.Allow="Allow",e.Block="Block"}(f||(f={}));const _=[f.Allow,f.Block];g.Everyone,g.Friends,g.Blocked},902455:(e,t,n)=>{"use strict";var r,o,a;n.d(t,{E2:()=>i,Ug:()=>o,Zr:()=>r,vm:()=>a}),function(e){e.Acquisition="Acquisition",e.AccountLink="AccountLink",e.Buy="Buy",e.BuyToOwn="BuyToOwn",e.Cart="Cart",e.CloudPlay="CloudPlay",e.EditionSelector="EditionSelector",e.Extend="Extend",e.Get="Get",e.Gift="Gift",e.Install="Install",e.Join="Join",e.Manage="Manage",e.NotSoldSeparately="NotSoldSeparately",e.OpenInStore="OpenInStore",e.RedeemACode="RedeemACode",e.Remove="Remove",e.SkuSelector="SkuSelector",e.Trial="Trial",e.Upsell="Upsell",e.View="View",e.Wishlist="Wishlist"}(r||(r={})),function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.MobileStickyHeader=2]="MobileStickyHeader",e[e.Overflow=3]="Overflow",e[e.CondensedDesktop=4]="CondensedDesktop",e[e.CondensedMobile=5]="CondensedMobile"}(o||(o={})),function(e){e[e.PDP=0]="PDP",e[e.PDPPageBar=1]="PDPPageBar",e[e.ContextualStore=2]="ContextualStore"}(a||(a={}));const i={[r.CloudPlay]:800,[r.Manage]:801,[r.AccountLink]:850,[r.Install]:900,[r.Extend]:901,[r.Upsell]:1e3,[r.NotSoldSeparately]:1050,[r.Acquisition]:1100,[r.BuyToOwn]:1200,PrimaryActionPriorityCutoff:1200,[r.OpenInStore]:1201,[r.SkuSelector]:1250,[r.EditionSelector]:1300,[r.Trial]:1350,[r.Wishlist]:1400,[r.Cart]:1450,[r.Gift]:1500,[r.RedeemACode]:1600}},696896:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,a:()=>r});var r,o=n(687040),a=n(148152);!function(e){e.GET_PRODUCT_DETAIL_START="@contextualStore/GET_PRODUCT_DETAIL_START",e.GET_PRODUCT_DETAIL_COMPLETE="@contextualStore/GET_PRODUCT_DETAIL_COMPLETE",e.GET_PRODUCT_DETAIL_ERROR="@contextualStore/GET_PRODUCT_DETAIL_ERROR",e.GET_BROWSE_PAGE_START="@contextualStore/GET_BROWSE_PAGE_START",e.GET_BROWSE_PAGE_COMPLETE="@contextualStore/GET_BROWSE_PAGE_COMPLETE",e.GET_BROWSE_PAGE_ERROR="@contextualStore/GET_BROWSE_PAGE_ERROR",e.GET_MORE_BROWSE_PAGE_START="@contextualStore/GET_MORE_BROWSE_PAGE_START",e.GET_MORE_BROWSE_PAGE_COMPLETE="@contextualStore/GET_MORE_BROWSE_PAGE_COMPLETE",e.GET_MORE_BROWSE_PAGE_ERROR="@contextualStore/GET_MORE_BROWSE_PAGE_ERROR",e.PURCHASE_COMPLETE="@contextualStore/PURCHASE_COMPLETE"}(r||(r={}));const i={getProductDetailById:(0,a.K)(o.s.ContextualStore,r.GET_PRODUCT_DETAIL_START,((e,t)=>({productId:e,onFailure:t})),r.GET_PRODUCT_DETAIL_COMPLETE,(e=>({productId:e})),r.GET_PRODUCT_DETAIL_ERROR,((e,t)=>({error:e,productId:t}))),getBrowsePageDataById:(0,a.K)(o.s.ContextualStore,r.GET_BROWSE_PAGE_START,((e,t,n,r)=>({productId:e,itemType:t,channelKey:n,onFailure:r})),r.GET_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),getMoreBrowsePageData:(0,a.K)(o.s.ContextualStore,r.GET_MORE_BROWSE_PAGE_START,((e,t,n,r,o,a)=>({productId:e,itemType:t,channelKey:n,continuationToken:r,onFailure:o,onSuccess:a})),r.GET_MORE_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_MORE_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),purchaseComplete:(0,a.t)(r.PURCHASE_COMPLETE,o.s.ContextualStore,(e=>({productId:e})))}},148152:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,t:()=>i});var r=n(316216),o=n(118689);const a=(0,r.Krg)(o.IG),i=(0,r.mqE)(o.IG)},291081:(e,t,n)=>{"use strict";n.d(t,{K:()=>r.K,t:()=>r.t});var r=n(148152)},455240:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,w:()=>i});var r,o=n(687040),a=n(291081);!function(e){e.FETCH_DEVICES="@installActions/FETCH_DEVICES",e.FETCH_DEVICES_SUCCESS="@installActions/FETCH_DEVICES_SUCCESS",e.FETCH_DEVICES_ERROR="@installActions/FETCH_DEVICES_ERROR",e.QUEUE_INSTALL="@installActions/QUEUE_INSTALL",e.QUEUE_INSTALL_SUCCESS="@installActions/QUEUE_INSTALL_SUCCESS",e.QUEUE_INSTALL_ERROR="@installActions/QUEUE_INSTALL_ERROR",e.UPDATE_OPERATION_STATUS="@installActions/UPDATE_OPERATION_STATUS",e.CLEAR_OPERATION_STATUS="@installActions/CLEAR_OPERATION_STATUS"}(r||(r={}));const i={fetchDevices:(0,a.K)(o.s.Install,r.FETCH_DEVICES,(()=>({type:r.FETCH_DEVICES})),r.FETCH_DEVICES_SUCCESS,((e,t)=>({type:r.FETCH_DEVICES_SUCCESS,xboxDevices:e,pcDevices:t})),r.FETCH_DEVICES_ERROR,(e=>({type:r.FETCH_DEVICES_ERROR,error:e}))),queueInstall:(0,a.K)(o.s.Install,r.QUEUE_INSTALL,((e,t,n)=>({type:r.QUEUE_INSTALL,deviceId:e,productIds:t,isPcDevice:n})),r.QUEUE_INSTALL_SUCCESS,(e=>({type:r.QUEUE_INSTALL_SUCCESS,operationId:e})),r.QUEUE_INSTALL_ERROR,((e,t,n)=>({type:r.QUEUE_INSTALL_ERROR,error:e,deviceId:t,productIds:n}))),updateOperationStatus:(0,a.t)(r.UPDATE_OPERATION_STATUS,o.s.Install,((e,t)=>({type:r.UPDATE_OPERATION_STATUS,operation:e,newOperationStatus:t}))),clearOperationStatus:(0,a.t)(r.CLEAR_OPERATION_STATUS,o.s.Install,(e=>({type:r.CLEAR_OPERATION_STATUS,operation:e})))}},497860:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,S:()=>i});var r,o=n(687040),a=n(291081);!function(e){e.ADD_TO_CART_START="@scds/ADD_TO_CART_START",e.ADD_TO_CART_SUCCESS="@scds/ADD_TO_CART_SUCCESS",e.ADD_TO_CART_ERROR="@scds/ADD_TO_CART_ERROR",e.UPDATE_CART="@scds/UPDATE_CART",e.FETCH_VECTOR_ID_START="@scds/FETCH_VECTOR_ID_START",e.FETCH_VECTOR_ID_SUCCESS="@scds/FETCH_VECTOR_ID_SUCCESS",e.FETCH_VECTOR_ID_ERROR="@scds/FETCH_VECTOR_ID_ERROR",e.CLEAR_VECTOR_ID="@scds/CLEAR_VECTOR_ID"}(r||(r={}));const i={addToCart:(0,a.K)(o.s.StoreCartService,r.ADD_TO_CART_START,((e,t,n)=>({itemsToAdd:e,onSuccess:t,onFailure:n})),r.ADD_TO_CART_SUCCESS,(e=>({itemsToAdd:e})),r.ADD_TO_CART_ERROR,((e,t,n)=>({itemsToAdd:e,failureReasons:t,error:n}))),updateCart:(0,a.t)(r.UPDATE_CART,o.s.StoreCartService,(e=>({lineItems:e}))),fetchVectorId:(0,a.K)(o.s.StoreCartService,r.FETCH_VECTOR_ID_START,(()=>{}),r.FETCH_VECTOR_ID_SUCCESS,(e=>({vectorId:e})),r.FETCH_VECTOR_ID_ERROR,(e=>({error:e}))),clearVectorId:(0,a.t)(r.CLEAR_VECTOR_ID,o.s.StoreCartService,(()=>({})))}},553535:(e,t,n)=>{"use strict";n.d(t,{tt:()=>r,ao:()=>s.a,c$:()=>_,WA:()=>l.W,F6:()=>h,sX:()=>o.s,$K:()=>y.$,VC:()=>i,z2:()=>u,LA:()=>d,D0:()=>x.D0,Uo:()=>x.Uo,cg:()=>x.cg,Iv:()=>s.I,l:()=>b,tG:()=>a.t,KN:()=>a.K,b3:()=>T,Hg:()=>w,YA:()=>I,EK:()=>x.EK,kK:()=>x.kK,Nx:()=>D.Nx,xP:()=>D.xP,ut:()=>H.u,_c:()=>R,Me:()=>N.Me,tR:()=>A,Zj:()=>x.Zj,Ie:()=>D.Ie,ik:()=>N.ik,GK:()=>H.G,AY:()=>D.AY,RY:()=>D.RY,bE:()=>P,zF:()=>D.zF,h$:()=>D.h$,mr:()=>D.mr,D:()=>N.D,zk:()=>L,FJ:()=>U,_L:()=>D._L,j0:()=>D.j0,I9:()=>D.I9,th:()=>D.th,L2:()=>D.L2,NP:()=>D.NP,Zi:()=>B,Gb:()=>F,Lu:()=>D.Lu,pM:()=>D.pM,Z5:()=>G,Hj:()=>N.Hj,wx:()=>l.w,bX:()=>p,xN:()=>g,s8:()=>f,ZT:()=>c.ZT,Ng:()=>c.Ng,F4:()=>v,SA:()=>y.S,fm:()=>x.fm});var r,o=n(687040),a=n(291081);!function(e){e.SISU_FLOW_START="@accountLink/SISU_FLOW_START",e.SISU_FLOW_COMPLETE="@accountLink/SISU_FLOW_COMPLETE",e.SISU_FLOW_ERROR="@accountLink/SISU_FLOW_ERROR",e.GET_LINK_STATUS_START="@accountLink/GET_LINK_STATUS_START",e.GET_LINK_STATUS_COMPLETE="@accountLink/GET_LINK_STATUS_COMPLETE",e.GET_LINK_STATUS_ERROR="@accountLink/GET_LINK_STATUS_ERROR",e.COMPLETE_LINK_START="@accountLink/COMPLETE_LINK_START",e.COMPLETE_LINK_COMPLETE="@accountLink/COMPLETE_LINK_COMPLETE",e.COMPLETE_LINK_ERROR="@accountLink/COMPLETE_LINK_ERROR",e.COMPLETE_LINK_RESET="@accountLink/COMPLETE_LINK_RESET"}(r||(r={}));const i={SISUFlow:(0,a.K)(o.s.AccountLink,r.SISU_FLOW_START,(e=>({networkName:e})),r.SISU_FLOW_COMPLETE,(e=>({networkName:e})),r.SISU_FLOW_ERROR,((e,t)=>({error:t,networkName:e}))),getLinkStatus:(0,a.K)(o.s.AccountLink,r.GET_LINK_STATUS_START,(e=>({networkName:e})),r.GET_LINK_STATUS_COMPLETE,((e,t,n)=>({networkName:e,status:t,userName:n})),r.GET_LINK_STATUS_ERROR,((e,t)=>({error:t,networkName:e}))),completeLink:(0,a.K)(o.s.AccountLink,r.COMPLETE_LINK_START,(e=>({networkName:e})),r.COMPLETE_LINK_COMPLETE,((e,t)=>({networkName:e,result:t})),r.COMPLETE_LINK_ERROR,((e,t)=>({error:t,networkName:e}))),completeLinkReset:(0,a.t)(r.COMPLETE_LINK_RESET,o.s.AccountLink,(e=>({networkName:e})))};var s=n(696896),l=n(455240),c=n(770398);const u=c.Mb.additionalInformationActions,d=c.Mb.availabilitySummaryActions;var h,m=n(148152);!function(e){e.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT="@productActions/CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT",e.FETCH_PRODUCT_ACTIONS="@productActions/FETCH_PRODUCT_ACTIONS",e.FETCH_PRODUCT_ACTIONS_SUCCESS="@productActions/FETCH_PRODUCT_ACTIONS_SUCCESS",e.FETCH_PRODUCT_ACTIONS_ERROR="@productActions/FETCH_PRODUCT_ACTIONS_ERROR",e.UPDATE_PRODUCT_ACTIONS="@productActions/UPDATE_PRODUCT_ACTIONS"}(h||(h={}));const p={clearProductActionsForProduct:(0,m.t)(h.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT,o.s.ProductActions,(e=>({productId:e}))),updateProductActions:(0,m.t)(h.UPDATE_PRODUCT_ACTIONS,o.s.ProductActions,(e=>({productActions:e}))),fetchProductActions:(0,m.K)(o.s.ProductActions,h.FETCH_PRODUCT_ACTIONS,(e=>({type:h.FETCH_PRODUCT_ACTIONS,productId:e})),h.FETCH_PRODUCT_ACTIONS_SUCCESS,((e,t)=>({type:h.FETCH_PRODUCT_ACTIONS_SUCCESS,data:e,productId:t})),h.FETCH_PRODUCT_ACTIONS_ERROR,((e,t)=>({type:h.FETCH_PRODUCT_ACTIONS_ERROR,error:e,productId:t})))},g=c.Mb.productInfoActions,f=c.Mb.productSummaryActions,v=c.Mb.skuSummaryActions;var _,y=n(497860);!function(e){e.GET_DEFAULT_WISHLISTS_START="@wishlist/GET_DEFAULT_WISHLIST_START",e.ADD_WISHLIST_ITEM_START="@wishlist/ADD_WISHLIST_ITEM_START",e.ADD_WISHLIST_ITEM_COMPLETE="@wishlist/ADD_WISHLIST_ITEM_COMPLETE",e.ADD_WISHLIST_ITEM_ERROR="@wishlist/ADD_WISHLIST_ITEM_ERROR",e.REMOVE_WISHLIST_ITEM_START="@wishlist/REMOVE_WISHLIST_ITEM_START",e.REMOVE_WISHLIST_ITEM_COMPLETE="@wishlist/REMOVE_WISHLIST_ITEM_COMPLETE",e.REMOVE_WISHLIST_ITEM_ERROR="@wishlist/REMOVE_WISHLIST_ITEM_ERROR",e.SAVE_WISHLIST_SETTINGS_START="@wishlist/SAVE_SETTINGS_START",e.SAVE_WISHLIST_SETTINGS_COMPLETE="@wishlist/SAVE_SETTINGS_COMPLETE",e.SAVE_WISHLIST_SETTINGS_ERROR="@wishlist/SAVE_SETTINGS_ERROR"}(_||(_={}));const b={getDefaultWishlist:(0,m.t)(_.GET_DEFAULT_WISHLISTS_START,o.s.Wishlist,(e=>({onError:e}))),addWishListItem:(0,m.K)(o.s.Wishlist,_.ADD_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),_.ADD_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),_.ADD_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),removeWishListItem:(0,m.K)(o.s.Wishlist,_.REMOVE_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),_.REMOVE_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),_.REMOVE_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),saveWishlistSettings:(0,m.K)(o.s.Wishlist,_.SAVE_WISHLIST_SETTINGS_START,((e,t,n,r)=>({wishListId:n,settingsState:r,onSuccess:e,onFailure:t})),_.SAVE_WISHLIST_SETTINGS_COMPLETE,((e,t)=>({wishListId:e,settingsState:t})),_.SAVE_WISHLIST_SETTINGS_ERROR,((e,t)=>({wishListId:t,error:e})))};var C=n(416109),E=n(12986),S=n(464561);const{entitlementActions:T,entitlementReducer:w,entitlementSagas:I,entitlementSelectors:k}=(0,C.So)(E.IG,(e=>(0,S.fg)(e).entitlements)),A=k.getEntitlementByProductId,P=k.getOwnershipOrSatisfactionByProductId;var x=n(834848);const R=(e,t)=>{var n;return null===(n=(0,S.ac)(e)[t])||void 0===n?void 0:n.continuationToken};var N=n(168174),O=n(821883);const L=(e,t)=>(0,S.pJ)(e).privacySettingsData[t]||(0,O.lceNotRequested)();var M=n(316216);const U=(e,t)=>(e=>(0,S.fg)(e).productActions)(e)[(0,M.kgH)(t)];var D=n(60861);const B=(e,t)=>(0,S.pJ)(e).safetySettingsData[t]||(0,O.lceNotRequested)();n(464925),n(654819);const F=(e,t)=>(0,S.BN)(e)[t];var H=n(906785),q=(n(748166),n(426464),n(945162),n(118689));const G=(e,t)=>{let n=t;return t===q.Z0&&(n=(e=>(0,S.xB)(e).defaultWishlistId)(e)||n),(0,S.xB)(e).wishlists[n]}},834848:(e,t,n)=>{"use strict";n.d(t,{D0:()=>i,D3:()=>m,EK:()=>p,Uo:()=>s,V4:()=>d,Zj:()=>v,cg:()=>l,fm:()=>u,kK:()=>g,wX:()=>h});var r=n(175500),o=n(12986),a=n(464561);const{channelsActions:i,channelsReducers:s,channelsSelectors:l,channelsHooks:c}=(0,r.Vb)(o.IG,a.iJ),u=c.useChannelName,d=l.getChannelByChannelKey,h=(l.getChannelMetadata,l.getLCEChannelByChannelKey),m=(l.getLibraryLCEChannel,l.getChannelProductIdentifiersByChannelProductKey),{filtersActions:p,filtersReducers:g,filtersSelectors:f}=(l.getChannelName,l.getChannelLocalizationKey,l.getChannelMetadataLCEByChannelId,l.getChannelVanityName,(0,r.m1)(o.IG,a.GC)),v=f.getFilters;f.getSortInfo},770398:(e,t,n)=>{"use strict";n.d(t,{Mb:()=>i,Ng:()=>c,ZT:()=>s,tu:()=>l});var r=n(612502),o=n(12986),a=n(464561);const{productsActions:i,productsReducers:s,productsSelectors:l,productsSagas:c,productsHooks:u}=(0,r.CQ)(o.IG,a.fg)},687040:(e,t,n)=>{"use strict";var r;n.d(t,{s:()=>r}),function(e){e.AccountLink="AccountLink",e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ContextualStore="ContextualStore",e.Entitlement="Entitlement",e.Filters="Filters",e.Install="Install",e.Layout="Layout ",e.ProductActions="ProductActions",e.ProductSummary="ProductSummary",e.ServiceErrorMessage="ServiceErrorMessage",e.SkuSummary="SkuSummary",e.StoreCartService="StoreCartService",e.Wishlist="Wishlist",e.ProductInfo="ProductInfo",e.Search="Search",e.UserSettings="UserSettings"}(r||(r={}))},168174:(e,t,n)=>{"use strict";n.d(t,{D:()=>i,Hj:()=>s,Me:()=>l,ik:()=>c});n(748166),n(426464),n(945162);var r=n(821883),o=n(316216),a=n(464561);const i=e=>(0,a.fA)(e).devices.pcDevices,s=e=>(0,a.fA)(e).devices.xboxDevices,l=(e,t)=>{const n=i(e);if((0,r.isContent)(n)){const e=n.data.find((e=>(0,o.Ypc)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}const a=s(e);if((0,r.isContent)(a)){const e=a.data.find((e=>(0,o.Ypc)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}return""},c=(e,t)=>(0,a.fA)(e).installOperationsByProductId[t]},60861:(e,t,n)=>{"use strict";n.d(t,{AY:()=>i,I9:()=>c,Ie:()=>p,L2:()=>y,Lu:()=>s,NP:()=>u,Nx:()=>l,RY:()=>g,_L:()=>h,h$:()=>f,j0:()=>m,mr:()=>_,pM:()=>o,th:()=>a,xP:()=>d,zF:()=>v});var r=n(770398);r.tu.getProductSummaryState;const o=r.tu.getSkuSummaryState,a=(r.tu.getAvailabilitySummaryState,r.tu.getAdditionalInformationState,r.tu.productSummarySelectors.getProductSummary),i=r.tu.productSummarySelectors.getLanguageSupportDetail,s=r.tu.productSummarySelectors.getShowSupportedLanguageDisclaimer,l=r.tu.productSummarySelectors.getAchievementSummary,c=r.tu.productSummarySelectors.getProductIsComingSoon,u=(r.tu.skuSummarySelectors.getSkuIdsByProductId,r.tu.skuSummarySelectors.getSkuSummary,r.tu.skuSummarySelectors.getSkuSummariesByProductId,r.tu.skuSummarySelectors.getSkuSummaryStateForProductId,r.tu.getPurchasableSkuSummariesWithDetailByProductId),d=(r.tu.availabilitySummarySelectors.getAvailabilitySummary,r.tu.availabilitySummarySelectors.getAvailabilitySummariesByProductId),h=(r.tu.availabilitySummarySelectors.getAvailabilitySummariesByProductSkuId,r.tu.additionalInformationSelectors.getProductAdditionalInformation),m=r.tu.productInfoMetadataSelectors.getProductInfoMetadata,p=(r.tu.productSummaryInfoSelectors.getFullOptimalProductSummaryInfo,r.tu.productSummaryInfoSelectors.getFullOptimalProductSummaryInfos,r.tu.productSummaryInfoSelectors.getFullProductSummaryInfo),g=(r.tu.productSummaryInfoSelectors.getFullProductSummaryInfos,r.tu.productSummaryInfoSelectors.getNullableProductSummaryInfo),f=(r.tu.productSummaryInfoSelectors.getNullableProductSummaryInfos,r.tu.productSummaryInfoSelectors.getPartialOptimalProductSummaryInfo,r.tu.productSummaryInfoSelectors.getPartialOptimalProductSummaryInfos,r.tu.productSummaryInfoSelectors.getPartialProductSummaryInfosWithOptimalAndPreferredFallbacks),v=r.tu.productSummaryInfoSelectors.getPartialProductSummaryInfoWithOptimalAndPreferredFallbacks,_=r.tu.productSummaryInfoSelectors.getPartialPurchasableProductSummaryInfoWithOptimalAndPreferredFallbacks,y=r.tu.productSummaryInfoSelectors.getProductSummaryInfo},464561:(e,t,n)=>{"use strict";n.d(t,{BN:()=>h,GC:()=>m,KJ:()=>i,ac:()=>d,fA:()=>s,fg:()=>l,iJ:()=>u,pJ:()=>p,xB:()=>c});n(477950),n(94908);var r=n(316216),o=n(118689);const a=e=>(0,r.Qij)(e,o.IG),i=e=>a(e).cart,s=e=>a(e).install,l=e=>a(e).products,c=e=>a(e).wishlist,u=e=>a(e).channels,d=e=>a(e).contextualStore,h=e=>a(e).searchPromotions,m=e=>a(e).filters,p=e=>a(e).userSettings},906785:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,u:()=>i});n(748166),n(426464),n(945162);var r=n(316216),o=n(464561);const a=(e,t,n,a)=>!!(0,o.KJ)(e).lineItems.find((e=>e&&(0,r.kgH)(e.productId)===(0,r.kgH)(t)&&(0,r.kgH)(e.skuId)===(0,r.kgH)(n)&&(0,r.kgH)(e.availabilityId)===(0,r.kgH)(a))),i=e=>(0,o.KJ)(e).vectorId},106490:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});n(606710),n(231235);var r=n(316216),o=n(122799),a=n(612502),i=n(12986);var s;!function(e){e.trackGameInterest=(e,r)=>t()?!!n(e)&&(s(e)?(r.verbose("trackGameInterest:Success"),!0):(r.error("trackGameInterest:Storage Failed"),!1)):(r.warn("trackGameInterest:No Storage"),!1),e.getGameInterest=e=>{if(!t())return void e.warn("getGameInterest:No Storage");const n=localStorage.getItem(i.uZ);if(null===n||""===n)return void e.warn("getGameInterest:Empty Storage");let r;try{r=JSON.parse(n)}catch(a){return void e.error("getGameInterest:Parse Error",(0,o.toError)(a))}if(void 0===r.productId||void 0===r.visitTime)return void e.error("getGameInterest:Schema Error");if(!(Math.abs((new Date).getTime()-r.visitTime)>=432e6))return e.verbose("getGameInterest:Success"),r.productId;e.warn("getGameInterest:Expired")};const t=()=>!(0,r.NT7)()&&(void 0!==window.consentCheckRequired&&void 0!==window.xbcUser&&(!window.consentCheckRequired||window.xbcUser.consentState.consentState.advertising)),n=e=>!a.gS.includes(e.toUpperCase()),s=e=>{const t={productId:e,visitTime:(new Date).getTime()};try{return localStorage.setItem(i.uZ,JSON.stringify(t)),!0}catch(n){return!1}}}(s||(s={}))},873288:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var r=n(412524),o=n.n(r),a=n(202784),i=n(353513);const s=e=>{let{show:t=!0}=e;return a.createElement(i.u_,{className:"LoadingPageOverlay-module__loadingDialog___ApR3f",show:t},a.createElement(i.u_.Body,{className:o()((0,i.W0)("padding","all",0))},a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},a.createElement(i.dj,null))))}},7372:(e,t,n)=>{"use strict";n.d(t,{Y0:()=>r,bp:()=>a,qZ:()=>o});const r="XboxCom",o="STORE-HOME",a="xboxcomct"},316844:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>y,GX:()=>s,Ii:()=>m,Ij:()=>b,KH:()=>f,Lw:()=>u,Mc:()=>p,Sb:()=>E,Vt:()=>T,Xf:()=>C,ZH:()=>_,_m:()=>i,cY:()=>o,eV:()=>S,gB:()=>h,hB:()=>g,i9:()=>k,mI:()=>l,nh:()=>v,oU:()=>I,uz:()=>d,w6:()=>a,x$:()=>w,xE:()=>A,yp:()=>c});n(571372);var r=n(316216);n(474495);const o="https://www.microsoft.com/{locale}/store/cart",a="https://www.microsoft.com/store/onerf/signin?EEL=False&pcexp=True&ru={returnUrl}",i="https://support.microsoft.com/{0}/account-billing/4ed126a4-5d46-413f-a28e-968bd4414a80",s="https://aka.ms/AAaqyo9",l="https://aka.ms/AA52irh",c="https://aka.ms/AAaqyop",u="https://xbox.com/photosensitive-seizure-warning",d="productDetails/{productId}",h="search",m="search/{tabKey}",p="library",g=()=>window.location.origin||r.V9f,f=e=>(0,r.uQr)("family/memberXuid({xuid})",{xuid:e}),v=(e,t)=>`${t?`/${t}`:""}/user/settings/privacy-and-safety${e?`/${e}`:""}`,_="https://social.xbox.com/changegamertag",y="https://account.live.com/Password/Change",b="http://go.microsoft.com/fwlink/?LinkID=532885",C="https://family.microsoft.com",E="https://account.microsoft.com/devices",S="https://account.microsoft.com/billing/orders",T="https://account.microsoft.com/services/",w="https://support.xbox.com/help/family-online-safety/online-safety/manage-app-privacy-settings-xbox-one",I="https://ratingsedge.rnr.microsoft.com/v1.0/ratingsedge/content/product/{productId}/review/{reviewId}",k="https://apps.apple.com/app/xbox/id736179781",A="https://support.xbox.com/help/hardware-network/getting-started-set-up/complete-setup-in-mobile-app"},910908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ye});n(73439),n(906886);var r=n(213689),o=(n(477950),n(74069),n(316216)),a=n(527256),i=n(107267),s=n(618007),l=n(202784),c=n(353513),u=n(336231);var d=n(8093),h=n(973637),m=(n(888233),n(214121),n(460523),n(474495));const p=e=>{const t=(0,m.useSelector)(o.Yzi),n=(0,i.Gn)("/games/browse/:platformName?",{platformName:e});return new URL(`${t}${n}`,o.V9f).toString()};n(94908);var g,f,v=n(824594),_=n(70637),y=n(602293),b=(n(571372),n(412524)),C=n.n(b),E=n(171315),S=n(387342),T=n(873288);!function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.ErrorRetry=3]="ErrorRetry",e[e.Error=4]="Error"}(g||(g={})),function(e){e.Busy="busyState"}(f||(f={}));const w=e=>{const[t,n]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const t=t=>{var r;if(t.source===(null===(r=e.current)||void 0===r?void 0:r.contentWindow)&&t.data){const e=t.data;e.message===f.Busy&&n(e.isBusy)}};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}),[e,n]),t};var I;n(368995);!function(e){e.ShowCartRetry="ShowCartRetry",e.ShowCheckoutRetry="ShowCheckoutRetry",e.CartFallbackMsCom="CartFallbackMsCom",e.CheckoutFallbackMsCom="CheckoutFallbackMsCom",e.CheckoutSuccessful="CheckoutSuccessful",e.CheckoutError="CheckoutError",e.CartError="CartError"}(I||(I={}));const k=()=>{if(o.xUA.CART_CHECKOUT_TIMEOUT_MSEC){const e=parseInt(o.xUA.CART_CHECKOUT_TIMEOUT_MSEC,10);if(!isNaN(e))return e}return 35e3},A=e=>e===g.Loading||e===g.None,P=(e,t,n,r,o,a)=>{(0,l.useEffect)((()=>{if(A(e)){const e=()=>{t((e=>A(e)?r?(n.logAppAction({action:I.CartFallbackMsCom,pageName:S.GV.Cart}),a(),g.Error):(n.logAppAction({action:I.ShowCartRetry,pageName:S.GV.Cart}),g.ErrorRetry):e))},i=setTimeout(e,o);return()=>{clearTimeout(i)}}}),[r,e,o,t,n,a])};n(385940);var x=n(316844);const R=(e,t)=>{let n=(0,o.uQr)(x.cY,{locale:e});t&&(n=(0,o.uQr)(x.w6,{returnUrl:encodeURIComponent(n)})),window.location.assign(n)},N=async(e,t)=>{let n;try{n=t?(0,E.Wg)(t):await(async e=>{const t=await e.acquireTokenSilently(E.Q7.MDollar);return t?(0,E.Wg)(t):null})(e)}catch(r){n=null}return n};n(136728);var O=n(473410),L=n(703380);const M=(e,t)=>{t.current&&e.height&&(t.current.height=Math.round(e.height+1).toString())},U=e=>{e.url&&("current"===e.targetWindow||"_self"===e.targetWindow?window.location.assign(e.url):window.open(e.url))},D=(e,t,n,r,o,a)=>{(async()=>{if(await t.isAuthenticated())r.push({pathname:"/checkout",search:`?${L.cG.ThemeOverride}=${a.toLocaleLowerCase()}`,state:e});else{const t=new URLSearchParams;t.set(L.nV.orderIds,e.orderIds),e.billingMarket&&t.set(L.nV.billingMarket,e.billingMarket);const r=new URL(window.location.origin);r.pathname=`${o.locale}/checkout`,r.search=t.toString(),((e,t)=>{window.location.assign(e(t))})(n,r.toString())}})()},B=(e,t,n,r,a)=>{const s=(0,o.$wQ)(),c=(0,i.k6)(),u=(0,l.useCallback)((e=>{D(e,t,s,c,n,r)}),[t,s,c,n,r]);(0,l.useEffect)((()=>{const t=(0,O.makeWindowListener)({checkout:e=>{const t={orderIds:e.checkoutOrderId||"",billingMarket:e.billingMarket,navigatedFromCart:!0};u(t)},done:e=>((e,t)=>{"error"===e.status&&t(g.Error)})(e,a),ready:()=>a(g.Loaded),resize:t=>M(t,e),openUrl:U});return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}),[u,e,a])},F=()=>(0,m.useSelector)(o.gzb)===o.Q2A.Light?"#FFFFFFFF":"#FF201f24";var H=n(7372);const q="isAveSuccess",G=async(e,t,n,r,a,i,s,c)=>{const u=(0,m.useSelector)(E.t_),d=F(),h=(0,o.$Ft)().get(o.UVO);(0,l.useEffect)((()=>{const l=(()=>{const e=window.location.href,t=new URL(e);t.searchParams.append(q,"true");const n=new URL(e);return n.searchParams.append(q,"false"),{successUri:t.toString(),failureUri:n.toString()}})(),m=(0,x.hB)();(async()=>{if(!e.current)return;const p=await N(r,u);a.current=!!p;if(!await(0,O.invokeCartInFrame)(e.current,{authToken:"",aveFailureRedirectUrl:l.failureUri,aveSuccessRedirectUrl:l.successUri,clientType:H.Y0,cssOverride:"XboxCom",cV:i.cv().get(),keepShoppingUrl:m,layout:"Inline",pageFormat:"full",locale:t.localeWithScript,market:t.market,theme:n===o.Q2A.Dark?"dark":"light",xToken:p||void 0,productImageBackgroundColorARGB:d,postBusyStateToParent:!0,muid:h,flights:c}))return i.logAppAction({action:I.CartError,pageName:S.GV.Cart}),void s(g.Error);s(g.Loading)})()}),[])},z=e=>{let{frameRef:t,frameName:n,loadState:r}=e;(0,S.Li)(S.uZ.Cart,S.GV.Cart);const o=(0,u.iV)("cartPageTitle"),a=w(t);return l.createElement(c.Wv,null,l.createElement(T.t,{show:a}),l.createElement("iframe",{ref:t,key:n,name:n,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-forms",allow:"payment *",seamless:!0,className:C()("CartPage-module__cartFrame___JYkdn",{[(0,c.al)()]:r!==g.Loaded}),"aria-label":o}))};var X=n(900814),$=n.n(X),V=n(493226);const W=(e,t,n,r,o)=>{(0,l.useEffect)((()=>{const a=(0,V.makeWindowListener)({done:e=>((e,t,n,r,o)=>{switch(e.status){case"success":t.logAppAction({action:I.CheckoutSuccessful,pageName:S.GV.Checkout}),r(!0);break;case"error":t.logAppAction({action:I.CheckoutError,pageName:S.GV.Checkout}),n(g.Error);break;case"cancel":o()}})(e,t,n,r,o),ready:()=>n(g.Loaded),resize:t=>M(t,e),openUrl:U});return window.addEventListener("message",a),()=>{window.removeEventListener("message",a)}}),[o,e,r,n,t])},K=e=>{const t=(e=>{const t=new URL(window.location.href);return t.searchParams.set(L.nV.orderIds,e.orderIds),e.billingMarket?t.searchParams.set(L.nV.billingMarket,e.billingMarket):t.searchParams.delete(L.nV.billingMarket),t})(e),n=`${L.nV.realReturnUrl}={realReturnUrl}`;return t.search=t.search+(t.search?"&":"?")+n,t.toString()},j=async(e,t,n,r,a,i,s,c,u,d)=>{const h=(0,m.useSelector)(E.t_),p=F(),f=(0,o.$Ft)().get(o.UVO),v=(e=>{var t,n;if(!e)return;const r=(null===e||void 0===e?void 0:e.realReturnUrl)?new URL(e.realReturnUrl):void 0;return r&&(null===(t=r.search)||void 0===t?void 0:t.indexOf("?"))>-1?null===(n=null===r||void 0===r?void 0:r.search)||void 0===n?void 0:n.slice(1):void 0})(r);(0,l.useEffect)((()=>{if(!r)return void u();const l=K(r),m=(0,x.hB)();(async()=>{if(!e.current)return;const r=await N(a,h);i.current=!!r;if(!await(0,V.invokeCheckoutInFrame)(e.current,{authToken:"",clientType:H.Y0,cssOverride:"XboxCom",cV:s.cv().get(),keepShoppingUrl:m,layout:"Inline",pageFormat:"full",locale:t.localeWithScript,market:t.market,postBusyStateToParent:!0,productImageBackgroundColorARGB:p,theme:n===o.Q2A.Dark?"dark":"light",xToken:r||void 0,hostRedirectReturnUrlTemplate:l,muid:f,flights:d,queryStringParams:v}))return s.logAppAction({action:I.CheckoutError,pageName:S.GV.Checkout}),void c(g.Error);c(g.Loading)})()}),[])},Y=e=>{let{isPurchaseComplete:t}=e;const{checkoutPageTitle:n,checkoutThankYouPageTitle:r}=(0,u.y_)("checkoutPageTitle","checkoutThankYouPageTitle"),o=t?r:n,a=[c.oo.NoIndex,c.oo.NoFollow];return l.createElement(c.TT,{title:o,robotsMetaTags:a})},Z=e=>{let{frameRef:t,frameName:n,show:r}=e;(0,S.Li)(S.uZ.Checkout,S.GV.Checkout);const o=(0,u.iV)("checkoutPageTitle"),a=w(t);return l.createElement(c.Wv,null,l.createElement(T.t,{show:a}),l.createElement("iframe",{ref:t,key:n,name:n,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-same-origin allow-scripts allow-forms",allow:"payment *",seamless:!0,className:C()("CheckoutPage-module__checkoutFrame___PcKMJ",{[(0,c.al)()]:r}),"aria-label":o}))};var Q=n(62970),J=n(554656),ee=n(50498),te=n(19884),ne=n(231539),re=n(958136),oe=n(445969),ae=n(820892),ie=n(175500);var se=n(4583),le=n(172813),ce=n(192838),ue=n(382885),de=n(202348),he=n(901523);const me=()=>{const e=(0,m.useSelector)(o.Xnf).userAgent,t=new he.LK(e),n=t.isIOS,r=t.isIPadOS,a=t.isAndroid;let s=x.xE;if(n||r)s=x.i9;else if(a)return l.createElement(i.l_,{to:"/XboxSetupAndroid"});return l.createElement(c.Ux,{to:s})};var pe=n(739430),ge=n(380331);const fe={"/store/home":{featureGate:o.vCX.EnableStoreHomePage,redirect:"/games"},"/search/results":{featureGate:o.vCX.EnableNewSearchExperience,redirect:"/search"}},ve=(0,a.tP)((()=>Promise.all([n.e(64580),n.e(58342),n.e(18132)]).then(n.bind(n,656494))),(e=>e.lazyRouteConfigs)),_e=[{key:"Wishlist",path:"/wishlist",component:le.l,exact:!0,seoComponent:ce.D,testConfig:{title:"Wishlist",testPath:"/wishlist"},lazyConfig:ve("Wishlist")},{key:"WishlistWithId",path:`/wishlist/:${o.Hw9.WishlistId}`,component:le.l,exact:!0,seoComponent:ce.n,testConfig:{title:"Wishlist",testPath:"/wishlist/wishlistId"},lazyConfig:ve("WishlistWithId")},{key:"StoreHomePage",path:"/store/home",component:se.q,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableStoreHomePage]:e=>!0===e}},experimentBasedRedirect:fe["/store/home"],testConfig:{title:"Store Home Page",testPath:"/store/home"},lazyConfig:ve("StoreHomePage")},{key:"PrivacyAndSafetySettings",path:`/user/settings/privacy-and-safety/:${o.Hw9.Xuid}?`,component:ne.O,theme:o.Q2A.Light,testConfig:{title:"Privacy and Safety Settings Page",testPath:"/user/settings/privacy-and-safety"}},{key:"ContactPreferencesPage",path:"/user/settings/contact-preferences",component:de.Y,theme:o.Q2A.Light,testConfig:{title:"Contact Preferences Page",testPath:"/user/settings/ContactPreferences"}},{key:"PrivacyAndSafetySettings",path:"/user/settings",component:ne.O,theme:o.Q2A.Dark,testConfig:{title:"Privacy and Safety Settings via old path",testPath:"/user/settings"}},{key:"BrowsePageByCollection",path:`/games/browse/:${o.Hw9.ChannelId}`,component:d.Y,theme:o.Q2A.Light,seoComponent:h.Q,lazyConfig:ve("BrowseCollectionPage"),testConfig:{title:"Browse By Collection Page",testPath:[{path:"/games/browse/New",title:"New games collection"},{path:"/games/browse/TopPaid",title:"Top Paid collection"},{path:"/games/browse/TopFree",title:"Top Free collection"},{path:"/games/browse/BestRated",title:"Best Rated collection"},{path:"/games/browse/based-On-Books",title:"Games Based on books (Campsite) alias"},{path:"/games/browse/CampsiteChannel.Games.Primary.gamesbasedonbooks",title:"Games Based on books (Campsite)"},{path:"/games/browse/CampsiteChannel.Games.Sale.2023.Dealsunlocked0623",title:"Deals Unlocked June 2023 (Campsite)"}]}},{key:"OldBrowsePageRoutes",path:"/browse/games*",component:()=>{const e=(0,i.TH)(),t=e.pathname.toLowerCase().split("/browse/games"),n=`${t[0]}/games/browse${t[1]}${e.search}`;return l.createElement(i.l_,{to:n})},seoComponent:h.Q,testConfig:{title:"Old Browse (Should redirect to new)",testPath:[{path:"/browse/games/New",title:"New games collection"},{path:"/browse/games/New?Genre=Action%20%26%20adventure",title:"Browse all new action & adventure"},{path:"/browse/games?Genre=Action%20%26%20adventure",title:"Browse all action & adventure"}]}},{key:"BrowsePageConsoleGamesNewPath",path:"/games/all-games/console",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesConsoleButtonLabel"),t=p("console");return l.createElement(c.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Console Games Page"},lazyConfig:ve("BrowsePageConsoleGamesNewPath")},{key:"BrowsePagePCGamesNewPath",path:"/games/all-games/pc",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesPCButtonLabel"),t=p("pc");return l.createElement(c.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse PC Games Page"},lazyConfig:ve("BrowsePagePCGamesNewPath")},{key:"BrowsePage",path:"/games/browse",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesModuleTitle"),t=p();return l.createElement(c.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Page",testPath:[{path:"/games/browse",title:"Default browse page"},{path:"/games/browse?Genre=Action%20%26%20adventure",title:"Action & adventure games"}]},lazyConfig:ve("BrowsePage")},{key:"LibraryPage",path:"/games/library",component:te.A,constraint:{featureGates:{[o.vCX.EnableLibraryPage]:e=>!0===e}},testConfig:{title:"Library",testPath:"/games/library"},lazyConfig:ve("LibraryPage")},{key:"RedeemHost",path:"/external/redeem-host",component:ge.D,hideUHF:!0,uhfConfig:{headerMode:o.Grh.Off,footerMode:o.ZOQ.Off},theme:o.Q2A.Dark,exact:!0,constraint:{featureGates:{[o.vCX.EnableGarrisonInlineRedeem]:e=>!0===e}},testConfig:{title:"Redeem Host Test"}},{key:"ContextualStoreHost",path:`/external/contextual-store-host/:${o.Hw9.ProductId}/:${o.Hw9.SkuId}?/:${o.Hw9.AvailabilityId}?`,component:J.f,hideUHF:!0,uhfConfig:{headerMode:o.Grh.Off,footerMode:o.ZOQ.Off},testConfig:{title:"Contextual Store Host",testPath:[{path:"/external/contextual-store-host/91FRV8WPFK4C",title:"Xbox One X 1TB Console"},{path:"/external/contextual-store-host/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/external/contextual-store-host/9pk917v6pncb",title:"Gears 5 - 500 Coins"},{path:"/external/contextual-store-host/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/external/contextual-store-host/9PNLMB2ZW603",title:"Product not found"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2",title:"v2 - Gears 5 (XPA)"},{path:"/external/contextual-store-host/c2b3mcdf0c4l?v=v2",title:"v2 - Silver with Skus"},{path:"/external/contextual-store-host/CFQ7TTC0KHS0?v=v2",title:"v2 - Game Pass Ultimate"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2&exp=Browse&it=Consumable,Durable",title:"v2 Marketplace - Gears 5 (XPA) "}]}},{key:"ContextualStoreModalLauncherTest",path:"/contextualStoreHostLauncherTest",component:ee.G,theme:o.Q2A.Dark,exact:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Contextual Store Modal Launcher Test"}},{key:"BundleBuilderTest",path:"/configure/testProducts",component:y.y,theme:o.Q2A.Dark,exact:!0,enableXboxCart:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Bundle Builder Test Products"}},{key:"BundleBuilder",path:`/configure/:${o.Hw9.ProductId}`,component:v.F,exact:!0,enableXboxCart:!0,seoComponent:_.q,testConfig:{title:"Bundle Builder",testPath:[{path:"/configure/91FRV8WPFK4C",title:"Bundle Builder (Xbox One X)"},{path:"/configure/8S4SFBJC55TL",title:"Bundle Builder (Xbox One S)"},{path:"/configure/8NL3CQSH17X7",title:"Bundle Builder (Xbox One S (the other one))"},{path:"/configure/8WJ714N3RBTL",title:"Bundle Builder (X)"},{path:"/configure/942J774TP9JN",title:"Bundle Builder (S)"},{path:"/configure/8RPM8T9CK0P6",title:"Bundle Builder (New Console)"}]},lazyConfig:ve("BundleBuilder")},{key:"XboxCardApplyHost",path:`/:${o.Hw9.Path}(xbox-mastercard)/apply`,component:ue.O,theme:o.Q2A.Dark,uhfConfig:{headerMode:o.Grh.None,footerMode:o.ZOQ.None},testConfig:{title:"xbox mastercard apply host",testPath:[{path:"/xbox-mastercard/apply",title:"Test Page for External Apply Flow"}]}},{key:"ProductDetailsPage",path:`/games/store/:${o.Hw9.ProductName}/:${o.Hw9.ProductId}/:${o.Hw9.SkuId}?/:${o.Hw9.AvailabilityId}?`,component:re.n,requiresNewRequest:(e,t,n)=>{let r=!0;if(n){const a=(0,i.LX)(t.pathname,{path:e}),s=(0,i.LX)(n.pathname,{path:e});r=!(0,o.Ypc)(null===a||void 0===a?void 0:a.params[o.Hw9.ProductId],null===s||void 0===s?void 0:s.params[o.Hw9.ProductId])}return r},formatPageId:(e,t)=>{var n;return`${t}/${((null===(n=null===e||void 0===e?void 0:e.match)||void 0===n?void 0:n.params[o.Hw9.ProductId])||"").toUpperCase()}`},seoComponent:oe.R,theme:o.Q2A.Dark,lazyConfig:ve("ProductDetailsPage"),testConfig:{title:"PDP",testPath:[{path:"/games/store/Gears-of-War-5/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/games/store/Game-Pass-Ultimate/CFQ7TTC0KHS0",title:"Game Pass Ultimate"},{path:"/games/store/Overcooked-2-Xbox/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/games/store/Overcooked-2-PC/9PGB72NFG5JN",title:"Overcooked 2 (PC)"},{path:"/games/store/Forza-Horizon-4-Ultimate-Bundle/9P513P4MWC71",title:"Forza Horizon 4 Ultimate (Bundle)"},{path:"/games/store/Forza-Horizon-4-Car-Pass-DLC/9MZPP9XXP13L",title:"Forza Horizon 4 Car Pass (DLC)"},{path:"/games/store/Forza-Horizon-4/9PNQKHFLD2WQ",title:"Forza Horizon 4 (No Availability)"},{path:"/games/store/Destiny-2-Silver/c2b3mcdf0c4l",title:"Destiny 2 Silver"},{path:"/games/store/fallout-1st/cfq7ttc0l4dr",title:"Fallout 1st - 3PP & Sku Selector"},{path:"/games/store/ubisoft/CFQ7TTC0QH5H",title:"Ubisoft+"},{path:"/games/store/xbet-testing/9NVKC6TB0MKC",title:"Ubisoft+ - Test Product "},{path:"/games/store/assassins-creed-odyssey/BW9TWC8L4JCS",title:"Assassin's Creed Odyssey"},{path:"/games/store/wheel-of-fortune/BR76VBTV0NK0",title:"Wheel of Fortune"},{path:"/games/store/xbox-game-pass-standard/CFQ7TTC0P85B",title:"Game Pass Standard"},{path:"/games/store/p/9PG495V9BT52/0010",title:"Sonic Frontiers (Mauna Loa Product)"}]}},{key:"Cart",path:"/cart",component:()=>{const e=(0,l.useRef)(null),t=(0,m.useSelector)(o.yWe),n=(0,m.useSelector)(o.gzb),r=(0,l.useRef)(!1),a=(0,E.Tv)(),i=(0,S.Qc)(),s=k(),u=["sc_xboxredirection"],[d,h]=(0,l.useState)(g.None),[p,f]=(0,l.useState)(!1),v=`store-cart-frame_${n}_${p}`;return P(d,h,i,p,s,(()=>{R(t.locale,r.current)})),B(e,a,t,n,h),G(e,t,n,a,r,i,h,u),l.createElement(l.Fragment,null,l.createElement("div",{className:"CartPage-module__cartContainer___zpyiA"},(d===g.Loading||d===g.None)&&l.createElement(c.h2,null),d===g.ErrorRetry&&l.createElement(c.J1,{retryAction:()=>{h(g.None),f(!0)}}),d===g.Error&&l.createElement(c.mf,{error:new Error("Error while loading cart iframe")}),d!==g.Error&&d!==g.ErrorRetry&&l.createElement(z,{frameRef:e,frameName:v,loadState:d})))},exact:!0,enableXboxCart:!0,seoComponent:Q.E},{key:"Checkout",path:"/checkout",component:()=>{const e=(0,l.useRef)(null),t=(0,E.Tv)(),n=(0,l.useRef)(!1),r=(0,S.Qc)(),a=(0,m.useSelector)(o.yWe),s=(0,m.useSelector)(o.gzb),u=(0,m.useDispatch)(),[d,h]=(0,l.useState)(g.None),[p,f]=(0,l.useState)(!1),[v,_]=(0,l.useState)(!1),y=k(),b=(0,i.k6)(),C=(()=>{const e=(0,i.TH)(),t=e.state,n=new URLSearchParams(e.search),[r,a,s]=(0,o.$E$)(n,L.nV.orderIds,L.nV.billingMarket,L.nV.realReturnUrl),c=(0,l.useRef)();if(null===c||void 0===c?void 0:c.current)return c.current;const u={orderId:(null===t||void 0===t?void 0:t.orderIds)||(null===r||void 0===r?void 0:r.value),billingMarket:(null===t||void 0===t?void 0:t.billingMarket)||(null===a||void 0===a?void 0:a.value),realReturnUrl:null===s||void 0===s?void 0:s.value,navigatedFromCart:!!(null===t||void 0===t?void 0:t.navigatedFromCart)},{orderId:d}=u,h=d?$()($()({},u),{},{orderIds:d}):void 0;if(c.current=h||null,window.history&&window.history.replaceState){const e=new URL(window.location.href);e.search="",window.history.replaceState({},"",e.toString())}return h})(),T=["sc_xboxredirection"],w=()=>((e,t)=>{t.replace({pathname:"/cart"})})(a.locale,b),I=`store-checkout-frame_${s}_${p}`;return(0,l.useEffect)((()=>(u(o.j4h.setHeaderMode(o.Grh.Minimal)),()=>{u(o.j4h.resetHeaderMode())})),[u]),P(d,h,r,p,y,(()=>{R(a.locale,n.current)})),W(e,r,h,_,w),j(e,a,s,C,t,n,r,h,w,T),l.createElement(l.Fragment,null,l.createElement(Y,{isPurchaseComplete:v}),l.createElement("div",{className:"CheckoutPage-module__checkoutContainer___V21dl"},(d===g.Loading||d===g.None)&&l.createElement(c.h2,null),d===g.ErrorRetry&&l.createElement(c.J1,{retryAction:()=>{h(g.None),f(!0)}}),d===g.Error&&l.createElement(c.mf,{error:new Error("Error while loading checkout iframe")}),d!==g.Error&&d!==g.ErrorRetry&&l.createElement(Z,{frameRef:e,frameName:I,show:d===g.Loading||d===g.None})))},exact:!0,enableXboxCart:!0,seoComponent:null},{key:"SearchPage",path:`/search/results/:${o.Hw9.TabName}?`,component:ae.Z,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableNewSearchExperience]:e=>!0===e}},experimentBasedRedirect:fe["/search/results"],formatPageId:(e,t)=>`${t}/search/results`,seoComponent:()=>{const e=(0,i.TH)(),t=(0,ie.mZ)((0,r.EV)(L.nV.searchQuery,e)),n=(0,u.UD)("searchTitleNoCount",{queryParam:t}),o=[c.oo.NoIndex,c.oo.NoFollow];return l.createElement(c.TT,{title:n,robotsMetaTags:o})},lazyConfig:ve("SearchPage"),testConfig:{title:"Search",testPath:[{title:"Halo",path:"/search/results?q=halo"},{title:"Forza",path:"/search/results?q=forza"},{title:"Forza Addons < $5",path:"/search/results/Addons?q=forza&Price=0.01To5"},{title:"Xbox",path:"/search/results?q=xbox"},{title:"Gears 5",path:"/search/results?q=gears%205"},{title:"Gears 5 Addons(Case Insensitive)",path:"/search/results/aDdoNS?q=gears%205"}]}},{key:"AccountLinkStart",path:`/connect/:${o.Hw9.NetworkName}(ubisoft)/start-link`,component:s.t,exact:!0,seoComponent:()=>{const e=(0,u.UD)("accountLinkStartTitle"),t=[c.oo.NoIndex,c.oo.NoFollow];return l.createElement(c.TT,{title:e,robotsMetaTags:t})},lazyConfig:ve("AccountLinkStart"),theme:o.Q2A.Dark,testConfig:{title:"Ubisoft link start",testPath:"/connect/ubisoft/start-link"}},{key:"AccountLinkComplete",path:`/connect/:${o.Hw9.NetworkName}(ubisoft)/complete-link`,component:s.g,exact:!0,seoComponent:()=>{const e=(0,u.UD)("accountLinkCompleteTitle"),t=[c.oo.NoIndex,c.oo.NoFollow];return l.createElement(c.TT,{title:e,robotsMetaTags:t})},theme:o.Q2A.Dark,testConfig:{title:"Ubisoft link complete",testPath:"/connect/ubisoft/complete-link"},lazyConfig:ve("AccountLinkComplete")},{key:"XboxSetupRedirect",path:"/XboxSetupRedirect",component:me,exact:!0,constraint:{featureGates:{[o.vCX.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},testConfig:{title:"Xbox redirect page based on the user agent",testPath:"/XboxSetupRedirect"}},{key:"XboxSetupAndroid",path:"/XboxSetupAndroid",component:pe.d,exact:!0,constraint:{featureGates:{[o.vCX.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},theme:o.Q2A.Dark,testConfig:{title:"Xbox setup android page",testPath:"/XboxSetupAndroid"}}],ye={partnerId:r.IGD,routes:_e,registerDependencies:e=>{e.registerLazy(r.ibq,(async()=>{const{PageRequestUtils:e}=await Promise.all([n.e(64580),n.e(58342),n.e(18132)]).then(n.bind(n,163023));return new e}))},redirectExperimentsConfiguration:fe,lazyConfig:()=>Promise.all([n.e(64580),n.e(58342),n.e(18132)]).then(n.bind(n,901375))}},336231:(e,t,n)=>{"use strict";n.d(t,{QF:()=>i,UD:()=>s,iV:()=>a,po:()=>c,y_:()=>l});n(906886);var r=n(213689),o=n(316216);const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return(0,o.iNM)(e,r.IGD,...n)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.WD1)(r.IGD,...t)};function s(e,t){return(0,o.FL2)(r.IGD,e,t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.s8U)(r.IGD,...t)}function c(e){return(0,o.XY5)(r.IGD,e)}},618007:(e,t,n)=>{"use strict";n.d(t,{g:()=>c,t:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(7014).then(n.bind(n,662893))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 662893}}),c=(0,s.cx)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(7014).then(n.bind(n,623574))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 623574}})},973637:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"BrowsePageByCollection",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,n.e(89425).then(n.bind(n,222873))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 222873}})},8093:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"BrowsePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(99383),n.e(20070)]).then(n.bind(n,338385))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 338385}})},70637:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(73563),n.e(73931),n.e(33111),n.e(41279)]).then(n.bind(n,556597))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 556597}})},824594:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(73563),n.e(73931),n.e(33111),n.e(41279)]).then(n.bind(n,738628))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 738628}})},602293:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"BundleBuilderTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(73931),n.e(24478),n.e(85536)]).then(n.bind(n,424478))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 424478}})},62970:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"CartPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,n.e(49263).then(n.bind(n,635050))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 635050}})},202348:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContactPreferencesPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(34166),n.e(130)]).then(n.bind(n,832014))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 832014}})},554656:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContextualStoreHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(2893).then(n.bind(n,236507))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 236507}})},50498:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContextualStoreModalLauncherTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(48549).then(n.bind(n,216015))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 216015}})},19884:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"LibraryPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(99383),n.e(20070)]).then(n.bind(n,752622))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 752622}})},231539:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"PrivacyAndSafetySettingsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(70736),n.e(29650)]).then(n.bind(n,470736))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 470736}})},445969:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(85565),n.e(34166),n.e(99383),n.e(25264)]).then(n.bind(n,108963))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 108963}})},958136:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(34166),n.e(99383),n.e(25264)]).then(n.bind(n,649551))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 649551}})},380331:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"RedeemHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(74531)]).then(n.bind(n,740143))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 740143}})},820892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"SearchPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(99383),n.e(20070)]).then(n.bind(n,342123))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 342123}})},4583:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"StoreHomePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(34166),n.e(99383),n.e(25264)]).then(n.bind(n,767572))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 767572}})},192838:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,n:()=>u});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(59062),n.e(85023)]).then(n.bind(n,509341))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 509341}}),u=(0,s.hx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(59062),n.e(85023)]).then(n.bind(n,72379))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 72379}})},172813:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(59062),n.e(85023)]).then(n.bind(n,696483))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 696483}})},382885:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"XboxCardApplyHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(2786).then(n.bind(n,853642))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 853642}})},739430:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"XboxSetupAndroidPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(64949).then(n.bind(n,161034))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 161034}})},979790:(e,t,n)=>{"use strict";n.d(t,{dl:()=>d,Qi:()=>h,F7:()=>p,SV:()=>m,oT:()=>u,$L:()=>g,J:()=>i,U6:()=>s,G5:()=>c,$7:()=>l});n(477950),n(888233),n(385940),n(906886),n(460523);var r=n(208318),o=n(603522);const a=n.p+"static/media/manifest-icon-dev-192.4331cb2a.png";var i,s,l,c,u,d,h,m,p,g,f=n(499829);!function(e){e.name="Developer Tools",e.path=`${r.ny}/dev-tools`,e.getLink=function(){return e.path},e.pwaOverrides={start_url:e.path,name:"Developer Tools",short_name:"Developer Tools",icons:[{src:a,sizes:"192x192",type:"image/png",purpose:"any"},{src:f,sizes:"512x512",type:"image/png",purpose:"any"}]}}(i||(i={})),function(e){let t;e.name="Developer Tools - Sign In",e.path=`${i.path}/signin`,function(e){e.redirectUrl=o.R4.redirectUrl,e.sandboxId=o.R4.Auth.Sandbox.id}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n,r){const o=new URLSearchParams;return o.set(t.redirectUrl,n),r&&o.set(t.sandboxId,r),`${e.path}?${o.toString()}`},e.pwaOverrides=i.pwaOverrides}(s||(s={})),function(e){e.name="Developer Tools - Console Selection",e.path=`${i.path}/direct-connect`,e.getLink=function(){return e.path},e.pwaOverrides=i.pwaOverrides}(l||(l={})),function(e){let t;!function(e){e.serverId=":serverId"}(t=e.PathParams||(e.PathParams={})),e.name="Developer Tools - Direct Connect",e.path=`${l.path}/${e.PathParams.serverId}`,e.getLink=function(t){return e.path.replace(e.PathParams.serverId,encodeURIComponent(t))},e.pwaOverrides=i.pwaOverrides}(c||(c={})),function(e){e.name="Developer Tools - Offering Selection",e.path=`${i.path}/select-offering`,e.getLink=function(){return e.path}}(u||(u={})),function(e){e.name="Developer Tools - Configure Ip Connect",e.path=`${i.path}/ip-connect`,e.getLink=function(){return e.path},e.pwaOverrides=i.pwaOverrides}(d||(d={})),function(e){let t;!function(e){e.ipAddress=o.R4.Session.ipAddress,e.secureWebsocketsMode=o.R4.Session.secureWebsocketsMode}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Ip Connect",e.path=`${d.path}/launch`,e.getLink=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new URLSearchParams;n&&i.set(t.ipAddress,n),a&&i.set(o.R4.StreamClient.streamType,"0"),i.set(t.secureWebsocketsMode,r);const s=i.toString();return s?`${e.path}?${s}`:e.path},e.pwaOverrides=i.pwaOverrides}(h||(h={})),function(e){let t;!function(e){e.devkitRedeemCode=o.R4.Session.devkitRedeemCode,e.devkitDisableAutoJoin=o.R4.Session.devkitDisableAutoJoin,e.devkitHost=o.R4.Session.devkitHost}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Redeem",e.path=`${i.path}/redeem`,e.getLink=function(n,r,o){const a=new URLSearchParams;return n&&a.set(t.devkitRedeemCode,n),r&&a.set(t.devkitDisableAutoJoin,"true"),o&&a.set(t.devkitHost,o),`${e.path}?${a.toString()}`},e.pwaOverrides=i.pwaOverrides}(m||(m={})),function(e){let t;!function(e){e.devkitRedeemCode=o.R4.Session.devkitRedeemCode,e.devkitHost=o.R4.Session.devkitHost}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Managed Devkit",e.path=`${i.path}/devkit/launch`,e.getLink=function(n,r){const o=new URLSearchParams;return o.set(t.devkitRedeemCode,n),r&&o.set(t.devkitHost,r),`${e.path}?${o.toString()}`},e.pwaOverrides=i.pwaOverrides}(p||(p={})),function(e){let t;!function(e){e.source="overrideDevSettings.source"}(t=e.QueryStrings||(e.QueryStrings={})),e.consentSessionStorageKey="overrideDevSettings.consentReceived",e.name="Developer Tools - Override Developer Settings",e.path=`${i.path}/overrideDevSettings`,e.getLink=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.path,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new URLSearchParams,o=arguments.length>2?arguments[2]:void 0;return r.set(t.source,n),`${e.path}?${r.toString()}${null!==o&&void 0!==o?o:""}`},e.pwaOverrides=i.pwaOverrides}(g||(g={}))},607896:(e,t,n)=>{"use strict";var r;n.d(t,{y:()=>r}),function(e){e.CollectUserEmail="CollectUserEmail",e.LogEvents="LogEvents",e.ShowNotStartedRocket="ShowNotStartedRocket",e.EnableInternalFeedback="EnableInternalFeedback",e.EnableLegacyPurchaseFlow="EnableLegacyPurchaseFlow",e.HideBetaReferences="HideBetaReferences",e.EnableProvisioningQueueUX="EnableProvisioningQueueUX",e.EnableDisconnectWarning="EnableDisconnectWarning",e.EnableLowerMaxBufferLimit="EnableLowerMaxBufferLimit",e.StatsEventFrequencySec="StatsEventFrequencySec",e.StatsCollectionSizeSec="StatsCollectionSizeSec",e.NumberOfStatsEventsToStore="NumberOfStatsEventsToStore",e.StringifyStatUponCollect="StringifyStatUponCollect",e.Remove78FPSHack="Remove78FPSHack",e.EnableMouseAndKeyboard="EnableMouseAndKeyboard",e.EnableAbsoluteMouse="EnableAbsoluteMouse",e.DisableHudAutoCollapse="DisableHudAutoCollapse",e.EnableVibration="EnableVibration",e.EnableVibrationTizen="EnableVibrationTizen",e.UseWebCodecsByDefault="UseWebCodecsByDefault",e.VideoLatencyPreset="VideoLatencyPreset",e.SetCodecPreferences="SetCodecPreferences",e.EnableIAPBrowseExperience="EnableIAPBrowseExperience",e.UseTizenH264MainSdpHack="UseTizenH264MainSdpHack",e.InputChannelMaxVersion="InputChannelMaxVersion",e.IgnoreServiceConfig="IgnoreServiceConfig",e.EnableSimpleFeedbackV2="EnableSimpleFeedbackV2",e.DisableNotificationBanner="DisableNotificationBanner",e.ForceInputModality="ForceInputModality",e.EnableClosedCaptions="EnableClosedCaptions",e.EnableNexusTeachingTip="EnableNexusTeachingTip",e.EnableMicToggleForTV="EnableMicToggleForTV",e.AutoFullscreenPersist="AutoFullscreenPersist",e.EnableClientGuideInStream="EnableClientGuideInStream",e.EnableAAPAddFriendStream="EnableAAPAddFriendStream",e.EnableAAPMultiplayerTitle="EnableAAPMultiplayerTitle",e.EnableAAPScreenTimeStream="EnableAAPScreenTimeStream",e.MinProvisioningAdDisplay="MinProvisioningAdDisplay",e.MaxProvisioningAdWait="MaxProvisioningAdWait",e.EnableSensorInput="EnableSensorInput",e.SensorInputPollingRateInHz="SensorInputPollingRateInHz",e.EnableTakHighContrastMode="EnableTakHighContrastMode",e.EnableUserGestureDialog="EnableUserGestureDialog",e.EnableManagedDevFeedback="EnableManagedDevFeedback",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableContextualStoreVNext="EnableContextualStoreVNext",e.EnableUseRetryAfterHeader="EnableUseRetryAfterHeader",e.EnableAFDFootprintTracker="EnableAFDFootprintTracker",e.AFDTrackerCooldown="AFDTrackerCooldown",e.EnableOpenEndedGameInvites="EnableOpenEndedGameInvites",e.EnableParties="EnableParties",e.EnableStateShareTcui="EnableStateShareTcui",e.EnableXSTHLogs="EnableXSTHLogs",e.EnableStoreRedeem="EnableStoreRedeem",e.EnableTakControlResizing="EnableTakControlResizing",e.EnableTakJoystickControls="EnableTakJoystickControls",e.EnableUpdateRequiredPage="EnableUpdateRequiredPage",e.DisableXboxSplashVideo="DisableXboxSplashVideo",e.EnableFireOSLunaHandling="EnableFireOSLunaHandling",e.MuteXboxSplashVideo="MuteXboxSplashVideo",e.EnableNetQualityIndicator="EnableNetQualityIndicator",e.EnableStreamStatistics="EnableStreamStatistics",e.EnableClientRenderedCursor="EnableClientRenderedCursor",e.EnableXESurveys="EnableXESurveys",e.EnableTitleActivation="EnableTitleActivation",e.EnableRemotePlay="EnableRemotePlay"}(r||(r={}))},868998:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"InitializeSinglePageApplication",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(59325),n.e(71796),n.e(12148)]).then(n.bind(n,975598))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 975598}})},183043:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513);const l=(0,s.cx)({resolved:{},chunkName:()=>"web-manifest-component",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(50953),n.e(84927)]).then(n.bind(n,235369))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 235369}})},236601:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(589971),l=n(353513);const c=(0,l.cx)({resolved:{},chunkName:()=>"play-root-component",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.LB)(Promise.all([n.e(86907),n.e(13606),n.e(12702),n.e(59325),n.e(85349),n.e(51649),n.e(83559),n.e(50953),n.e(71796),n.e(79313),n.e(47884),n.e(32021),n.e(34194),n.e(87748),n.e(37186),n.e(7215),n.e(23627),n.e(9771),n.e(76931),n.e(33214),n.e(14727),n.e(11477)]).then(n.bind(n,564772))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 564772}})},604609:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});n(477950),n(94908);var r=n(552322),o=n(107267),a=n(905653);function i(){const{search:e,hash:t}=(0,o.TH)();return(0,r.jsx)(o.l_,{to:`${a.Home.getLink()}${e}${t}`})}},672054:(e,t,n)=>{"use strict";var r;n.d(t,{b:()=>r}),function(e){e.XCloud="XCloud",e.XHomeDevKit="XHomeDevKit",e.SignedInToXbox="SignedInToXbox",e.PrivateOffering="PrivateOffering",e.Public="Public",e.ManagedDevkit="ManagedDevkit",e.IpConnect="IpConnect",e.DeveloperPublic="DeveloperPublic"}(r||(r={}))},260523:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r,o=n(900814),a=n.n(o),i=n(316216);!function(e){e.EnableExternalGuide="EnableExternalGuide",e.EnableNHPMocking="EnableNHPMocking",e.EnableNHP="EnableNHP",e.EnableOverrideDevSettings="EnableOverrideDevSettings"}(r||(r={}));var s,l=n(607896);!function(e){e.InternalUser="InternalUser",e.IsTakehomeUser="IsTakehomeUser",e.IsInsiderUser="IsInsiderUser",e.MinimumChromiumVersion="MinimumChromiumVersion",e.AdditionalSupportedMarkets="AdditionalSupportedMarkets",e.UnsupportedMarkets="UnsupportedMarkets",e.BlockedOfferings="BlockedOfferings",e.OverrideIsXGPUSubscriber="OverrideIsXGPUSubscriber",e.OverrideDefaultOffering="OverrideDefaultOffering",e.PwaPrompt="PwaPrompt",e.EnableLegacyPurchaseFlow="EnableLegacyPurchaseFlow",e.HideBetaReferences="HideBetaReferences",e.DisablePlayAudioOnSilent="DisablePlayAudioOnSilent",e.EnableStreamGate="EnableStreamGate",e.EnableWifiWarnings="EnableWifiWarnings",e.EnableTitleHubMru="EnableTitleHubMru",e.EnableFriendsAndFollowers="EnableFriendsAndFollowers",e.EnableMutualFriendsDevMode="EnableMutualFriendsDevMode",e.EnableOneTrust="EnableOneTrust",e.EnableCarouselAds="EnableCarouselAds",e.CarouselAdsPlacementId="CarouselAdsPlacementId",e.ProvisioningAdsPlacementId="ProvisioningAdsPlacementId",e.EnableProvisioningAds="EnableProvisioningAds",e.EnableProvAdsForChild="EnableProvAdsForChild",e.EnableProvAdsForXGPU="EnableProvAdsForXGPU",e.EnableGuideHomeTab="EnableGuideHomeTab",e.EnableGuideChatTab="EnableGuideChatTab",e.EnableGuideNotifications="EnableGuideNotifications",e.EnableGuideProfileTab="EnableGuideProfileTab",e.EnableIpConnect="EnableIpConnect",e.BypassXHomeDevKitCheck="BypassXHomeDevKitCheck",e.EnableMediaEngagement="EnableMediaEngagement",e.EnableMediaPlayOnWeb="EnableMediaPlayOnWeb",e.EnableFreeToPlay="EnableFreeToPlay",e.EnableF2PPostPlayUpsell="EnableF2PPostPlayUpsell",e.F2PPostPlayUpsellCooldown="F2PPostPlayUpsellCooldown",e.EnableShareStatePrototype="EnableShareStatePrototype",e.EnableServiceWorker="EnableServiceWorker",e.EnableQuickResumeMenu="EnableQuickResumeMenu",e.EnableUserStorageMenu="EnableUserStorageMenu",e.DisableMicUnsupportedModal="DisableMicUnsupportedModal",e.ShowFortniteInPopularRow="ShowFortniteInPopularRow",e.ShowFreeToPlaySiglRow="ShowFreeToPlaySiglRow",e.EnableTelemetryAutoCapture="EnableTelemetryAutoCapture",e.EnableQuadMotorOriginTrial="EnableQuadMotorOriginTrial",e.ShowMouseKeyboardSetting="ShowMouseKeyboardSetting",e.ShowSensorsSetting="ShowSensorsSetting",e.TrackRecoverableReactError="TrackRecoverableReactError",e.EnablePartiesDevMode="EnablePartiesDevMode",e.EnableAchievements="EnableAchievements",e.EnableTvLayerHint="EnableTvLayerHint",e.EnableSentryTracing="EnableSentryTracing",e.EnableUserGestureDialog="EnableUserGestureDialog",e.EnableAskAParentAddFriend="EnableAskAParentAddFriend",e.EnableAskAParentScreenTime="EnableAskAParentScreenTime",e.EnableAskAParentContent="EnableAskAParentContent",e.EnableXSearch="EnableXSearch",e.EnableAppleDeobfuscation="EnableAppleDeobfuscation",e.EnablePresenceHeartbeat="EnablePresenceHeartbeat",e.EnableGameInvites="EnableGameInvites",e.UseLocalOriginInviteLinks="UseLocalOriginInviteLinks",e.EnableBrowserWarnings="EnableBrowserWarnings",e.GSSVAuthRoutingService="GSSVAuthRoutingService",e.EnableChatImageUpload="EnableChatImageUpload",e.EnableChatGifUpload="EnableChatGifUpload",e.EnableNonstandardGamepad="EnableNonstandardGamepad",e.EnableHomeContextMenu="EnableHomeContextMenu",e.EnableUsePrivacyRTAEvents="EnableUsePrivacyRTAEvents",e.CarouselAutoRotateMs="CarouselAutoRotateMs",e.CheckTitleGamepadSupport="CheckTitleGamepadSupport",e.EnablePDPGallery="EnablePDPGallery",e.HideTrailers="HideTrailers",e.EnableInGameVolumeControl="EnableInGameVolumeControl",e.EnableAudioDeviceSelection="EnableAudioDeviceSelection",e.ShowHomeStarfieldSpotlight="ShowHomeStarfieldSpotlight",e.EnableTrellis="EnableTrellis",e.EnableUsbGuidance="EnableUsbGuidance",e.ShowForzaSpotlight="ShowForzaSpotlight",e.ForceShowPrivacyDialog="ForceShowPrivacyDialog",e.EnableStateShareRedeem="EnableStateShareRedeem",e.EnableStateShareTcui="EnableStateShareTcui",e.DefaultPlayFabTitleId="DefaultPlayFabTitleId",e.EnableAccs="EnableAccs",e.EnableAccsParties="EnableAccsParties",e.EnableLibrary="EnableLibrary",e.EnableXdsPlayground="EnableXdsPlayground",e.EnableOfferingInput="EnableOfferingInput",e.EnableLanguageSelector="EnableLanguageSelector",e.EnableOpenGameInviteRedeem="EnableOpenGameInviteRedeem",e.TransformFireOSGamepads="TransformFireOSGamepads",e.EnableWebViewCheck="EnableWebViewCheck",e.EnableFireOSVersionCheck="EnableFireOSVersionCheck",e.EnableCAccs="EnableCAccs",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableBYOG="EnableBYOG",e.EnableBYOGPurchase="EnableBYOGPurchase",e.EnableTvAutoSignOut="EnableTvAutoSignOut",e.EnableRealNameSharing="EnableRealNameSharing",e.EnableTVOnboardingPageV5="EnableTVOnboardingPageV5",e.EnableLazyLoadedHome="EnableLazyLoadedHome",e.RandomizeEntitlementQuery="RandomizeEntitlementQuery",e.EnableLeavingDate="EnableLeavingDate",e.EnableChangeGamertag="EnableChangeGamertag",e.EnableChangeGamertagDev="EnableChangeGamertagDev",e.EnableWebOSInAppPairing="EnableWebOSInAppPairing"}(s||(s={}));const c=a()(a()(a()(a()({},l.y),s),i.vCX),r)},773930:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(552322),o=n(445595),a=n(353513),i=(n(906886),n(202784));const s=e=>{let{delay:t,children:n}=e;const[o,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=setTimeout((()=>a(!0)),t);return()=>{clearTimeout(e)}})),o?(0,r.jsx)(r.Fragment,{children:n}):null};const l=e=>(0,o.ZP)(e,{fallback:(0,r.jsx)(s,{delay:50,children:(0,r.jsx)("div",{className:"LoadablePage-module__loadablePage___Ve8R4",children:(0,r.jsx)(a.h2,{className:"LoadablePage-module__spinner___nX+6I"})})})})},208318:(e,t,n)=>{"use strict";n.d(t,{$t:()=>d,Ai:()=>p,BL:()=>h,C$:()=>w,Eh:()=>u,Qg:()=>E,TC:()=>v,Wj:()=>C,ZL:()=>y,c5:()=>i,g3:()=>s,g8:()=>m,gK:()=>S,gt:()=>c,hO:()=>_,l2:()=>l,lA:()=>I,mz:()=>b,ny:()=>r,qy:()=>g,sG:()=>f,vB:()=>T,wt:()=>o,y5:()=>k,y_:()=>a});const r="/play",o="/games/store",a="xcloud",i="gamepass-root",s="gamepass-modal-root",l="gamepass-dialog-root",c=10,u=30,d=30,h="xgpuweb",m="xgpuwebf2p",p="takehomeweb",g="/gsapi/proxy/v1",f="/gsapi/insiders/v1",v="hasSeenOnboarding",_="hasSeenMutualFriendsFirstRun",y="isFriendsModelAware",b="hasMutualFriendsDialogBeenPrompted",C="users/me/layouts/xCloudWebHome",E="1626579248",S=["Microsoft","Microsoft Studios","Xbox Game Studios","Xbox Games Studios, Rare Ltd","Rare Ltd","Bethesda Softworks"],T={CorrelationVector:-200,UnauthServiceToService:-101,Proxy:-100,Telemetry:-1},w="RETAIL",I=/^\w{2}-(\w{4}-)?\w{2}$/,k=/^\/\w{2}-(\w{4}-)?\w{2}\//},603522:(e,t,n)=>{"use strict";var r;n.d(t,{Cl:()=>a,R4:()=>r,q3:()=>o}),function(e){let t,n,r,o,a;e.refreshStaleThreshold="refreshStaleThreshold",e.gameInviteId="giid",e.redirectUrl="redirectUrl",e.setFeatureGate="setGateValue",function(e){let t,n,r;e.isDeveloperMode="isDeveloperMode",function(e){e.region="user.region"}(t=e.User||(e.User={})),function(e){e.id="offering.id"}(n=e.Offering||(e.Offering={})),function(e){e.id="sandboxId"}(r=e.Sandbox||(e.Sandbox={}))}(t=e.Auth||(e.Auth={})),function(e){e.takSideloadEnabled="devTools.takSideloadEnabled",e.takServerAddress="devTools.takServerAddress",e.ipConnectIpAddress="devTools.ipConnectIpAddress",e.takServerPassword="devTools.takServerPassword",e.takAutoRefresh="devTools.takAutoRefresh",e.takAllowMouseInteraction="devTools.takAllowMouseInteraction",e.enableNativeTouch="devTools.enableNativeTouch",e.enableMouseAndKeyboard="devTools.enableMouseAndKeyboard",e.enableSensors="devTools.enableSensors",e.pwaPrompt="devTools.pwaPrompt"}(n=e.DevTools||(e.DevTools={})),function(e){e.httpEnvironment="streamClient.httpEnvironment",e.streamType="streamClient.streamType",e.requestUserGesture="streamClient.requestUserGesture"}(r=e.StreamClient||(e.StreamClient={})),function(e){e.ignoreServiceConfiguration="session.configuration.options.ignoreServiceConfiguration",e.systemUpdateGroup="session.configuration.options.systemUpdateGroup",e.releaseChannel="session.configuration.options.releaseChannel",e.showStreamStatisticsOverlay="session.configuration.video.showStreamStatisticsOverlay",e.useSoftwareRendering="session.configuration.video.useSoftwareRendering",e.videoDecoderType="session.configuration.video.videoDecoderType",e.enableHevc="session.configuration.video.enableHevc",e.useHardwareAudioDecoding="session.configuration.audio.useHardwareAudioDecoding",e.ipAddress="ipAddress",e.secureWebsocketsMode="wssMode",e.videoLatencyPreset="session.configuration.video.videoLatencyPreset",e.devkitHost="devkit.host",e.devkitRedeemCode="devkit.redeemCode",e.devkitDisableAutoJoin="devkit.disableAutoJoin"}(o=e.Session||(e.Session={})),function(e){e.version="pwaVersion",e.pageName="page.name",e.featureGates="featureGates",e.muid="muid",e.includeLocales="includeLocales"}(a=e.WebManifest||(e.WebManifest={}))}(r||(r={}));const o=[r.DevTools.takSideloadEnabled,r.DevTools.takServerAddress,r.DevTools.takAutoRefresh,r.DevTools.takAllowMouseInteraction,r.DevTools.enableMouseAndKeyboard,r.DevTools.enableNativeTouch],a=[r.Auth.isDeveloperMode,r.Auth.Sandbox.id,r.Auth.User.region,r.DevTools.takSideloadEnabled,r.DevTools.takServerAddress,r.DevTools.ipConnectIpAddress,r.DevTools.takServerPassword,r.DevTools.takAutoRefresh,r.DevTools.takAllowMouseInteraction,r.DevTools.enableNativeTouch,r.DevTools.enableMouseAndKeyboard,r.DevTools.enableSensors,r.DevTools.pwaPrompt,r.Session.showStreamStatisticsOverlay,r.Session.systemUpdateGroup,r.Session.ignoreServiceConfiguration,r.Session.releaseChannel,r.Session.useSoftwareRendering,r.Session.videoDecoderType,r.Session.videoLatencyPreset,r.Session.enableHevc,r.Session.useHardwareAudioDecoding,r.Session.devkitRedeemCode,r.Session.devkitDisableAutoJoin,r.StreamClient.httpEnvironment,r.StreamClient.streamType,r.StreamClient.requestUserGesture]},697164:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r,o=n(957380);!function(e){e.name="Trellis",e.path=`${o.z.path}/trellis`,e.getLink=function(){return e.path}}(r||(r={}))},977161:(e,t,n)=>{"use strict";n.d(t,{SK:()=>a,cA:()=>r,fD:()=>o});var r,o,a,i=n(957380);!function(e){e.name="NativeHost",e.path=`${i.z.path}/native-host`,e.getLink=function(){return e.path}}(r||(r={})),function(e){e.name="Guide",e.path=`${r.path}/guide`,e.getLink=function(){return e.path}}(o||(o={})),function(e){e.name="Content Access",e.path=`${r.path}/content-access`,e.getLink=function(){return e.path}}(a||(a={}))},957380:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r,o=n(208318);!function(e){e.name="Experiments Root",e.path=`${o.ny}/experiments`,e.getLink=function(){return e.path}}(r||(r={}))},734077:(e,t,n)=>{"use strict";n.d(t,{J:()=>s,Z:()=>l});n(906886);var r=n(202784),o=n(220889);const a="(forced-colors: active) and (prefers-color-scheme: dark)",i="(forced-colors: active) and (prefers-color-scheme: light)",s=()=>"undefined"===typeof window.matchMedia?o.k.Off:window.matchMedia(a).matches?o.k.Black:window.matchMedia(i).matches?o.k.White:o.k.Off,l=()=>{const[e,t]=(0,r.useState)(s()),n=(0,r.useCallback)((()=>{t(s())}),[]);return(0,r.useEffect)((()=>{const e=window.matchMedia(a),t=window.matchMedia(i);if(e.addEventListener)return e.addEventListener("change",n),t.addEventListener("change",n),()=>{e.removeEventListener&&(e.removeEventListener("change",n),t.removeEventListener("change",n))}}),[n]),e}},664365:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(773930);const l=(0,s.n)({resolved:{},chunkName:()=>"contextual-store-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(86907),n.e(11614),n.e(44102),n.e(73704),n.e(13606),n.e(12702),n.e(83795),n.e(59325),n.e(81638),n.e(41287),n.e(50953),n.e(71796),n.e(79313),n.e(32021),n.e(62971),n.e(44858),n.e(34194),n.e(87748),n.e(29899),n.e(69899),n.e(89225),n.e(49196),n.e(92160)]).then(n.bind(n,335162)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 335162}})},452487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});n(73439),n(464925),n(654819),n(906886);var r=n(900814),o=n.n(r),a=n(124923),i=n.n(a),s=n(20608);const l=["lazyConfig"],c=["fetchDataSaga","bootstrapClientEnvironmentSaga"];async function u(){const{sharedBootstrapClientEnvironmentSaga:e}=await Promise.all([n.e(86907),n.e(11614),n.e(44102),n.e(73704),n.e(13606),n.e(12702),n.e(83795),n.e(59325),n.e(81638),n.e(41287),n.e(50953),n.e(71796),n.e(79313),n.e(32021),n.e(62971),n.e(44858),n.e(34194),n.e(87748),n.e(29899),n.e(69899),n.e(89225),n.e(49196),n.e(92160)]).then(n.bind(n,623811));return e}async function d(){const{decorateFetchDataSaga:e}=await Promise.all([n.e(86907),n.e(11614),n.e(44102),n.e(73704),n.e(13606),n.e(12702),n.e(83795),n.e(59325),n.e(81638),n.e(41287),n.e(50953),n.e(71796),n.e(79313),n.e(32021),n.e(62971),n.e(44858),n.e(34194),n.e(87748),n.e(29899),n.e(69899),n.e(89225),n.e(49196),n.e(92160)]).then(n.bind(n,5193));return e}const h=e=>async()=>{const t=e?await e():{fetchDataSaga:void 0,bootstrapClientEnvironmentSaga:void 0},{fetchDataSaga:n,bootstrapClientEnvironmentSaga:r}=t,a=i()(t,c),[l,h]=await Promise.all([d(),u()]),m=l(n);return o()({fetchDataSaga:m,bootstrapClientEnvironmentSaga:function*(){yield(0,s.call)(h),r&&(yield(0,s.call)(r))}},a)};var m=n(208318),p=n(316216),g=n(527256),f=n(905653),v=n(604609),_=n(672054),y=n(260523),b=n(979790);const C=(0,g.tP)((()=>Promise.all([n.e(59325),n.e(34194),n.e(87834)]).then(n.bind(n,479460))),(e=>e.lazyRouteConfigs));var E=n(697164);const S=e=>!0===e;function T(e){return[o()(o()({},e),{},{path:E.J.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:{authStrategy:_.b.SignedInToXbox},constraint:{featureGates:{[y.y.EnableTrellis]:S}}})]}var w=n(977161);const I=e=>!0===e;function k(e){return[o()(o()({},e),{},{path:w.fD.path,uhfConfig:{headerMode:p.Grh.Off,footerMode:p.ZOQ.Off},xCloud:o()(o()({},e.xCloud),{},{authStrategy:_.b.Public,isGuideDisabled:!0}),constraint:{featureGates:{[y.y.EnableExternalGuide]:I}}}),o()(o()({},e),{},{path:w.SK.path,uhfConfig:{headerMode:p.Grh.Off,footerMode:p.ZOQ.Off},xCloud:o()(o()({},e.xCloud),{},{authStrategy:_.b.Public}),constraint:{featureGates:{[y.y.EnableNHP]:I}}})]}var A=n(734077),P=n(664365),x=n(236601),R=n(868998),N=n(183043),O=n(220889);const L=(0,g.tP)((()=>Promise.all([n.e(86907),n.e(11614),n.e(44102),n.e(73704),n.e(13606),n.e(12702),n.e(83795),n.e(59325),n.e(81638),n.e(41287),n.e(50953),n.e(71796),n.e(79313),n.e(32021),n.e(62971),n.e(44858),n.e(34194),n.e(87748),n.e(29899),n.e(69899),n.e(89225),n.e(49196),n.e(92160)]).then(n.bind(n,479839))),(e=>e.lazyRouteConfigs)),M=e=>!0===e,U="GamePassApp",D={component:x.f,key:U,theme:()=>(0,A.J)()===O.k.White?p.Q2A.Light:p.Q2A.Dark,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.Full},exact:!0,xCloud:{authStrategy:_.b.XCloud,isGuideDisabled:!1,allowUnsupportedMarketRendering:!1}},B=o()(o()({},D),{},{lazyConfig:L("productRoute")}),F=[{key:f.WebManifest.name,path:f.WebManifest.path,component:N.O,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}},o()(o()({},D),{},{path:f.Play.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},lazyConfig:L("play")}),o()(o()({},D),{},{path:f.ShareStatePrototypeTestHarness.path,lazyConfig:L("shareStatePrototypeTestHarness")}),o()(o()({},D),{},{path:f.ShareGameInvite.path,lazyConfig:L("shareGameInvite"),constraint:[{featureGates:{[y.y.EnableOpenEndedGameInvites]:M}},{featureGates:{[y.y.EnableOpenGameInviteRedeem]:M}}],xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.ShareFriend.path,lazyConfig:L("shareFriend"),xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.StateShare.path,lazyConfig:L("stateShareRedeem"),constraint:{featureGates:{[y.y.EnableStateShareRedeem]:M}},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.XdsPlayground.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},constraint:{featureGates:{[y.y.EnableXdsPlayground]:M}},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.UnfriendlyPlay.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},lazyConfig:L("unfriendlyPlay")}),o()(o()({},D),{},{path:f.ProductRoot.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},B),{},{path:f.Product.path,xCloud:o()(o()({},D.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},B),{},{path:f.UnfriendlyProduct.path,xCloud:o()(o()({},D.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},B),{},{path:f.PlayNow.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:{authStrategy:_.b.Public}}),o()(o()({},D),{},{path:f.Gallery.path,lazyConfig:L("gallery")}),o()(o()({},D),{},{path:f.Home.path,lazyConfig:L("home")}),o()(o()({},D),{},{path:f.LoginDeviceCode.path,exact:!1,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.Onboarding.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.UpdateRequired.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.Media.path,lazyConfig:L("media"),xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public,isGuideDisabled:!0})}),o()(o()({},D),{},{path:f.Search.path,xCloud:o()(o()({},D.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},D),{},{component:R.G,path:f.InitializeSinglePageApplication.path,lazyConfig:L("initializeSinglePageApplication")}),o()(o()({},D),{},{path:f.Pairing.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.Requirements.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.UserProfile.path,lazyConfig:L("userProfile"),xCloud:o()(o()({},D.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},D),{},{path:f.AllFriends.path,lazyConfig:L("allFriends"),xCloud:o()(o()({},D.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},D),{},{path:f.Welcome.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},D),{},{path:f.ContextualStoreWrapper.path,component:P.o,exact:!1,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},D.xCloud),{},{isGuideDisabled:!0})}),o()(o()({},D),{},{path:f.SimpleFeedbackWrapper.path,uhfConfig:{headerMode:p.Grh.Off,footerMode:p.ZOQ.Off},xCloud:o()(o()({},D.xCloud),{},{authStrategy:_.b.Public,isGuideDisabled:!0})}),o()(o()({},D),{},{path:f.Library.path,constraint:{featureGates:{[y.y.EnableLibrary]:M}}}),o()(o()({},D),{},{path:f.ExternalLibrary.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},constraint:{featureGates:{[y.y.EnableLibrary]:M}}}),...function(e){return[o()(o()({},e),{},{path:b.J.path,xCloud:{authStrategy:_.b.DeveloperPublic}}),o()(o()({},e),{},{path:b.U6.path,xCloud:{authStrategy:_.b.DeveloperPublic}}),o()(o()({},e),{},{path:b.$7.path,lazyConfig:C("devToolsXHomeConsoleSelection"),xCloud:{authStrategy:_.b.XHomeDevKit}}),o()(o()({},e),{},{path:b.G5.path,lazyConfig:C("devToolsXHomeConnect"),xCloud:{authStrategy:_.b.XHomeDevKit},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}),o()(o()({},e),{},{path:b.dl.path,xCloud:{authStrategy:_.b.IpConnect}}),o()(o()({},e),{},{path:b.Qi.path,xCloud:{authStrategy:_.b.IpConnect},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}),o()(o()({},e),{},{path:b.SV.path,xCloud:{authStrategy:_.b.DeveloperPublic}}),o()(o()({},e),{},{path:b.F7.path,xCloud:{authStrategy:_.b.ManagedDevkit},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}),o()(o()({},e),{},{path:b.oT.path,xCloud:{authStrategy:_.b.PrivateOffering}}),o()(o()({},e),{},{path:b.$L.path,xCloud:{authStrategy:_.b.DeveloperPublic}})]}(D),...function(e){return[...T(e),...k(e)]}(D),{key:U,path:f.Wildcard.path,redirectComponent:v.P,exact:!1,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}];var H=n(512696);const q=F.map((e=>(0,H.J)(e)?function(e){let{lazyConfig:t}=e,n=i()(e,l);return o()(o()({},n),{},{lazyConfig:h(t)})}(e):e)),G={partnerId:m.y_,routes:q,lazyConfig:()=>Promise.all([n.e(86907),n.e(11614),n.e(44102),n.e(73704),n.e(13606),n.e(12702),n.e(83795),n.e(59325),n.e(81638),n.e(41287),n.e(50953),n.e(71796),n.e(79313),n.e(32021),n.e(62971),n.e(44858),n.e(34194),n.e(87748),n.e(29899),n.e(69899),n.e(89225),n.e(49196),n.e(92160)]).then(n.bind(n,76234)),expressInjection:e=>e,handlesAllLocales:!0}},905653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AllFriends:()=>S,ContentAccess:()=>Y.SK,ContextualStoreWrapper:()=>U,DevToolsConfigureIpConnect:()=>Z.dl,DevToolsIpConnect:()=>Z.Qi,DevToolsManagedDevkitConnect:()=>Z.F7,DevToolsManagedDevkitRedeem:()=>Z.SV,DevToolsOfferingSelection:()=>Z.oT,DevToolsOverrideDevSettings:()=>Z.$L,DevToolsRoot:()=>Z.J,DevToolsSignIn:()=>Z.U6,DevToolsXHomeConnect:()=>Z.G5,DevToolsXHomeConsoleSelection:()=>Z.$7,ExperimentsRoot:()=>K.z,ExternalLibrary:()=>H,ExternalRoot:()=>a,Gallery:()=>p,Guide:()=>Y.fD,Home:()=>o,InitializeSinglePageApplication:()=>y,Library:()=>F,LoginDeviceCode:()=>_,Media:()=>g,NativeHost:()=>Y.cA,Onboarding:()=>T,Pairing:()=>b,Play:()=>h,PlayNow:()=>c,PlayRoot:()=>d,Product:()=>s,ProductRoot:()=>i,Requirements:()=>I,Search:()=>f,ShareFriend:()=>R,ShareFriendRoot:()=>x,ShareGameInvite:()=>P,ShareGameInviteRoot:()=>A,ShareRoot:()=>k,ShareStatePrototypeRoot:()=>L,ShareStatePrototypeTestHarness:()=>M,SimpleFeedbackWrapper:()=>D,StateShare:()=>O,StateShareRoot:()=>N,Store:()=>u,Trellis:()=>j.J,UnfriendlyPlay:()=>m,UnfriendlyProduct:()=>l,UpdateRequired:()=>B,UserProfile:()=>E,WebManifest:()=>v,Welcome:()=>w,Wildcard:()=>C,XboxComRoot:()=>r,XdsPlayground:()=>q});n(200634),n(317368),n(524471),n(477950),n(888233),n(385940),n(34715),n(426464),n(319570),n(906886),n(460523);var r,o,a,i,s,l,c,u,d,h,m,p,g,f,v,_,y,b,C,E,S,T,w,I,k,A,P,x,R,N,O,L,M,U,D,B,F,H,q,G=n(213689),z=n(316216),X=n(208318),$=n(603522),V=n(221280),W=n(112175),K=n(957380),j=n(697164),Y=n(977161),Z=n(979790);!function(e){e.path="/",e.name="XboxComRoot",e.getLink=function(){return e.path}}(r||(r={})),function(e){e.path=X.ny,e.name="Home",e.getLink=function(){return e.path},e.getHomeDeeplink=function(t){if(t){const n=new RegExp(`^/?${e.path.substring(1)}/?(?:\\?(.*))?$`).exec(decodeURIComponent(t));if(n){const t=n[1];let r,o=e.path;return t&&(o=`${e.path}/?${t}`,r=new URLSearchParams(t).get("campaignId")||void 0),{path:o,campaignId:r}}}}}(o||(o={})),function(e){e.name="External Root",e.path=`${X.ny}/external`,e.getLink=function(){return e.path}}(a||(a={})),function(e){e.name="Product Root",e.path=`${X.ny}/games`,e.getLink=function(){return e.path}}(i||(i={})),function(e){let t;e.name="Product",function(e){e.productId=":productId",e.productName=":productName"}(t=e.PathParams||(e.PathParams={})),e.path=`${i.path}/${t.productName}/${t.productId}`,e.getLink=function(n,r){if(r){const o=(0,V.v)(r);if(o.length>0)return e.path.replace(t.productName,encodeURIComponent(o)).replace(t.productId,encodeURIComponent(n))}return l.path.replace(t.productId,encodeURIComponent(n))}}(s||(s={})),function(e){e.path=`${i.path}/${s.PathParams.productId}`,e.name="Unfriendly Product",e.getLink=function(e){return s.getLink(e)},e.getDetailsPageDeeplink=function(e){if(e){const t=new RegExp(`^/?${i.path.substring(1)}/.*/?([A-Za-z0-9]{12})/?\\??(.*)$`).exec(decodeURIComponent(e));if(t&&t.length>1){const e=t[1];let n,r=s.getLink(e);if(t.length>2){const e=t[2];e&&(r=`${r}/?${e}`,n=new URLSearchParams(e).get("campaignId")||void 0)}return{path:r,productId:e,campaignId:n}}}}}(l||(l={})),function(e){e.path=`${a.path}/playnow/${s.PathParams.productId}`,e.name="PlayNow",e.getLink=function(t){return e.path.replace(s.PathParams.productId,encodeURIComponent(t))}}(c||(c={})),function(e){e.path=`${X.wt}/${s.PathParams.productName}/${s.PathParams.productId}`,e.name="Store",e.getAbsoluteLink=function(t,n){return`https://www.xbox.com${e.path.replace(s.PathParams.productId,encodeURIComponent(t)).replace(s.PathParams.productName,(0,V.v)(null!==n&&void 0!==n?n:""))}`}}(u||(u={})),function(e){e.name="Play Root",e.path=`${X.ny}/launch`,e.getLink=function(){return e.path}}(d||(d={})),function(e){e.path=`${d.path}/${s.PathParams.productName}/${s.PathParams.productId}`,e.name="Play",e.getLink=function(t,n){if(n){const r=(0,V.v)(n);if(r.length>0)return e.path.replace(s.PathParams.productName,encodeURIComponent(r)).replace(s.PathParams.productId,encodeURIComponent(t))}return m.path.replace(s.PathParams.productId,encodeURIComponent(t))}}(h||(h={})),function(e){e.path=`${d.path}/${s.PathParams.productId}`,e.name="Unfriendly Play",e.getLink=function(e){return h.getLink(e)}}(m||(m={})),function(e){let t;e.name="Gallery",function(e){e.siglIdOrAlias=":siglIdOrAlias"}(t=e.PathParams||(e.PathParams={})),e.path=`${X.ny}/gallery/${t.siglIdOrAlias}`,e.getLink=function(n){var r;return e.path.replace(t.siglIdOrAlias,encodeURIComponent(null!==(r=W.ld[n])&&void 0!==r?r:n))}}(p||(p={})),function(e){e.rootPath=`${X.ny}/media`;let t;e.name="Media",function(e){e.locator=":locator"}(t=e.PathParams||(e.PathParams={})),e.path=`${e.rootPath}/${t.locator}`,e.getLink=function(n){return e.path.replace(t.locator,encodeURIComponent(n))}}(g||(g={})),function(e){e.key="q",e.pivotKey="p",e.name="Search",e.path=`${X.ny}/search`}(f||(f={})),function(e){let t;e.name="WebManifest",e.path=`${X.ny}/manifest.webmanifest`,function(e){e.offeringId=$.R4.Auth.Offering.id,e.pageName=$.R4.WebManifest.pageName,e.sandboxId=$.R4.Auth.Sandbox.id,e.featureGates=$.R4.WebManifest.featureGates,e.includeLocales=$.R4.WebManifest.includeLocales}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n,r,o,a,i){const s=new URLSearchParams;n&&s.set(t.offeringId,n),r&&s.set(t.sandboxId,r),o&&s.set(t.pageName,o),a&&a.forEach((e=>{s.append(t.featureGates,e)})),i&&s.set(t.includeLocales,"true");const l=s.toString();return l?`${e.path}?${l}`:e.path}}(v||(v={})),function(e){let t;e.name="LoginDeviceCode",e.path=`${X.ny}/login/deviceCode`,function(e){e.redirectUrl=$.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(_||(_={})),function(e){let t;e.name="Initialize Single Page Application",e.path=`${X.ny}/spa`,function(e){e.redirectUrl=$.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(!n)return e.path;const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}}(y||(y={})),function(e){e.name="Pairing",e.path=`${X.ny}/pairing`,e.getLink=function(){return e.path}}(b||(b={})),function(e){e.name="Wildcard Fall Through",e.path=`${X.ny}/*`}(C||(C={})),function(e){let t;e.name="Profile",function(e){e.gamertag=":gamertag?"}(t=e.PathParams||(e.PathParams={})),e.path=`${X.ny}/user/${t.gamertag}`,e.getLink=function(n){return e.path.replace(t.gamertag,encodeURIComponent(n))}}(E||(E={})),function(e){let t;e.name="All Friends",function(e){e.gamertag=":gamertag"}(t=e.PathParams||(e.PathParams={})),e.path=`${X.ny}/user/${t.gamertag}/friends`,e.getLink=function(n){return e.path.replace(t.gamertag,encodeURIComponent(n))}}(S||(S={})),function(e){let t;e.name="Onboarding",e.path=`${X.ny}/onboarding`,function(e){e.redirectUrl=$.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(T||(T={})),function(e){let t;e.name="Welcome",e.path=`${X.ny}/welcome`,function(e){e.redirectUrl=$.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(w||(w={})),function(e){let t;e.name="Requirements",e.path=`${X.ny}/requirements`,function(e){e.redirectUrl=$.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(I||(I={})),function(e){let t;e.name="Share Root",e.path=`${X.ny}/share`,function(e){e[e.OpenEndedInvite=0]="OpenEndedInvite",e[e.StateShare=1]="StateShare"}(t=e.ExperienceType||(e.ExperienceType={})),e.getLink=function(){return e.path}}(k||(k={})),function(e){e.name="Share Game Invite Root",e.path=`${k.path}/gameInvite`,e.getLink=function(){return e.path}}(A||(A={})),function(e){let t;e.name="Share Game Invite",function(e){e.linkToken=":linkToken"}(t=e.PathParams||(e.PathParams={})),e.path=`${A.path}/${t.linkToken}`,e.getLink=function(n){return e.path.replace(t.linkToken,encodeURIComponent(n))}}(P||(P={})),function(e){e.name="Share Friend Root",e.path=`${k.path}/friend`,e.getLink=function(){return e.path}}(x||(x={})),function(e){let t;e.name="Share Friend",function(e){e.friendLinkId=":friendLinkId"}(t=e.PathParams||(e.PathParams={})),e.path=`${x.path}/${t.friendLinkId}`,e.getLink=function(n){return e.path.replace(t.friendLinkId,encodeURIComponent(n))}}(R||(R={})),function(e){e.name="State Share Root",e.path=`${X.ny}/stateShare`,e.getLink=function(){return e.path}}(N||(N={})),function(e){let t;e.name="State Share",function(e){e.linkToken=":linkToken"}(t=e.PathParams||(e.PathParams={})),e.path=`${N.path}/${t.linkToken}`,e.getLink=function(n){return e.path.replace(t.linkToken,encodeURIComponent(n))}}(O||(O={})),function(e){e.name="Share State Prototype",e.path=`${k.path}/state`,e.getLink=function(){return e.path}}(L||(L={})),function(e){let t;e.name="Share State Prototype Test Harness",e.path=`${L.path}/test`,function(e){e.productId="productId",e.title="title",e.description="description",e.creator="creator",e.image="image",e.payload="payload"}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){let{productId:r,title:o,description:a,creator:i,image:s,payload:l}=n;return`${e.path}?${new URLSearchParams({[t.productId]:r,[t.title]:o,[t.description]:a,[t.creator]:i,[t.image]:s,[t.payload]:l}).toString()}`}}(M||(M={})),function(e){let t,n;e.name="External Contextual Store",function(e){e.productId=":productId",e.skuId=":skuId?",e.availabilityId=":availabilityId?"}(t=e.PathParams||(e.PathParams={})),e.path=`${a.path}/store/${t.productId}/${t.skuId}/${t.availabilityId}`,e.productPath=`${a.path}/store/${t.productId}`,function(e){e.itemType="it",e.scenario="xs",e.callerApplicationId="partnerid",e.campaignId="campaignId",e.version="v",e.theme="t",e.clientType="clientType",e.experience="exp"}(n=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(r){let o,{productId:a,skuId:i,availabilityId:s,itemType:l,scenario:c,tracking:u,clientType:d,experience:h}=r;o=i&&s?`${e.path}`.replace(t.productId,encodeURIComponent(a)).replace(t.skuId,encodeURIComponent(i)).replace(t.availabilityId,encodeURIComponent(s)):`${e.productPath}`.replace(t.productId,encodeURIComponent(a));const m=new URLSearchParams;return m.set(n.version,G.zBs.v2),m.set(n.theme,z.Q2A.Dark),l&&m.set(n.itemType,l),c&&m.set(n.scenario,c),null!==u&&void 0!==u&&u.callerApplicationId&&m.set(n.callerApplicationId,u.callerApplicationId),null!==u&&void 0!==u&&u.campaignId&&m.set(n.campaignId,u.campaignId),d&&m.set(n.clientType,d),h&&m.set(n.experience,h),`${o}?${m.toString()}`}}(U||(U={})),function(e){e.name="Simple Feedback",e.path=`${a.path}/simple-feedback`,e.getLink=function(){return e.path}}(D||(D={})),function(e){e.name="Required Browser Update",e.path=`${X.ny}/required-browser-update`,e.getLink=function(){return e.path}}(B||(B={})),function(e){e.name="Library",e.path=`${X.ny}/library`,e.getLink=function(){return e.path}}(F||(F={})),function(e){e.name="ExternalLibrary",e.path=`${a.path}/library`,e.getLink=function(){return e.path}}(H||(H={})),function(e){e.name="XDS v2 Playground",e.path=`${X.ny}/xdsPlayground`,e.getLink=function(){return e.path}}(q||(q={}))},221280:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});n(477950),n(385940);function r(e){return e.replace(/[;,/?:@&=+_`~$%#^*()!^\u2122\xae\xa9]/g,"").replace(/ {2,}/g," ").trim().substr(0,50).replace(/ /g,"-").toLowerCase()}},512696:(e,t,n)=>{"use strict";function r(e){return"xCloud"in e&&!!e.xCloud}n.d(t,{J:()=>r})},370800:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,P:()=>a});var r;n(231235);!function(e){e.ConsoleAll="f6f1f99f-9b49-4ccd-b3bf-4d9767a77f5e",e.CloudBYOGAll="f7d90bbd-2e49-4bcc-a486-0e58cc8a9899",e.CloudAllPlusBYOG="ce573635-7c18-4d0c-9d68-90b932393470",e.CloudBYOGHero="2d2af5f8-d325-4976-829e-4bc1594cffe5",e.ConsoleRecentlyAdded="f13cf6b4-57e6-4459-89df-6aec18cf0538",e.ConsoleLeavingSoon="393f05bf-e596-4ef6-9487-6d4fa0eab987",e.ConsoleMostPopular="eab7757c-ff70-45af-bfa6-79d3cfb2bf81",e.PlayWithCAccs="9a2a1ab1-6f51-47ea-bd0c-228a97857209",e.ConsoleClassics="42d41e76-a5fd-4344-ae4e-05ce2f5925cd",e.ConsoleIndies="2e8e2cdf-f1bb-4e7e-8295-04949a26f6cc",e.ConsoleFamilyFriendly="8e7cd765-1293-44e0-95bb-8257e2bf0221",e.ConsoleSports="796c328b-4a17-4996-99f8-0edb59bef85a",e.ConsoleShooters="72c5a54f-45f9-4723-970c-1c8040cffe2e",e.ConsoleActionAdventure="fafb048d-9850-4447-ae20-f8f698bd208a",e.ConsolePlatformers="5dfd8fdd-2fd3-4e7f-b9f8-175e96b1adac",e.ConsoleFighters="8e984232-c067-4f3f-8de3-39474956898e",e.CloudRecentlyAdded="44a55037-770f-4bbf-bde5-a9fa27dba1da",e.CloudMostPopular="e7590b22-e299-44db-ae22-25c61405454c",e.CloudTrendingNow="13cd1bce-4f82-46e9-9dce-1f86fedf5931",e.CloudPlayWithTouch="9c86f07a-f3e8-45ad-82a0-a1f759597059",e.CloudAll="29a81209-df6f-41fd-a528-2ae6b91f719c",e.CloudPlaysGreatOnMobile="88c10a22-33b5-4e24-90b6-125bee02da39",e.CloudActionAdventure="ebedc400-a688-4929-b794-4435b2e1ab0a",e.CloudFamilyFriendly="f576ca76-9aad-4ac7-a0f0-71429ef36850",e.CloudFighting="c4be032d-0f42-4df5-8934-1758748cf7f0",e.CloudIndies="95f39cf3-48ec-4d3c-83e6-a7f6916fbdfe",e.CloudRpg="e68225ce-e42f-4156-998d-697bf985da73",e.CloudShooters="38441e3f-26c6-498c-8b84-0ca20a3785af",e.CloudSimulation="200674bd-7bd4-4360-bd0f-af8cd899839f",e.CloudStrategy="5d6c2384-b30e-4717-86f6-e684e819622b",e.CloudEAPlay="76539f85-43fe-435a-99c8-78c3fbcdf915",e.CloudPlayWithMouseAndKeyboard="8fa264dd-124f-4af3-97e8-596fcdf4b486",e.CloudSmartTvLandingGallery="bb92c8c7-079b-4725-9880-533437117367",e.ConsoleRacingAndFlying="6d18c7d7-7f62-4c87-b1b7-b5555c5752d0",e.PCAll="fdd9e2a7-0fee-49f6-ad69-4354098401ff",e.PCRecentlyAdded="163cdff5-442e-4957-97f5-1050a3546511",e.PCLeavingSoon="d79ea370-cab3-486c-82ce-e1834c73401d",e.PCMostPopular="a884932a-f02b-40c8-a903-a008c23b1df1",e.PCActionAdventure="0f4967a6-7226-48bd-8ab4-a6ef40b09981",e.PCClassics="10f20ee2-333a-47d2-a89e-b1d0f487c7c8",e.PCIndies="1e2ce757-e84f-4d2c-9243-34b81912644a",e.PCPlatformers="1436fa3b-f1dc-47de-b2fd-d14a5e0e6271",e.PCPuzzle="68a80ea5-85a8-4143-9ced-107cfa560800",e.PCRpg="52c9f69b-fd70-4cc9-a621-6691ca893fa0",e.PCSimulation="9e3263ab-e625-4667-9895-869936f6b0ac",e.PCShooters="674d4dbe-32eb-4a05-8e0d-ce795337f600",e.PCSports="cdd6abaa-45b3-4d17-9c8a-e9fcab9ff71b",e.PCRacingAndFlying="563a00da-0c53-4fc5-9bad-3224b9e1c6f7",e.PCStrategy="7a3b01ac-93e4-4d52-81ad-980bc4cb4ff5",e.FreeToPlay="FreeToPlay"}(r||(r={}));const o=Object.values(r);function a(e){return o.includes(e)}},112175:(e,t,n)=>{"use strict";n.d(t,{a3:()=>l,eo:()=>a,ld:()=>i,zq:()=>o});n(474407),n(426464),n(264903),n(906886);var r=n(370800);function o(e){return e in a}const a={[r.C.CloudStrategy]:"Genre_Strategy",[r.C.CloudIndies]:"Genre_Indie",[r.C.CloudFamilyFriendly]:"Genre_Family_Friendly",[r.C.CloudSimulation]:"Genre_Simulation",[r.C.CloudShooters]:"Genre_Shooters",[r.C.CloudActionAdventure]:"Genre_Action_Adventure",[r.C.CloudRpg]:"Genre_RPG",[r.C.CloudFighting]:"Genre_Fighters_Brawlers",[r.C.CloudMostPopular]:"Most_Popular",[r.C.FreeToPlay]:"FreeToPlay"},i={[r.C.CloudAll]:"all-games",[r.C.CloudAllPlusBYOG]:"all-games",[r.C.CloudBYOGAll]:"buy-and-stream",[r.C.CloudRecentlyAdded]:"recently-added",[r.C.ConsoleLeavingSoon]:"leaving-soon",[r.C.CloudMostPopular]:"popular",[r.C.CloudStrategy]:"strategies",[r.C.CloudIndies]:"indies",[r.C.CloudFamilyFriendly]:"family-friendly",[r.C.CloudSimulation]:"simulations",[r.C.CloudShooters]:"shooters",[r.C.CloudActionAdventure]:"action-adventure",[r.C.CloudRpg]:"rpgs",[r.C.CloudFighting]:"fighters",[r.C.FreeToPlay]:"free-to-play",[r.C.CloudPlayWithMouseAndKeyboard]:"mouse-and-keyboard"},s=Object.entries(i).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{}),l=(e,t)=>{var n;return"all-games"===e?null!==t&&void 0!==t&&t.byogEnabled?r.C.CloudAllPlusBYOG:r.C.CloudAll:null!==(n=s[e])&&void 0!==n?n:e}},220889:(e,t,n)=>{"use strict";var r;n.d(t,{k:()=>r}),function(e){e[e.Off=0]="Off",e[e.White=1]="White",e[e.Black=2]="Black"}(r||(r={}))},612502:(e,t,n)=>{"use strict";n.d(t,{Hi:()=>H,pQ:()=>G,Kf:()=>z,Lm:()=>Y,YV:()=>ue,Z1:()=>oe,l2:()=>ee,pD:()=>X,CU:()=>J,$p:()=>ae,gS:()=>me,Vf:()=>ne,rQ:()=>$,nu:()=>te,IC:()=>re,eT:()=>pe,fD:()=>Ae,yd:()=>Q,Pd:()=>he,VO:()=>Ve,ND:()=>ge,_T:()=>f,Cv:()=>W,zt:()=>ie,tA:()=>$e,OE:()=>Xe,tZ:()=>L,sL:()=>M,HR:()=>We,fO:()=>D,Dp:()=>B,Zr:()=>q,Fc:()=>U,Rl:()=>F,OP:()=>Z,lD:()=>de,OL:()=>le,kE:()=>j,a1:()=>ce,Os:()=>K,rt:()=>se,V$:()=>Ie,iT:()=>Te,Wy:()=>V,US:()=>O,GK:()=>I,UX:()=>k,wF:()=>A,Z6:()=>Ne,nk:()=>Le,SP:()=>P,Xx:()=>Me,VP:()=>R,Ie:()=>x,KJ:()=>Pe,Xm:()=>xe,jb:()=>Re,bU:()=>N,PZ:()=>qe,nQ:()=>De,lU:()=>Fe,Bp:()=>Be,hz:()=>fe,Lr:()=>Nt,CQ:()=>Ot,vT:()=>Oe,mP:()=>ye,OD:()=>_e,Xz:()=>He});var r=n(316216),o=n(361030),a=n(412524),i=n.n(a),s=n(202784),l=n(474495),c=n(289872),u="Price-module__afterPriceTextContainer___r7fdq",d="Price-module__gamePassInlineLogo___5MSlU",h="Price-module__lowestPriceText___QdS-y",m="Price-module__moreText___sNMVr",p="Price-module__priceBaseContaner___AUBVX",g="Price-module__ubisoftPlusHorizontalLogo___XPMTJ";const f=e=>{let{historicalLowestListPrice:t,className:n,containerClassName:a}=e;const u=(0,l.useSelector)(r.yWe),d=(0,o.iV)("lowestListPriceText"),{listPrice:m,currency:p}=t,g=(0,r.xGv)(m,p,u),f=(0,r.WUZ)(d,g);return s.createElement("div",{className:i()(c.Km,a)},s.createElement("span",{className:i()(h,n)},f))};var v=n(124923),_=n.n(v),y=n(900814),b=n.n(y),C=(n(888233),n(353513)),E=n(282008),S=n(122970);const T=function(e){var{title:t,titleId:n}=e,r=(0,S.__rest)(e,["title","titleId"]);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 7363 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M6600 1765q21 13 53 23t67 16 70 10 59 4q64 0 127-12t114-42 82-80 32-126q0-54-21-97t-56-79-78-63-87-49q-28-13-62-28t-65-34-50-46-21-65q0-37 19-61t48-38 62-20 64-6q55 0 108 13t99 45V875q-23-11-50-17t-55-10-57-5-54-1q-60 0-122 14t-112 45-83 80-32 120q0 56 19 97t50 74 70 56 81 44 81 40 71 40 50 48 19 60q0 41-18 66t-47 39-64 19-67 5q-28 0-62-6t-67-17-64-26-51-36v161zm-723 0q21 13 53 23t68 16 70 10 59 4q64 0 127-12t114-42 82-80 32-126q0-53-21-97t-56-79-78-63-87-49q-28-13-62-28t-65-34-51-46-21-65q0-37 19-61t48-38 63-20 63-6q55 0 108 12t99 46V875q-22-11-49-17t-57-10-57-5-53-1q-60 0-122 14t-112 45-83 80-32 120q0 74 32 124t82 85 106 62 107 53 81 57 33 78q0 41-18 66t-47 39-63 19-68 5q-28 0-62-6t-67-17-64-26-51-36v161zm-373-331h-289l130-377q5-14 8-29t5-30h3q2 14 4 29t8 30l131 377zm299 369l-351-945h-177l-354 945h171l82-241h372l85 241h172zM4499 987h114q42 0 78 8t61 28 40 52 15 78q0 48-16 82t-43 55-66 32-82 10h-101V987zm0 473h126q72 0 135-20t110-60 74-98 27-135q0-78-26-133t-73-89-109-51-133-16h-287v945h156v-343zm-671 343v-133h-373v-279h325v-133h-325V991h352V858h-509v945h530zm-751 0V858h-213l-253 626q-11 27-20 55t-19 56h-4q-6-28-16-55t-21-53l-248-629h-221v945h145v-704q0-46-5-92h3q5 24 10 47t15 47l282 702h108l283-707q8-21 14-43t11-46h3q-4 46-6 92t-3 92v612h155zm-1431-369h-289l130-377q5-14 7-29t6-30h2q3 14 5 29t8 30l131 377zm299 369l-352-945h-176l-354 945h171l82-241h372l85 241h172zm-968-65v-449H622v132h199v225q-39 20-82 28t-87 9q-78 0-136-27t-97-74-57-111-19-137q0-77 24-142t70-113 109-75 142-27q69 0 134 17t124 55V888q-63-27-130-36t-134-10q-110 0-202 36T320 981t-104 158-37 203q0 107 33 194t94 150 147 97 195 35q88 0 170-19t159-61zM0 575h7363v1473H0V575z"}))},w=(e,t)=>b()(b()({},e.images),null===t||void 0===t?void 0:t.skuImages),I=(e,t)=>w(e,t).boxArt,k=(e,t)=>{var n;return(null===(n=e.curatedEditionInformation)||void 0===n?void 0:n.upsellImages)&&e.curatedEditionInformation.upsellImages[0]?e.curatedEditionInformation.upsellImages[0]:A(e,t)},A=(e,t)=>w(e,t).superHeroArt,P=(e,t)=>w(e,t).poster,x=(e,t)=>I(e,t)||N(e,t),R=(e,t)=>w(e,t).screenshots,N=(e,t)=>w(e,t).tile;var O,L,M,U,D,B,F,H,q,G,z;n(906886);!function(e){e[e.Unknown=0]="Unknown",e[e.Differential=1]="Differential",e[e.UpgradedDifferentialOffer=2]="UpgradedDifferentialOffer"}(O||(O={})),function(e){e.None="None",e.Affirmation="Affirmation",e.Remediation="Remediation"}(L||(L={})),function(e){e.Unknown="Unknown",e.GamePass="GamePass",e.XboxLiveGold="XboxLiveGold",e.GamePassUltimate="GamepassUltimate",e.GamePassCore="GamePassCore",e.EAAccess="EAAccess",e.PCGamePass="PCGamePass",e.BundleRemediation="BundleRemediation",e.XPrice="XPrice",e.UbisoftPlus="UbisoftPlus"}(M||(M={})),function(e){e.Game="Game",e.Consumable="Consumable",e.Durable="Durable",e.UnmanagedConsumable="UnmanagedConsumable",e.Pass="Pass",e.Bundles="Bundles"}(U||(U={})),function(e){e.Subscription="Subscription",e.Passes="Passes",e.Games="Games",e.Device="Devices"}(D||(D={})),function(e){e.Application="dapp",e.Consumable="Consumable",e.Durable="Durable",e.Game="dgame",e.GameDemo="dgamedemo"}(B||(B={})),function(e){e.Business="Business",e.Individual="Individual",e.None="None"}(F||(F={})),function(e){e.Default="Default",e.Purchase="Purchase",e.Browse="Browse",e.Details="Details",e.Gift="Gift",e.Fulfill="Fulfill",e.Redeem="Redeem",e.Unknown="Unknown"}(H||(H={})),function(e){e.Application="Application",e.AvatarItem="AvatarItem",e.Bundles="Bundles",e.Consumable="Consumable",e.CSV="CSV",e.Devices="Devices",e.Durable="Durable",e.Game="Game",e.Movie="Movie",e.OperatingSystem="OperatingSystem",e.Pass="PASS",e.Physical="Physical",e.TVEpisode="TVEpisode",e.TVSeason="TVSeason",e.TVSeries="TVSeries",e.UnmanagedConsumable="UnmanagedConsumable"}(q||(q={})),function(e){e.Hololens="HoloLens",e.Hub="Hub",e.MobileDevice="MobileDevice",e.PC="PC",e.XboxOne="XboxOne",e.XboxSeriesX="XboxSeriesX",e.XCloud="XCloud"}(G||(G={})),function(e){e.xcloud="xcloud",e.geforcenow="geforcenow"}(z||(z={}));const X="CFQ7TTC0K5DJ",$="CFQ7TTC0P85B",V="CFQ7TTC0K6L8",W="CFQ7TTC0KGQ8",K="CFQ7TTC0KHS0",j="CFQ7TTC0HXBN",Y="CFQ7TTC0K5DH",Z="CFQ7TTC0QH5H",Q="CFQ7TTC0HX8W",J="Game Pass Core",ee="Xbox Game Pass Core",te="Game Pass Standard",ne="Xbox Game Pass Standard",re="Game Pass",oe="Xbox Game Pass",ae="Console",ie="PC Game Pass",se="Game Pass Ultimate",le="Xbox Game Pass Ultimate",ce="Friends & Family",ue="EA Play",de="Ubisoft+",he="GTA+",me=[V,W,K,j,X,$],pe=[V,X,$,W,K,Y];var ge;!function(e){e.CeroZ="CeroZ",e.CloudEnabled="CloudEnabled",e.CloudEnabledWithPurchase="CloudEnabledWithPurchase",e.DlcRequiresGame="DlcRequiresGame",e.InAppPurchase="InAppPurchase",e.PurchaseUnavailableOnWeb="PurchaseUnavailableOnWeb",e.SubscriptionDisclaimer="SubscriptionDisclaimer",e.SubscriptionDisclaimerUKOnly="SubscriptionDisclaimerUKOnly",e.UbisoftPlusSubscriptionDisclaimer="UbisoftPlusSubscriptionDisclaimer",e.XboxLiveGoldRequired="XboxLiveGoldRequired",e.XboxLiveGoldRequiredForOnline="XboxLiveGoldRequiredForOnline"}(ge||(ge={}));const fe=e=>!(!e||e.hasTrial||!e.duration||!e.initialDuration),ve=(e,t,n,o)=>e<=0?o:(0,r.xGv)(e,t,n),_e=(e,t)=>{const n=(0,l.useSelector)(r.yWe),[a,i,s,c]=(0,o.QF)("discountedPriceWithAfterTextAccessibilityTemplate","freeText","freePriceWithAfterTextAccessibilityTemplate","promoDurationOfferRecurringPriceAfter"),u=(()=>{const[e,t,n,a,i,s,l,c,u,d,h]=(0,o.QF)("dailyRecurrenceDisplayStringFormat","dailyRecurrenceAccessibilityLabelFormat","genericRecurrenceStringFormat","monthlyRecurrenceDisplayStringFormat","monthlyRecurrenceAccessibilityLabelFormat","priceForTimeStringFormat","quarterlyRecurrenceDisplayStringFormat","quarterlyRecurrenceAccessibilityLabelFormat","yearlyRecurrenceDisplayStringFormat","yearlyRecurrenceAccessibilityLabelFormat","freeText"),m=(0,C.Hr)();return(o,p,g,f)=>{let v=o,_=o;if(g&&g.isRecurring){const y=p?g.initialDuration:g.duration;if(y&&y.unitType&&y.units)if(p){const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(s,o,e),_=v)}else if("DAY"===y.unitType.toUpperCase()){if(1===y.units)_=(0,r.WUZ)(t,o),v=(0,r.WUZ)(e,o);else{const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(n,o,e),_=v)}f&&(v=h)}else if("MONTH"===y.unitType.toUpperCase()){switch(y.units){case 1:v=(0,r.WUZ)(a,o),_=(0,r.WUZ)(i,o);break;case 3:v=(0,r.WUZ)(l,o),_=(0,r.WUZ)(c,o);break;case 12:v=(0,r.WUZ)(u,o),_=(0,r.WUZ)(d,o);break;default:{const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(n,o,e),_=v)}}f&&(v=h)}}return{priceLabel:v,accessibilityLabel:_}}})(),d=(0,C.KG)(),h=(()=>{const[e,t,n,r,a,i,s,l]=(0,o.QF)("withEAPlayText","withGamePassText","withGamePassUltimateText","withPCGamePassText","withXboxLiveGoldText","withGamePassCoreText","withText","withUbisoftPlusText");return o=>{let c,u,d;switch(o){case M.EAAccess:c=e;break;case M.GamePass:c=t,u=C.E0.XboxGamepassInline,d=s;break;case M.GamePassUltimate:c=n,u=C.E0.GamepassUltimateInline2,d=s;break;case M.PCGamePass:c=r,u=C.E0.XboxGamepassInline,d=s;break;case M.XboxLiveGold:c=a,u=C.E0.XboxGoldInline,d=s;break;case M.GamePassCore:c=i,u=C.E0.XboxGamepassInline,d=s;break;case M.UbisoftPlus:c=l,u=C.E0.UbisoftPlus,d=s}return{afterText:c,afterTextGlyph:u,afterTextPrefix:d}}})();if(!e)return;const{msrp:m,listPrice:p,currency:g,eligibilityInfo:f}=e;let v,_,y,b,E,S=ve(m,g,n,i),T=S,w=S;return(null===t||void 0===t?void 0:t.isRecurring)&&(({priceLabel:S,accessibilityLabel:T}=u(S,!1,t)),w=T),(p!==m||(null===t||void 0===t?void 0:t.initialDuration)&&(null===t||void 0===t?void 0:t.duration)&&(t.initialDuration.units!==t.duration.units||t.initialDuration.unitType!==t.duration.unitType))&&(v=S,_=T,S=ve(p,g,n,i),T=S,(null===t||void 0===t?void 0:t.isRecurring)&&({priceLabel:S,accessibilityLabel:T}=u(S,void 0!==t.initialDuration,t,p<=0)),f&&f.eligibility!==L.None&&(f.type===M.Unknown?f.eligibility===L.Remediation&&(S=v,T=_,v=void 0,_=void 0):({afterText:y,afterTextGlyph:b,afterTextPrefix:E}=h(f.type))),_&&(w=0===p&&y?(0,r.WUZ)(s,_||"",y):(0,r.WUZ)(a,_||"",T,y||""),(null===t||void 0===t?void 0:t.initialDuration)&&(w=d(w,(0,r.WUZ)(c,_))))),{originalPrice:v,lowestPrice:S,afterText:y,afterTextGlyph:b,afterTextPrefix:E,accessibilityText:w}},ye=e=>{var t,n,a,i,s,c,u,d,h,m,p,g,f,v,_;const[y,b,E,S]=(0,o.QF)("freeText","priceForTimeStringFormat","promoDurationOffer","promoDurationOfferRecurringPriceAfter"),{sku:T,availability:w}=e,I=(0,l.useSelector)(r.yWe),k=_e(w.price,T.recurrencePolicySummary),A=(0,C.Hr)(),P=A(null===(n=null===(t=T.recurrencePolicySummary)||void 0===t?void 0:t.initialDuration)||void 0===n?void 0:n.units,null===(i=null===(a=T.recurrencePolicySummary)||void 0===a?void 0:a.initialDuration)||void 0===i?void 0:i.unitType),x=A(null===(s=w.promotionalDuration)||void 0===s?void 0:s.units,null===(c=w.promotionalDuration)||void 0===c?void 0:c.unitType);let R,N,O,L;if(P&&(null===k||void 0===k?void 0:k.lowestPrice)){const{currency:e,listPrice:t,msrp:n}=w.price;L=ve(t,e,I,y);const o=null!==(u=k.originalPrice)&&void 0!==u?u:k.lowestPrice;x?(R=(0,r.WUZ)(E,P,L,x),N=R):(null===(h=null===(d=T.recurrencePolicySummary)||void 0===d?void 0:d.initialDuration)||void 0===h?void 0:h.units)===(null===(p=null===(m=T.recurrencePolicySummary)||void 0===m?void 0:m.duration)||void 0===p?void 0:p.units)&&(null===(f=null===(g=T.recurrencePolicySummary)||void 0===g?void 0:g.initialDuration)||void 0===f?void 0:f.unitType)===(null===(_=null===(v=T.recurrencePolicySummary)||void 0===v?void 0:v.duration)||void 0===_?void 0:_.unitType)&&t===n||(R=(0,r.WUZ)(b,L,P)),R&&(O=fe(T.recurrencePolicySummary)&&T.recurrencePolicySummary.isRecurring&&o?(0,r.WUZ)(S,o):void 0)}return{initialOfferText:R,conciseInitialOfferText:N,recurringPriceText:O,initialDurationPrice:L,initialDurationString:P}};var be=n(882279);const Ce=function(e){var{title:t,titleId:n}=e,r=(0,S.__rest)(e,["title","titleId"]);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3392 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 640h3392v768H0V640zm568 441V787h-82v290q0 28-5 53t-17 44-33 31-53 12q-33 0-55-11t-35-32-18-46-5-56V787h-82v301q0 96 44 148t144 52q102 0 149-54t48-153zm382 199v-69H759V787h-81v493h272zm339-423v-70H924v70h142v423h81V857h142zm150 423V787h-85v493h85zm644 0V787h-111q-39 97-79 192t-74 193h-1q-3-14-8-28t-11-29l-130-328h-115v493h75q0-61 1-122t1-122q0-43-1-85t-3-86h1q3 12 5 25t8 24l148 366h56l147-368q5-11 7-23t6-24h2q-2 24-3 48t-2 48v319h81zm520 0l-183-493h-92l-185 493h89l43-125h194l44 125h90zm-156-192h-151l68-197q2-8 3-15t4-16h1q2 8 3 15t4 16l68 197zm484-231v-70h-365v70h141v423h82V857h142zm342 423v-69h-195v-146h170v-69h-170V857h184v-70h-265v493h276z"}))};var Ee=n(94988);const Se=["title","titleId"],Te=e=>{let{title:t,titleId:n}=e,r=_()(e,Se);return s.createElement("svg",b()({width:"48",height:"32",viewBox:"0 0 48 32",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 0V32H35.3067L48 0H0ZM22.08 18.1333C22.08 19.52 21.76 20.8 21.2267 21.8667C20.5867 22.9333 19.7333 23.7867 18.56 24.4267C17.3867 25.0667 16 25.3867 14.4 25.3867C12.8 25.3867 11.4133 25.0667 10.24 24.4267C9.06667 23.7867 8.21333 22.9333 7.57333 21.8667C6.93333 20.8 6.72 19.52 6.72 18.1333V7.68H10.6667V17.8133C10.6667 19.0933 10.9867 20.0533 11.6267 20.8C12.2667 21.44 13.12 21.8667 14.2933 21.8667C15.4667 21.8667 16.32 21.5467 16.96 20.8C17.6 20.16 17.92 19.0933 17.92 17.8133V7.68H22.08V18.1333ZM32.2133 15.36V19.9467H29.0133V15.36H24.32V12.2667H29.12V7.68H32.32V12.2667H37.6533L36.2667 15.36H32.2133Z"}))},we=["title","titleId"],Ie=e=>{let{title:t,titleId:n}=e,r=_()(e,we);return s.createElement("svg",b()({width:"191",height:"32",viewBox:"0 0 191 32",xmlns:"http://www.w3.org/2000/svg"},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M109.801 2.09836C107.39 0.691506 104.692 0 101.684 0C99.2722 0 97.028 0.405367 94.9747 1.2161C92.9215 2.02683 91.2741 3.05216 90.0326 4.31595L91.0831 5.36513C89.4835 6.70045 88.242 8.32191 87.3347 10.2772C86.4275 12.2325 85.9739 14.4739 85.9739 17.0015C85.9739 19.696 86.6424 22.1997 87.9555 24.4888C89.2925 26.7779 91.1309 28.5663 93.5184 29.9255C95.9059 31.2608 98.6276 31.9285 101.684 31.9285C104.692 31.9285 107.39 31.237 109.801 29.8301C112.213 28.4232 114.075 26.5156 115.412 24.0835C116.749 21.6513 117.417 18.9329 117.417 15.9523C117.417 12.9717 116.749 10.2772 115.412 7.84501C114.075 5.43666 112.213 3.50522 109.801 2.09836ZM109.515 20.9598C108.774 22.4143 107.724 23.5589 106.387 24.3696C105.026 25.2042 103.474 25.6095 101.707 25.6095C99.9169 25.6095 98.3411 25.2042 96.9802 24.4173C95.6194 23.6304 94.5927 22.5574 93.8765 21.2221C93.1602 19.8867 92.8021 18.4083 92.8021 16.8346C92.8021 15.2846 93.0886 13.9732 93.6377 12.924C94.1869 11.8748 94.9509 10.9687 95.882 10.158L94.8315 9.10879C95.5955 8.27422 96.5505 7.6304 97.7204 7.12966C98.8902 6.62891 100.227 6.39046 101.707 6.39046C103.474 6.39046 105.026 6.79583 106.387 7.6304C107.748 8.46498 108.798 9.58569 109.515 11.0402C110.255 12.4948 110.613 14.1401 110.613 16C110.613 17.8361 110.255 19.5052 109.515 20.9598Z"}),s.createElement("path",{d:"M71.0998 10.8018C72.0309 11.4456 73.6544 12.1848 76.018 13.0194C78.7875 13.9971 80.8408 15.1655 82.13 16.5962C83.4193 17.9553 84.0639 19.7914 84.0639 22.0805C84.0639 24.1312 83.5864 25.9196 82.6314 27.4218C81.6764 28.924 80.3872 30.0447 78.7637 30.8316C77.1402 31.6185 75.3495 32 73.3679 32C70.67 32 68.3303 31.4039 66.3964 30.2355C64.4387 29.0671 63.0539 27.3741 62.1944 25.2042L67.5424 21.2221C68.0199 22.5813 68.8078 23.6543 69.9299 24.4889C71.052 25.3234 72.2697 25.7288 73.5589 25.7288C74.681 25.7288 75.5883 25.4427 76.3045 24.8704C76.9969 24.2981 77.355 23.5351 77.355 22.5574C77.355 21.6036 76.9492 20.7929 76.1613 20.1252C75.3734 19.4337 73.8932 18.7184 71.7444 17.9553C69.0704 16.9777 67.0172 15.8093 65.5847 14.4024C64.1522 12.9956 63.4359 11.1118 63.4359 8.72731C63.4359 7.08201 63.8657 5.60361 64.7252 4.26829C65.5847 2.95682 66.7784 1.90764 68.3064 1.16844C69.8344 0.429249 71.5773 0.0477295 73.5112 0.0477295C75.8987 0.0477295 77.9758 0.52463 79.7187 1.47843C81.4854 2.43223 82.7747 3.83908 83.6342 5.699L78.2862 9.39497C77.2357 7.01047 75.5405 5.81822 73.2485 5.81822C72.2219 5.81822 71.3863 6.05667 70.7178 6.55742C70.0493 7.05816 69.715 7.70198 69.715 8.48886C69.715 9.37113 70.1687 10.1342 71.0998 10.8018Z"}),s.createElement("path",{d:"M47.9649 12.161C47.2486 13.2817 46.2459 14.0924 44.9805 14.617C48.6572 16 50.4956 18.5514 50.4718 22.2474C50.4718 24.0119 50.042 25.5857 49.1348 26.9926C48.2275 28.3994 46.9621 29.4724 45.3148 30.2593C43.6674 31.0462 41.7574 31.4277 39.537 31.4277H28.841V0.524597H39.1311C42.1394 0.524597 44.5508 1.19226 46.3414 2.52758C48.132 3.88674 49.0393 5.69896 49.0393 7.98808C49.0393 9.65723 48.6811 11.0641 47.9649 12.161ZM39.1073 6.462H35.5738V12.9955H39.1073C40.1578 12.9955 40.9934 12.7094 41.638 12.1371C42.2826 11.5648 42.593 10.7541 42.593 9.72877C42.593 8.70343 42.2826 7.8927 41.638 7.32042C41.0173 6.74814 40.1578 6.462 39.1073 6.462ZM39.2744 25.5142C40.7308 25.5142 41.829 25.1803 42.6169 24.5127C43.3809 23.8689 43.7868 22.8912 43.7868 21.6274C43.7868 20.3636 43.4048 19.4098 42.6169 18.7422C41.829 18.0745 40.7069 17.7407 39.2744 17.7407H35.5738V25.5142H39.2744Z"}),s.createElement("path",{d:"M17.2377 23.7735C18.2882 22.5574 18.8135 20.8167 18.8135 18.5514H18.8374V0.548462H25.5463V19.076C25.5463 21.5321 25.0449 23.7497 24.066 25.7049C23.0871 27.6602 21.6308 29.1863 19.6969 30.2832C17.763 31.3801 15.4471 31.9285 12.7731 31.9285C10.0753 31.9285 7.78325 31.3801 5.84938 30.2832C3.9155 29.1863 2.45912 27.6602 1.48025 25.7049C0.501374 23.7497 0 21.5559 0 19.076V0.548462H6.685V18.5514C6.685 20.8167 7.21025 22.5574 8.26075 23.7735C9.31125 24.9896 10.8154 25.6096 12.7492 25.6096C14.707 25.6096 16.1873 24.9896 17.2377 23.7735Z"}),s.createElement("path",{d:"M59.8069 0.548462H53.098V31.4277H59.8069V0.548462Z"}),s.createElement("path",{d:"M126.872 31.4277H120.163V0.548462H141.316V6.89123H126.872V13.997H140.003V19.1237H126.872V31.4277Z"}),s.createElement("path",{d:"M143.895 6.89123H152.585V31.4277H159.294V6.89123H167.961V0.548462H143.895V6.89123Z"}),s.createElement("path",{d:"M182.381 0.0238647V7.7258H191L188.803 12.924H182.381V20.6259H177.176V12.924H169.465V7.7258H177.176V0.0238647H182.381Z"}))},ke=["title","titleId"],Ae=e=>{let{title:t,titleId:n}=e,r=_()(e,ke);return s.createElement("svg",b()({width:"48",height:"48",viewBox:"0 0 744 523",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"GTATitle"},r),s.createElement("path",{d:"M635.55 6C653.89 6 668.8 20.92 668.8 39.25V74.88H704.43C722.77 74.88 737.68 89.8 737.68 108.13V156.22C737.68 174.56 722.76 189.47 704.43 189.47H668.8V225.1C668.8 243.44 653.88 258.35 635.55 258.35H584.17V445.4H431.59C429.11 445.4 416.34 445.1 402.93 439.69C398.12 437.75 393.73 435.35 389.79 432.54C385.86 435.35 381.47 437.76 376.68 439.7C363.27 445.13 350.51 445.46 348.09 445.47H260.08C257.66 445.46 244.91 445.11 231.51 439.68C229.09 438.7 226.78 437.6 224.58 436.39V456.57C224.57 460.28 223.93 473.23 216.03 486.61C209.52 497.64 193.54 516.15 159.71 516.15L6.00999 516.19L6.03 217.18C6.03 201.88 13.15 186.73 25.57 175.63C37.74 164.75 53.87 158.76 70.99 158.76H194.32L194.3 147.49H324.76L324.7 173.32H388.29C405.72 160.02 427.12 159.33 431.66 159.32H485.34V108.13C485.34 89.79 500.26 74.88 518.59 74.88H554.22V39.25C554.22 20.91 569.14 6 587.47 6H635.55ZM635.55 0H587.46C565.82 0 548.21 17.61 548.21 39.25V68.88H518.58C496.94 68.88 479.33 86.49 479.33 108.13V153.32H431.65C425.46 153.34 404.38 154.43 386.31 167.32H330.71L330.75 147.5C330.75 145.91 330.12 144.38 329 143.25C327.87 142.12 326.35 141.49 324.75 141.49H194.29C192.7 141.49 191.17 142.12 190.04 143.25C188.91 144.38 188.28 145.91 188.29 147.5L188.3 152.76H70.98C52.38 152.76 34.83 159.3 21.56 171.16C7.87 183.4 0.019989 200.18 0.019989 217.18L0 516.19C0 517.78 0.629995 519.31 1.75999 520.43C2.88999 521.55 4.41 522.19 6 522.19L159.7 522.15C196.51 522.15 214.02 501.79 221.19 489.66C229.86 474.97 230.56 460.63 230.57 456.58V445.76C244.48 451.1 257.5 451.45 260.03 451.47H348.07C350.71 451.46 364.49 451.1 378.91 445.26C382.74 443.71 386.38 441.86 389.77 439.75C393.17 441.86 396.82 443.71 400.67 445.26C415.1 451.08 428.94 451.4 431.57 451.4H584.17C587.48 451.4 590.17 448.71 590.17 445.4V264.35H635.55C657.19 264.35 674.8 246.74 674.8 225.1V195.47H704.43C726.07 195.47 743.68 177.86 743.68 156.22V108.13C743.68 86.49 726.07 68.88 704.43 68.88H674.8V39.25C674.8 17.61 657.19 0 635.55 0Z"}),s.createElement("path",{d:"M36.02 217.18L36 387.45C36 415.35 71.12 415.52 71.12 415.52H123.85V429.82H36.01V486.18L159.71 486.15C194.52 486.15 194.58 456.56 194.58 456.56V188.75H70.98C49.81 188.75 36.02 203.91 36.02 217.18ZM106.7 245.56H123.82V359.16H106.7V245.56ZM382.84 273.88H313.03V359.18H295.58V259.62H382.85V203.33H294.64L294.7 177.5H224.34L224.38 203.33H207.85V259.62H225.31V387.35C225.31 415.28 260.25 415.48 260.25 415.48H347.95C347.95 415.48 382.87 415.33 382.87 387.34H382.85V273.88H382.84ZM519.25 189.32H431.6C431.6 189.32 396.69 189.26 396.69 217.89V259.78H466.9V245.95H483.95V274.06H431.59C431.59 274.06 396.69 274.01 396.69 302.16V387.33C396.69 415.33 431.59 415.4 431.59 415.4H554.17V217.88C554.17 189.26 519.25 189.32 519.25 189.32ZM483.95 359.19H466.9V330.68H483.95V359.19Z"}),s.createElement("path",{d:"M704.43 104.88H638.8V39.25C638.8 37.45 637.34 36 635.55 36H587.46C585.66 36 584.21 37.46 584.21 39.25V104.88H518.58C516.78 104.88 515.33 106.34 515.33 108.13V156.22C515.33 158.02 516.79 159.47 518.58 159.47H584.21V225.1C584.21 226.9 585.67 228.35 587.46 228.35H635.55C637.35 228.35 638.8 226.89 638.8 225.1V159.47H704.43C706.23 159.47 707.68 158.01 707.68 156.22V108.13C707.68 106.34 706.22 104.88 704.43 104.88Z"}))},Pe=e=>{switch((0,r.kgH)(e)){case V:case W:case X:case $:return C.E0.XboxGamepassInline;case K:return C.E0.GamepassUltimateInline2;default:return}},xe=e=>{switch((0,r.kgH)(e)){case V:case W:case X:case $:return be.Z;case K:return Ce;case Y:return Ee.Z;case Z:return Te;case Q:return Ae;default:return}},Re=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch((0,r.kgH)(e)){case V:case W:return re;case $:return te;case K:return t?re:se;case X:return J;case Y:return ue;case Z:return de;case Q:return he;default:return""}},Ne=(e,t)=>0!==e?Math.round(100*Math.abs(1-t/e)):0,Oe=e=>{const{upsellProductId:t,isTrial:n,nonCatalogUpsellProductId:a,productEntitlement:i}=e,[s,l,c,u,d]=(0,o.QF)("upsellIncludedWithFormat","youOwnThisText","freeTrialUpsellFormat","freeTrial","geforceNowServiceUpsellTitle"),h=(0,r.kgH)(t)===Z;let m,p=n?u:(null===i||void 0===i?void 0:i.isOwned)?l:"";if(a){if(a.toLowerCase()===z.geforcenow)p=(0,r.WUZ)(n?c:s,d)}else if(t){const e=Re(t,!1);m=Pe(t),p=(0,r.WUZ)(n?c:s,m||h?"":e)}return{affordingText:p,upsellGlyph:m}};n(200634),n(231235);const Le=(e,t)=>(null===t||void 0===t?void 0:t.skuDescription)||e.description,Me=(e,t)=>(null===t||void 0===t?void 0:t.skuTitle)||e.title,Ue=e=>{var t,n;return e.actions.includes(H.Purchase)&&e.actions.includes(H.Details)&&(null===(n=null===(t=e.price)||void 0===t?void 0:t.eligibilityInfo)||void 0===n?void 0:n.eligibility)!==L.Remediation},De=e=>(0,r.Ypc)(e,U.Consumable)||(0,r.Ypc)(e,U.Durable)||(0,r.Ypc)(e,U.UnmanagedConsumable),Be=e=>(0,r.Ypc)(e,q.Devices),Fe=e=>!!(e&&e.product&&e.sku&&e.availability),He=e=>{var t;const[n,a,i]=(0,o.QF)("promoFreeDayWithPluralizationFormatRules","promoFreeMonthWithPluralizationFormatRules","promoFreeYearWithPluralizationFormatRules");if(!e||!e.units)return;let s;switch(null===(t=e.unitType)||void 0===t?void 0:t.toLowerCase()){case C.zy.Year:s=i;break;case C.zy.Month:s=a;break;case C.zy.Day:s=n}return s?(0,r.yy9)(s,e.units):void 0};n(136728),n(9e4),n(474407),n(426464),n(18339),n(264903);const qe=e=>{var t;const n=[];return e.videos&&e.videos.length>0&&n.push(...e.videos.filter((e=>{var t;return null===(t=e.purpose)||void 0===t?void 0:t.toLowerCase().includes("trailer")}))),(null===(t=e.cmsVideos)||void 0===t?void 0:t.length)&&n.push(...e.cmsVideos.reduce(((e,t)=>{var n;return(null===(n=t.purpose)||void 0===n?void 0:n.toLowerCase().includes("trailer"))&&e.push(b()(b()({},t),{},{isCmsVideo:!0})),e}),[])),n},Ge=["satisfyingPassId"],ze=["className","isPass","productInfo","productPrice","discountDetailClassName","historicalLowestListPrice","hideDiscountMessage"],Xe=e=>{let{afterText:t,afterTextGlyph:n,afterTextPrefix:r,className:o,hasAddOns:a,listedPriceClassName:l,lowestPrice:c,originalPrice:u,useBrandStyling:d}=e;return s.createElement(s.Fragment,null,s.createElement("div",{className:i()(o,p)},!!u&&s.createElement("span",{"aria-hidden":"true",className:i()(d?"Price-module__brandOriginalPrice___ayJAn":"Price-module__originalPrice___XNCxs")},u),s.createElement("span",{className:i()("Price-module__boldText___1i2Li",m,l,{"Price-module__listedDiscountPrice___A-+d5":!d&&!!u})},`${c}${a?"+":""}`),s.createElement(je,{prefix:r,text:t,glyph:n})))},$e=e=>{const t=_e(e.productPrice,e.recurrencePolicySummary);return t?s.createElement(Xe,b()(b()({},e),t)):null},Ve=e=>{let{satisfyingPassId:t}=e,n=_()(e,Ge);const a=(0,o.iV)("upsellIncludedWithFormat");if(t){const e=(0,r.kgH)(t),o=Re(e,!1),l=Pe(e),c=e===Z,h=(0,r.WUZ)(a,l||c?"":o);return s.createElement("div",{className:i()(n.className,u)},s.createElement("span",null,h),l?l===C.E0.XboxGamepassInline?s.createElement(E.JO,{title:o,iconSize:E.Jh.Custom,"aria-label":o,className:d,icon:T}):s.createElement("span",{className:(0,C.ut)(C.JE.Prepend,l)}):c?s.createElement(Ie,{className:g}):"")}return s.createElement($e,b()({},n))},We=e=>{let{className:t,isPass:n,productInfo:r,productPrice:o,discountDetailClassName:a,historicalLowestListPrice:l,hideDiscountMessage:c}=e,u=_()(e,ze);const d=_e(o,u.recurrencePolicySummary);if(o&&d){const{afterText:e,afterTextGlyph:m,afterTextPrefix:g}=d;return s.createElement("div",{className:t},s.createElement(Xe,b()(b()(b()({},u),d),{},{afterText:void 0,afterTextPrefix:void 0,afterTextGlyph:void 0})),s.createElement("div",{className:i()(a,p)},n&&Fe(r)&&s.createElement(Ye,{productInfo:r}),!c&&!n&&s.createElement(Ke,{productPrice:o}),s.createElement(je,{prefix:g,text:e,glyph:m}),!c&&!n&&s.createElement(Ze,{productInfo:r}),l&&s.createElement(f,{historicalLowestListPrice:l,className:h})))}return null},Ke=e=>{let{productPrice:t}=e;const n=(0,o.iV)("pricePercentageOffTemplate"),{msrp:a,listPrice:i}=t;if(i>=a)return null;{const e=Math.round((a-i)/a*100),t=(0,r.WUZ)(n,e.toString());return s.createElement("span",null,t)}},je=e=>{let{glyph:t,prefix:n,text:r}=e;const a=(0,o.iV)("gamePassHomePageQuickLinksLabel");return r||t?s.createElement("span",{className:i()(m,u)},n&&s.createElement("span",null,n),t?((e,t)=>{if(!e)return null;switch(e){case C.E0.UbisoftPlus:return s.createElement(Ie,{className:g});case C.E0.XboxGamepassInline:return s.createElement(E.JO,{title:t,iconSize:E.Jh.Custom,"aria-label":t,className:d,icon:T});default:return s.createElement("span",{className:(0,C.ut)(C.JE.Prepend,e)})}})(t,a):s.createElement("span",null,r)):null},Ye=e=>{let{productInfo:t}=e;const n=(0,C.KG)(),{conciseInitialOfferText:r,recurringPriceText:o}=ye(t),a=n(r,o);return a?s.createElement("span",null,a):null},Ze=e=>{let{productInfo:t,className:n}=e;var a;const l=(0,o.iV)("offerExpirationTemplate"),c=(0,C.v0)(null===(a=t.availability)||void 0===a?void 0:a.endDateUtc),{unit:u,unitType:d,durationString:h}=c;if(!u||!d||!h||d===C.zy.Month&&u>1||d===C.zy.Year)return null;{const e=(0,r.WUZ)(l,h);return s.createElement("span",{className:i()(m,"Price-module__discountExpiry___FMkkE",n)},e)}};var Qe;function Je(e){return{updateAdditionalInformation:(0,r.PHw)("@productAdditionalInformation/UPDATE_PRODUCT_ADDITIONAL_INFORMATION",Qe.AdditionalInformation,e,(e=>({additionalInfo:e})))}}function et(e){return{updateAvailabilitySummaries:(0,r.PHw)("@availabilitySummaries/UPDATE_AVAILABILITY_SUMMARIES",Qe.AvailabilitySummary,e,(e=>({summaries:e})))}}function tt(e){return{getProductInfo:(0,r.LG0)(Qe.ProductInfo,e,"@productInfoActions/GET_PRODUCT_INFO",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{productId:e,onlyProductSummary:t}}),(e=>({productId:e})),((e,t)=>({productId:e,error:t}))),getBulkProductInfo:(0,r.LG0)(Qe.ProductInfo,e,"@productInfoActions/GET_BULK_PRODUCT_INFO",(e=>({productIds:e})),(e=>({productIds:e})),((e,t)=>({productIds:e,error:t})))}}function nt(e){return{updateProductSummaries:(0,r.PHw)("@productSummaries/UPDATE_PRODUCT_SUMMARIES",Qe.ProductSummary,e,(e=>({summaries:e})))}}function rt(e){return{updateSkuSummaries:(0,r.PHw)("@skuSummaries/UPDATE_SKU_SUMMARIES",Qe.SkuSummary,e,(e=>({summaries:e})))}}function ot(e){return{additionalInformationActions:Je(e),availabilitySummaryActions:et(e),productSummaryActions:nt(e),productInfoActions:tt(e),skuSummaryActions:rt(e)}}!function(e){e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ProductSummary="ProductSummary",e.SkuSummary="SkuSummary",e.ProductInfo="ProductInfo"}(Qe||(Qe={}));const at={};function it(e){return(0,r.$ex)(Qe.AdditionalInformation,new r.h7h(at).on(e.updateAdditionalInformation,((e,t)=>{if(!t.additionalInfo)return e;const n=(0,r.Lx9)(t.additionalInfo.productId);return b()(b()({},e),{},{[n]:t.additionalInfo})})).build())}const st={};function lt(e){return(0,r.$ex)(Qe.AvailabilitySummary,new r.h7h(st).on(e.updateAvailabilitySummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){const n=(0,r.Lx9)(t.productId),o=(0,r.Lx9)(t.skuId),a=(0,r.Lx9)(t.availabilityId);e[n]?e[n][o]?e[n][o][a]=t:e[n][o]=b()(b()({},e[n][o]),{},{[a]:t}):e[n]={[o]:{[a]:t}}}return e}),b()({},e)):e)).build())}const ct={};function ut(e){return(0,r.$ex)(Qe.ProductSummary,new r.h7h(ct).on(e.updateProductSummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){e[(0,r.Lx9)(t.productId)]=t}return e}),b()({},e)):e)).build())}const dt={};function ht(e){return(0,r.$ex)(Qe.SkuSummary,new r.h7h(dt).on(e.updateSkuSummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){const n=(0,r.Lx9)(t.productId),o=(0,r.Lx9)(t.skuId);e[n]?e[n][o]=t:e[n]={[o]:t}}return e}),b()({},e)):e)).build())}const mt={},pt={isLoading:!1,hasContent:!1,error:void 0};function gt(e){return{additionalInformation:it(e.additionalInformationActions),availabilitySummaries:lt(e.availabilitySummaryActions),productSummaries:ut(e.productSummaryActions),productInfoMetadata:(t=e.productInfoActions,(0,r.$ex)(Qe.ProductInfo,new r.h7h(mt).on(t.getProductInfo.start,(function(e,t){const n=(0,r.Lx9)(t.productId),o=e[n]||pt;return b()(b()({},e),{},{[n]:b()(b()({},o),{},{isLoading:!0,error:void 0})})})).on(t.getProductInfo.success,(function(e,t){const n=(0,r.Lx9)(t.productId);return b()(b()({},e),{},{[n]:{isLoading:!1,hasContent:!0,error:void 0}})})).on(t.getProductInfo.error,(function(e,t){const n=(0,r.Lx9)(t.productId),o=e[n]||pt;return b()(b()({},e),{},{[n]:b()(b()({},o),{},{isLoading:!1,error:t.error})})})).on(t.getBulkProductInfo.start,(function(e,t){const n=b()({},e);for(const o of t.productIds){const t=(0,r.Lx9)(o),a=e[t]||pt;n[t]=b()(b()({},a),{},{isLoading:!0,error:void 0})}return n})).on(t.getBulkProductInfo.success,(function(e,t){const n=b()({},e);for(const o of t.productIds)n[(0,r.Lx9)(o)]={isLoading:!1,hasContent:!0,error:void 0};return n})).on(t.getBulkProductInfo.error,(function(e,t){const n=b()({},e);for(const o of t.productIds){const a=(0,r.Lx9)(o),i=e[a]||pt;n[a]=b()(b()({},i),{},{isLoading:!1,error:t.error})}return n})).build())),skuSummaries:ht(e.skuSummaryActions)};var t}n(34715),n(319570);const ft=e=>Object.values(e).reduce(((e,t)=>(Object.values(t).forEach((t=>{e.push(t)})),e)),[]);n(652856),n(657610);n(748166),n(464925),n(945162),n(654819);function vt(e){const t=t=>e(t).additionalInformation,n=t=>e(t).availabilitySummaries,o=t=>e(t).productSummaries,a=t=>e(t).productInfoMetadata,i=t=>e(t).skuSummaries,s=function(e){return{getProductAdditionalInformation:(t,n)=>e(t)[(0,r.Lx9)(n)]}}(t),l=function(e){const t=[];return{getAvailabilitySummary:(t,n,o,a)=>{var i,s;const l=(0,r.Lx9)(n),c=(0,r.Lx9)(o),u=(0,r.Lx9)(a),d=e(t);return null===(s=null===(i=null===d||void 0===d?void 0:d[l])||void 0===i?void 0:i[c])||void 0===s?void 0:s[u]},getAvailabilitySummaryProductState:(t,n)=>e(t)[(0,r.Lx9)(n)],getAvailabilitySummariesByProductId:(n,o)=>{const a=(0,r.Lx9)(o),i=e(n)[a];return i?ft(i):t},getAvailabilitySummariesByProductSkuId:(t,n,o)=>{var a,i;const s=(0,r.Lx9)(n),l=null!==(i=null===(a=e(t)[s])||void 0===a?void 0:a[o])&&void 0!==i?i:{};return Object.values(l)}}}(n),c=function(e){const t=(t,n)=>e(t)[(0,r.Lx9)(n)];return{getProductSummary:t,getLanguageSupportDetail:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.languagesSupported},getShowSupportedLanguageDisclaimer:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.showSupportedLanguageDisclaimer},getAchievementSummary:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.achievements},getProductIsComingSoon:(e,n)=>{var r;const o=null===(r=t(e,n))||void 0===r?void 0:r.passMetadataByPassProductId;return!!o&&Object.values(o).some((e=>!!(null===e||void 0===e?void 0:e.entryDateUTC)&&new Date(e.entryDateUTC).toISOString()>(new Date).toISOString()))}}}(o),u=function(e){return{getProductInfoMetadata:(t,n)=>e(t)[(0,r.Lx9)(n)]}}(a),d=function(e){const t=(t,n)=>e(t)[(0,r.Lx9)(n)],n=[],o=[];return{getSkuSummary:(t,n,o)=>{const a=(0,r.Lx9)(n),i=(0,r.Lx9)(o),s=e(t)[a];return null===s||void 0===s?void 0:s[i]},getSkuSummaryStateForProductId:t,getSkuIdsByProductId:(e,r)=>{const o=t(e,r);return o?Object.keys(o):n},getSkuSummariesByProductId:(e,n)=>{const r=t(e,n);return r?Object.values(r):o}}}(i),h=function(e,t,n){const r=(r,o,a,i,s)=>{let l,c;const u=e.getProductSummary(r,o);if(u){const e=[a];for((null===s||void 0===s?void 0:s.useOptimalFallback)&&e.push(u.optimalSkuId),(null===s||void 0===s?void 0:s.usePreferredFallback)&&e.push(u.preferredSkuId);e.length;){const a=e.shift();if(a&&(l=t.getSkuSummary(r,o,a),l)){if((null===s||void 0===s?void 0:s.skipGamesWithGoldSku)&&l.isGamesWithGoldSku)l=void 0;else if(null===s||void 0===s?void 0:s.requirePurchaseableSku){const e=n.getAvailabilitySummariesByProductSkuId(r,o,l.skuId);(null===e||void 0===e?void 0:e.find((e=>e.actions.includes(H.Purchase))))||(l=void 0)}if(l)break}}}if(l){const e=[i];for((null===s||void 0===s?void 0:s.useOptimalFallback)&&e.push(l.optimalAvailabilityId),(null===s||void 0===s?void 0:s.usePreferredFallback)&&e.push(l.preferredAvailabilityId);e.length;){const t=e.shift();if(t&&(c=n.getAvailabilitySummary(r,o,l.skuId,t),c))break}}return u&&((null===s||void 0===s?void 0:s.allowPartial)||l&&c)?{product:u,sku:l,availability:c}:void 0},o=(e,r,o,a)=>{let{product:i,sku:s,availability:c}=l(e,r,o,a);return!o&&(null===i||void 0===i?void 0:i.preferredSkuId)&&(s=t.getSkuSummary(e,r,i.preferredSkuId)),!c&&(null===s||void 0===s?void 0:s.preferredAvailabilityId)&&(c=n.getAvailabilitySummary(e,r,s.skuId,s.preferredAvailabilityId)),i&&s&&c?{product:i,sku:s,availability:c}:void 0},a=(e,t,n,o)=>r(e,t,n,o,{allowPartial:!0,useOptimalFallback:!0,usePreferredFallback:!0}),i=(e,r,o,a)=>{let{product:i,sku:s,availability:c}=l(e,r,o,a);return!o&&(null===i||void 0===i?void 0:i.optimalSkuId)&&(s=t.getSkuSummary(e,r,i.optimalSkuId)),!c&&(null===s||void 0===s?void 0:s.optimalAvailabilityId)&&(c=n.getAvailabilitySummary(e,r,s.skuId,s.optimalAvailabilityId)),i&&s&&c?{product:i,sku:s,availability:c}:void 0},s=(e,r,o,a)=>{let{product:i,sku:s,availability:c}=l(e,r,o,a);return!o&&(null===i||void 0===i?void 0:i.optimalSkuId)&&(s=t.getSkuSummary(e,r,i.optimalSkuId)),!c&&(null===s||void 0===s?void 0:s.optimalAvailabilityId)&&(c=n.getAvailabilitySummary(e,r,s.skuId,s.optimalAvailabilityId)),i?{product:i,sku:s,availability:c}:void 0},l=(r,o,a,i)=>{const s=e.getProductSummary(r,o);let l,c;return s&&a&&(l=t.getSkuSummary(r,o,a),l&&i&&(c=n.getAvailabilitySummary(r,o,a,i))),{product:s,sku:l,availability:c}};return{getProductSummaryInfo:r,getFullProductSummaryInfo:o,getPartialProductSummaryInfoWithOptimalAndPreferredFallbacks:a,getPartialPurchasableProductSummaryInfoWithOptimalAndPreferredFallbacks:(r,o,a,i)=>{let s,l;const c=e.getProductSummary(r,o);if(c){const e=[a,c.optimalSkuId,c.preferredSkuId];for(const a of e)if(a&&(s=t.getSkuSummary(r,o,a),s)){const e=[i,s.optimalAvailabilityId,s.preferredAvailabilityId];for(const t of e)if(t){if(l=n.getAvailabilitySummary(r,o,s.skuId,t),l&&Ue(l))return{product:c,sku:s,availability:l};l=void 0}s=void 0}}return c?{product:c,sku:s,availability:l}:void 0},getFullOptimalProductSummaryInfo:i,getPartialOptimalProductSummaryInfo:s,getFullProductSummaryInfos:(e,t)=>t.map((t=>o(e,t.productId,t.skuId,t.availabilityId))).filter((e=>!!e)),getNullableProductSummaryInfo:l,getFullOptimalProductSummaryInfos:(e,t)=>t.map((t=>i(e,t.productId,t.skuId,t.availabilityId))).filter((e=>!!e)),getPartialOptimalProductSummaryInfos:(e,t)=>t.map((t=>s(e,t.productId,t.skuId,t.availabilityId))).filter((e=>!!e)),getNullableProductSummaryInfos:(e,t)=>t.map((t=>l(e,t.productId,t.skuId,t.skuId))),getPartialProductSummaryInfosWithOptimalAndPreferredFallbacks:(e,t)=>t.reduce(((t,n)=>{const r=a(e,n.productId,n.skuId,n.availabilityId);return r&&t.push(r),t}),[])}}(c,d,l);return{additionalInformationSelectors:s,availabilitySummarySelectors:l,productSummarySelectors:c,productSummaryInfoSelectors:h,productInfoMetadataSelectors:u,skuSummarySelectors:d,getAdditionalInformationState:t,getAvailabilitySummaryState:n,getProductSummaryState:o,getProductInfoMetadataState:a,getSkuSummaryState:i,getPurchasableSkuSummariesWithDetailByProductId:(e,t)=>{const n=d.getSkuSummariesByProductId(e,t);return 0===n.length?n:n.filter((n=>{const r=l.getAvailabilitySummariesByProductSkuId(e,t,n.skuId);if(!r)return!1;for(const e of r)return Ue(e);return!1}))}}}n(571372),n(460523);var _t=n(122799),yt=n(171315),bt=n(703380),Ct=n(387342),Et=n(20608);function*St(e,t){t.availabilitySummaries&&Array.isArray(t.availabilitySummaries)&&(yield(0,Et.put)(e.availabilitySummaryActions.updateAvailabilitySummaries(t.availabilitySummaries))),t.skuSummaries&&Array.isArray(t.skuSummaries)&&(yield(0,Et.put)(e.skuSummaryActions.updateSkuSummaries(t.skuSummaries))),t.productSummaries&&Array.isArray(t.productSummaries)&&(yield(0,Et.put)(e.productSummaryActions.updateProductSummaries(t.productSummaries)))}function*Tt(e,t,n){t.productSummaries&&Array.isArray(t.productSummaries)&&(yield(0,Et.put)(e.productSummaryActions.updateProductSummaries(t.productSummaries.filter((e=>(0,r.kgH)(e.productId)===(0,r.kgH)(n))))))}function*wt(e,t){const{productId:n,onlyProductSummary:o}=t;try{const t=yield(0,Et.select)(r.yWe),a=yield(0,Ct.Si)(),i=yield(0,yt.le)(),s=yield(0,Et.call)(r.gjf),l=yield(0,Et.call)(yt.R6),c={dependencyName:Ct.JS.EmeraldXbetService,dependencyOperationName:"GetProductInfo"},u={addAuthorization:!0,isRequired:!1},d=((e,t)=>{const n=`products/${e}`,r=new URLSearchParams;return r.append(bt.nV.locale,t.localeWithScript),`${n}?${r.toString()}`})(n,t),h=yield(0,Et.select)(r.$Pr,r.vCX.StagingFD),m=yield(0,Et.call)(bt.S,d,u,a,i,s,l,c,h);if(!(0,r.hAT)(m.status)){throw new Error(m.statusText)}o?yield(0,Et.call)(Tt,e,m.data,n):yield(0,Et.call)(St,e,m.data),yield(0,Et.put)(e.productInfoActions.getProductInfo.success(n))}catch(a){const t=(0,_t.toError)(a);yield(0,Et.put)(e.productInfoActions.getProductInfo.error(n,t))}}function*It(e,t){const{productIds:n}=t;try{const t=yield(0,Et.select)(r.yWe),o=yield(0,Ct.Si)(),a=yield(0,yt.le)(),i=yield(0,Et.call)(r.gjf),s=yield(0,Et.call)(yt.R6),l={dependencyName:Ct.JS.EmeraldXbetService,dependencyOperationName:"GetBulkProductInfo"},c={addAuthorization:!0,isRequired:!1},u=yield(0,Et.select)(r.$Pr,r.vCX.StagingFD),d=yield(0,Et.call)(bt.M3,(e=>e.post("products",{productIds:n},{params:{locale:t.localeWithScript}})),o,i,l,u,{authConfig:c,authenticationProvider:a,aadAuthConfig:s});if(!(0,r.hAT)(d.status)){throw new Error(d.statusText)}yield(0,Et.call)(St,e,d.data),yield(0,Et.put)(e.productInfoActions.getBulkProductInfo.success(n))}catch(o){const t=(0,_t.toError)(o);yield(0,Et.put)(e.productInfoActions.getBulkProductInfo.error(n,t))}}function kt(e){return function*(){yield(0,Et.takeEvery)((0,r.UoI)(e.productInfoActions.getProductInfo.start),wt,e),yield(0,Et.takeEvery)((0,r.UoI)(e.productInfoActions.getBulkProductInfo.start),It,e)}}const At=[];const Pt=[],xt=[];function Rt(e){const t=function(e){return{useGetSkuIdsByProductId:t=>{const n=(0,l.useSelector)((n=>e.getSkuSummaryStateForProductId(n,t)));return(0,s.useMemo)((()=>n?Object.keys(n):Pt),[n])},useGetSkuSummariesByProductId:t=>{const n=(0,l.useSelector)((n=>e.getSkuSummaryStateForProductId(n,t)));return(0,s.useMemo)((()=>n?Object.values(n):xt),[n])}}}(e.skuSummarySelectors),n=function(e){return{useAvailabilitySummariesByProductId:function(t){const n=(0,l.useSelector)((n=>e.getAvailabilitySummaryProductState(n,t)));return(0,s.useMemo)((()=>n?ft(n):At),[n])},useAvailabilitySummariesByProductSkuId:function(t,n){const r=(0,l.useSelector)((n=>e.getAvailabilitySummaryProductState(n,t))),o=null===r||void 0===r?void 0:r[n];return(0,s.useMemo)((()=>o?Object.values(o):At),[o])}}}(e.availabilitySummarySelectors);return{skuSummaryHooks:t,availabilitySummaryHooks:n}}function Nt(e,t){const n=ot(e),o=(a=n,(0,r.gTX)(gt(a)));var a;const i=vt(t);return{productsActions:n,productsReducer:o,productsSelectors:i,productsSagas:kt(n),productsHooks:Rt(i)}}function Ot(e,t){const n=ot(e),r=gt(n),o=vt(t);return{productsActions:n,productsReducers:r,productsSelectors:o,productsSagas:kt(n),productsHooks:Rt(o)}}},54433:(e,t,n)=>{"use strict";n.d(t,{xe:()=>g,SV:()=>p});var r=n(900814),o=n.n(r),a=n(124923),i=n.n(a),s=(n(122799),n(387342)),l=n(202784),c=n(607158);const u=["children"],d=e=>{let{renderChildren:t}=e;return l.createElement(l.Fragment,null,t())};class h extends l.Component{constructor(e){super(e),this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){const n=`Error while rendering content. \n OriginalMessage: ${e.message} \n ComponentStack: ${t.componentStack}`;this.props.logger?this.props.logger.error(n,e):console.error(n)}render(){return this.state.error?this.props.renderError(this.state.error):l.createElement(l.Fragment,null,this.props.children)}}const m=e=>{let{children:t}=e,n=i()(e,u);return l.createElement(h,o()({},n),l.createElement(d,{renderChildren:t}))},p=e=>{const t=(0,s.Fj)(),n=e.renderError||(e=>l.createElement(c.mf,{error:e}));return l.createElement(m,o()(o()({},e),{},{renderError:n,logger:t}))},g=e=>{const t=`Error code: ${e.cV}`,n=e.renderError||(e=>l.createElement(c.WA,{title:"We are sorry, the page you requested cannot be found.",error:e,errorCodeDisplayString:t,subtitle:"The URL may be misspelled or the page you're looking for is no longer available."}));return l.createElement(m,o()(o()({},e),{},{renderError:n}))}},607158:(e,t,n)=>{"use strict";n.d(t,{mf:()=>A,WA:()=>P,Jr:()=>x});var r=n(900814),o=n.n(r),a=(n(906886),n(703380)),i=n(316216),s=n(361030),l=n(387342),c=n(202784),u=n(107267),d=n(623667),h=n(79458),m=n(251295);const p=n.p+"static/media/error-hero-01.156ff95c.jpg";var g=n(949993),f=n(498900),v=n(8520),_=n(474495),y=n(332355);const b=n.p+"static/media/error-page-tile-games.bc4d4d57.jpg",C=n.p+"static/media/error-page-tile-consoles.726e67f4.jpg",E=n.p+"static/media/error-page-tile-support.94a896fe.svg";var S=n(446650);const T=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxGamesHeader","errorPageTileXboxGamesBody","errorPageTileXboxGamesLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.n5,{locale:r});return c.createElement(k,{imgSrc:b,header:e,body:t,linkText:n,href:o})},w=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxConsolesHeader","errorPageTileXboxConsolesBody","errorPageTileXboxConsolesLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.nG,{locale:r});return c.createElement(k,{imgSrc:C,header:e,body:t,linkText:n,href:o})},I=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxSupportHeader","errorPageTileXboxSupportBody","errorPageTileXboxSupportLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.PF,{locale:r});return c.createElement(k,{imgSrc:E,header:e,body:t,linkText:n,href:o})},k=e=>{let{imgSrc:t,header:n,body:r,href:o,linkText:a}=e;const[l]=(0,s.QF)("errorPageTileImageAltText");return c.createElement("div",{className:S.u5},c.createElement("img",{src:t,alt:(0,i.WUZ)(l,n),className:S.G5}),c.createElement("h3",{className:S.yU},n),c.createElement("p",{className:S.cI},r),c.createElement("div",null,c.createElement(f.k,{as:"a",href:o,buttonType:v.L$.Tertiary,target:"_blank",rel:"noopener noreferrer",className:S.xB,"aria-label":a},c.createElement("span",{className:S.xB},a))))},A=e=>{const[t,n,r,u,h]=(0,s.QF)("errorPageMessage","errorPageSubMessage","errorCodeTemplate","errorPageNotFoundMessage","errorPageNotFoundSubMessage"),p=(0,l.Qc)(),g=(0,i.WUZ)(r,p.cv().get());return(0,l.Li)(l.uZ.Error,d.G.Error,{additionalRerunParameter:e.error.name,data:(0,i.NqY)({errorName:e.error.name,errorMessage:e.error.message,errorStack:e.error.stack})}),c.createElement(m.B,{status:e.statusCode||a.WE.InternalServerError},c.createElement(P,o()({errorCodeDisplayString:g,title:e.statusCode===a.WE.NotFound?u:t,subtitle:e.statusCode===a.WE.NotFound?h:n},e)))},P=e=>{let{errorCodeDisplayString:t,error:n,subtitle:r,title:o,children:a}=e;const[l]=(0,s.QF)("errorPageBackgroundImageAltText");return c.createElement("div",null,c.createElement("div",{className:g.L$},c.createElement("img",{src:p,alt:l,className:g.$m}),c.createElement("div",{className:g.li},c.createElement("h2",{className:g.eE},o),!!r&&c.createElement("p",{className:g.BX},r),t&&c.createElement("p",{className:g.uY},t),c.createElement(h.m,{featureGate:i.vCX.ShowStackOnError},c.createElement("p",null,n.stack)),a)),c.createElement("div",{className:g.T5},c.createElement(T,null),c.createElement(w,null),c.createElement(I,null)))},x=e=>{let{messageOverride:t}=e;const n=(0,s.iV)("genericErrorMessage"),r=(0,u.k6)(),o=r.createHref(r.location);return(0,l.Li)(l.uZ.GenericError,d.G.Error,{data:(0,i.NqY)({errorMessage:t||n,pageHref:o})}),c.createElement("div",null,c.createElement("h3",null,t||n))}},840974:(e,t,n)=>{"use strict";n.d(t,{d:()=>f});var r=n(900814),o=n.n(r),a=(n(906886),n(412524)),i=n.n(a),s=n(498900),l=n(8520),c=n(282008),u=n(202784),d=n(616763),h=n(387342),m=n(316216),p=n(361030),g=n(578489);const f=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:r,linkIconClassName:a,linkIconSize:f,linkText:v,linkTextClassName:_,telemetryProps:y}=e,b=(0,h.iZ)((0,h._d)({behavior:h.cg.NAVIGATIONFORWARD,contentName:v,id:"ExternalLink"},y)),[C,E]=(0,p.QF)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),S=(0,m.WUZ)(C,t||v,E);return u.createElement(s.k,o()({"aria-label":S,as:"a",buttonType:l.L$.Tertiary,className:i()(g.DK,r),href:n,rel:"noopener noreferrer",target:"_blank"},b),u.createElement("span",{className:_},v),u.createElement(c.JO,{icon:d.Z,iconSize:null!==f&&void 0!==f?f:c.Jh.XXSmall,className:i()(g.IA,a)}))}},768493:(e,t,n)=>{"use strict";n.d(t,{yY:()=>a,WV:()=>i,PE:()=>s.P});n(34715),n(426464),n(319570);var r=n(202784),o=n(303829);function a(){const e=(0,r.useContext)(o.D);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="RawResponse",r.raw=t,r.contentType=n}),[e])}function i(){const e=(0,r.useContext)(o.D);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="Redirect",r.url=t,r.statusCode=n}),[e])}var s=n(536712)},148276:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(202784),o=n(775543),a=n(48727);const i=e=>{let{className:t}=e;return r.createElement("div",{className:a.x},r.createElement(o.d,{className:t}))}},950421:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(659158);const l=(0,s.cx)({resolved:{},chunkName:()=>"PageNotFoundErrorPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(35755).then(n.bind(n,991827))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 991827}})},772416:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});n(477950),n(94908);var r=n(202784),o=n(107267),a=n(316216),i=n(182498);const s=e=>{let{children:t,onNewNavigationOnly:n,ignoreHash:s,ignoreSearch:l}=e;const c=(0,i.iY)(),u=(0,o.TH)(),{location:d}=(0,a.vzw)();return(0,r.useEffect)((()=>{const e=null!=d&&d.pathname===u.pathname&&(s||d.hash===u.hash)&&(l||d.search===u.search);if(!u.hash&&!e)if(n)c||window.scrollTo(0,0);else{const e=c||{x:0,y:0};requestAnimationFrame((()=>requestAnimationFrame((()=>window.scrollTo(e.x,e.y)))))}}),[u]),t?r.createElement(r.Fragment,null,t):null}},182498:(e,t,n)=>{"use strict";n.d(t,{RV:()=>c,iY:()=>l});n(477950),n(94908);var r=n(202784),o=n(107267),a=n(316216);const i=r.createContext({}),s=e=>e.key||`${e.pathname}${e.search}${e.hash}`,l=()=>{const e=(0,o.TH)();return(0,r.useContext)(i)[s(e)]},c=e=>{let{children:t}=e;const n=(0,a.vzw)(),o=(0,r.useRef)(),l=(0,r.useRef)({});if(n.location!==o.current){if(n.location){const e=s(n.location);l.current[e]={x:window.scrollX,y:window.scrollY}}o.current=n.location}return r.createElement(i.Provider,{value:l.current},t)}},613934:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(202784),o=n(520404);const a=e=>{let{featureGate:t,children:n}=e;const a=(0,r.useCallback)((()=>n),[n]);return r.createElement(o._,{featureGate:t,renderEnabled:a})}},659158:(e,t,n)=>{"use strict";n.d(t,{hx:()=>m,cx:()=>g,Ed:()=>i,LB:()=>s});var r=n(903963),o=n.n(r),a=n(316216);const i=15e3,s=e=>(0,a.Fbb)(i,o()(e,200));var l=n(900814),c=n.n(l),u=(n(43105),n(202784)),d=n(445595),h=n(54433);function m(e){const t=(0,d.ZP)(e);return Object.assign((e=>u.createElement(h.SV,{renderError:()=>null},(()=>u.createElement(t,c()({},e))))),{preload:t.preload.bind(t),load:t.load.bind(t)})}var p=n(498973);function g(e,t){return(0,d.ZP)(e,{fallback:null!==t&&void 0!==t?t:u.createElement(p.h,null)})}},832036:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(900814),o=n.n(r),a=n(124923),i=n.n(a),s=n(202784);const l=["className","src","alt","sources"],c=(0,s.forwardRef)(((e,t)=>{let{className:n,src:r,alt:a,sources:c}=e,u=i()(e,l);const d=s.createElement("img",o()({ref:t,className:n,src:r,alt:a},u));return c?s.createElement("picture",null,s.createElement(s.Fragment,null,c),d):d})),u=(0,s.memo)(c)},353513:(e,t,n)=>{"use strict";n.d(t,{Db:()=>i,bZ:()=>F,pF:()=>M,FX:()=>dn,sg:()=>jt,W2:()=>Qt,xe:()=>ye.xe,G1:()=>rt,oc:()=>_e,zy:()=>$,SV:()=>ye.SV,mf:()=>be.mf,WA:()=>be.WA,bf:()=>en,a3:()=>K,rE:()=>j,k6:()=>se,dL:()=>Ce.d,Ux:()=>Se,Lx:()=>ce,Jr:()=>be.Jr,E0:()=>l,JE:()=>s,Ee:()=>bt,l$:()=>Ze,h$:()=>Re,Dp:()=>Le,F1:()=>Ue,Fd:()=>lt,h2:()=>Be.h,mo:()=>ze,u_:()=>on,Lk:()=>Ve,EM:()=>Ye,lg:()=>et,ef:()=>At,au:()=>Pt,pJ:()=>Ot,GP:()=>Lt.G,Gr:()=>ke,Wv:()=>Rt.W,J1:()=>Ht,X2:()=>ln,RV:()=>Gt.RV,pQ:()=>Vt,TT:()=>Xt,oo:()=>qt,yx:()=>Et,JD:()=>Y,dj:()=>cn.d,jG:()=>ve,ut:()=>g,Iw:()=>fe,al:()=>N,Np:()=>O,hx:()=>De.hx,cx:()=>De.cx,Ed:()=>De.Ed,Ie:()=>z,Nl:()=>y,W0:()=>w,Wp:()=>re,EX:()=>ae,df:()=>oe,RO:()=>ie,KG:()=>ue,Hr:()=>V,v0:()=>W,yY:()=>Ee.yY,M9:()=>J,Nj:()=>R,p$:()=>L,LB:()=>De.LB});n(906886);var r=n(202784),o=n(316216),a=n(140959);const i=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!1),i=(0,o.$Ft)();(0,r.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"AdsOptOutSyncSuccess"===e.data.id){const t=i.get(o.J6I),n=e.data.adsOptOut;t===n||"0"!==n&&"1"!==n||i.set(o.J6I,n,{sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[i]);const s=(0,r.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"AdsOptOutSyncStart"},"https://www.microsoft.com")}),[e]);return t?r.createElement("iframe",{ref:e,onLoad:s,key:"adsOptOut-sync-iframe",name:"adsOptOut-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsCom3PAdsOptOutCookieSync.html",width:"0",height:"0",className:a.O}):null};var s,l,c=n(900814),u=n.n(c),d=(n(464925),n(654819),n(387342)),h=n(412524),m=n.n(h),p=n(156648);!function(e){e.Prepend="Prepend",e.Append="Append"}(s||(s={})),function(e){e.Accept="Accept",e.Add="Add",e.AddFriend="Addfriend",e.Back="Back",e.Cellphone="Cellphone",e.Cancel="Cancel",e.Checkbox="Checkbox",e.CheckboxComposite="CheckboxComposite",e.CheckBoxIndeterminate="CheckboxIndeterminate",e.CheckMark="CheckMark",e.ChevronDown="ChevronDown",e.ChevronLeft="ChevronLeft",e.ChevronRight="ChevronRight",e.ChevronUp="ChevronUp",e.CirclePlus="CirclePlus",e.Clear="Clear",e.Edit="Edit",e.Devices2="Devices2",e.Devices3="Devices3",e.Download="Download",e.FavoriteStar="FavoriteStar",e.FavoriteStarFill="FavoriteStarFill",e.Forward="Forward",e.GamepassUltimateInline2="GamePassUltimateInline2",e.GlobalNavButton="GlobalNavButton",e.Heart="Heart",e.Hololens="Hololens",e.Hololens2="Hololens2",e.IndicatorDotFilled="IndicatorDotFilled",e.IndicatorDotOutline="IndicatorDotOutline",e.Info="Info",e.LeftDoubleQuote="LeftDoubleQuote",e.Lock="Lock",e.MobileTablet="MobileTablet",e.More="More",e.OutlineHalfStarLeft="OutlineHalfStarLeft",e.Pc1="Pc1",e.Photo2="Photo2",e.PhotoCollection="PhotoCollection",e.Play="Play",e.PlayButton="PlayButton",e.PlayButtonLarge="PlayButtonLarge",e.RemoveFrom="RemoveFrom",e.RightDoubleQuote="RightDoubleQuote",e.LeftNavButton="LeftNavButton",e.RightNavButton="RightNavButton",e.Refresh="Refresh",e.Search="Search",e.Settings="Settings",e.Share="Share",e.ShoppingCart="ShoppingCart",e.System="System",e.TvMonitor="TvMonitor",e.UbisoftPlus="UbisoftPlus",e.Unknown="Unknown",e.Up="Up",e.View="View",e.Warning="Warning",e.World="World",e.XboxController="XboxController",e.XboxGamepassInline="XboxGamePassInline",e.XboxGoldInline="XboxGoldInline",e.XboxOneConsole="XboxOneConsole",e.XboxLogo="XboxLogo"}(l||(l={}));const g=(e,t)=>m()([p[`glyph${e}`],p[`glyph${e}${t}`]]);var f=n(125859);const v={width:"w",height:"h",maxWidth:"mw",maxHeight:"mh"},_={25:"25",50:"50",75:"75",100:"100",auto:"Auto"},y=(e,t)=>f[`${v[e]}${_[t]}`];var b=n(451791);const C={margin:"m",padding:"p"},E={top:"t",bottom:"b",left:"l",right:"r",leftRight:"x",topBottom:"y",all:""},S={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",auto:"Auto"},T={extraSmall:"Xs",small:"Sm",medium:"Md",large:"Lg"},w=(e,t,n,r)=>{const o=C[e],a=E[t],i=S[n];if(r&&"extraSmall"!==r){return b[`${o}${a}${T[r]}${i}`]}return b[`${o}${a}${i}`]};var I=n(954528);const k={xs:"Xs",sm:"Sm",md:"Md",lg:"Lg",xl:"Xl"},A=["xs","sm","md","lg","xl",void 0],P=e=>A[A.indexOf(e)+1],x=e=>e&&"xs"!==e?I[`d${k[e]}None`]:I.dNone,R=e=>e&&"xs"!==e?m()([x(),I[`d${k[e]}Block`]]):I.dBlock,N=e=>e&&P(e)?m()([x(e),R(P(e))]):x(e),O=e=>e&&P(e)?R(P(e)):N(),L=e=>e&&P(e)?x(P(e)):(e=>e&&P(e)?m()([R(e),x(P(e))]):R(e))();var M,U=n(345285);!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(M||(M={}));const D={[M.Warning]:l.Warning,[M.Information]:l.Warning,[M.Error]:l.Warning},B=e=>{const t=e.link||"#",n=e.link?void 0:e.onClick;return r.createElement("a",{key:e.text,"aria-label":e.text,href:t,onClick:n,className:m()([U.alertLink])},e.text)},F=e=>{const{text:t,actions:n,closeAction:o,level:a=M.Information,contentTelemetry:i={}}=e,c=D[a],h=!!c&&g(s.Prepend,c),p=(0,d._d)(i,{contentName:"Alert",templateName:"AlertComponent"}),f=(e=>{switch(e){case M.Warning:return"warning";case M.Error:return"danger";default:return"info"}})(a);return r.createElement("div",u()({className:m()([U.alertContainer,h,{"alert-dismissible":o},U[f]])},(0,d.iZ)(p)),r.createElement("div",{className:U.alertContent},t,n&&n.map(B)),o&&(v=o,r.createElement("button",{className:m()([U.closeButton]),"aria-label":v.text,"data-dismiss":"alert",onClick:v.onClick},r.createElement("div",{className:g(s.Prepend,l.Cancel)}))));var v};var H=n(440380);n(73439);var q=n(361030);const G=2.592*Math.pow(10,9),z=8.64*Math.pow(10,7),X=3.6*Math.pow(10,6);var $;!function(e){e.Day="day",e.Hour="hour",e.Minute="minute",e.Month="month",e.Year="year",e.Unknown="unknown"}($||($={}));const V=()=>{const[e,t,n,r]=(0,q.QF)("monthWithPluralizationFormatRules","dayWithPluralizationFormatRules","hourWithPluralizationFormatRules","minuteWithPluralizationFormatRules");return(a,i)=>{if(!a||!i)return;let s;switch(i.toLowerCase()){case $.Month:s=e;break;case $.Day:s=t;break;case $.Hour:s=n;break;case $.Minute:s=r;break;default:return}return(0,o.yy9)(s,a)}},W=e=>{let t,n=0;const r=V();if(e){const r=new Date,o=(e=>{let t=e;const n=Math.floor(t/G);t-=Math.max(0,n*G);const r=Math.floor(t/z);t-=Math.max(0,r*z);const o=Math.floor(t/X);t-=Math.max(0,o*X);const a=Math.floor(t/6e4);return t-=Math.max(0,6e4*a),{month:n,day:r,hour:o,minute:a}})(new Date(e).getTime()-r.getTime());o.month>0?(n=o.month,t=$.Month):o.day>0?(n=o.day,t=$.Day):o.hour>0?(n=o.hour,t=$.Hour):o.minute>0&&(n=o.minute,t=$.Minute)}return{unit:n,unitType:t,durationString:r(n,t)}};var K;!function(e){e[e.None=0]="None",e[e.Desktop=1]="Desktop",e[e.MobilePortrait=2]="MobilePortrait",e[e.MobileLandscape=3]="MobileLandscape"}(K||(K={}));const j=(0,r.createContext)({currentExperience:K.None});var Y,Z=n(474495),Q=n(901523);!function(e){e[e.XXS=0]="XXS",e[e.XS=1]="XS",e[e.SM=2]="SM",e[e.MD=3]="MD",e[e.LG=4]="LG",e[e.XL=5]="XL"}(Y||(Y={}));const J={[Y.XXS]:400,[Y.XS]:540,[Y.SM]:860,[Y.MD]:1084,[Y.LG]:1400,[Y.XL]:Number.MAX_SAFE_INTEGER},ee=[{minWidth:0,viewPort:Y.XXS},{minWidth:400,viewPort:Y.XS},{minWidth:540,viewPort:Y.SM},{minWidth:860,viewPort:Y.MD},{minWidth:1084,viewPort:Y.LG},{minWidth:1400,viewPort:Y.XL}],te=J[Y.LG],ne=()=>document.documentElement.clientWidth||document.body.clientWidth,re=e=>{const t=(0,r.useContext)(j),{currentExperience:n}=t;switch(n){case K.Desktop:return e.desktopComponent;case K.MobilePortrait:return e.mobilePortraitComponent;case K.MobileLandscape:return e.mobileLandscapeComponent;default:return null}},oe=()=>{const e=(()=>{const e=(0,Z.useSelector)(o.ZU_),t=(0,Z.useSelector)(o.Xnf).userAgent,n=(0,r.useMemo)((()=>new Q.LK(t)),[t]);return e?t?n.isMobile?J[Y.XS]:n.isTablet?J[Y.MD]:te:te:ne()})(),[t,n]=(0,r.useState)(e);return((e,t)=>{const n=(0,Z.useSelector)(o.ZU_);(0,r.useEffect)((()=>{if(!n)return e()}),[...t,n])})((()=>{const e=((e,t)=>{let n;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return new Promise((r=>{n&&clearTimeout(n),n=setTimeout((()=>r(e(...o))),t)}))}})((()=>{n(ne())}),150);return n(ne()),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),t},ae=()=>{const e=oe();let t=Y.XL;for(const n of ee){if(!(e>=n.minWidth))break;t=n.viewPort}return t},ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px";const[n,o]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const r=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting!==n&&o(t.isIntersecting)}),{rootMargin:t});e.current&&r.observe(e.current);const a=e.current;return()=>{r.unobserve(a)}}),[e,t]),n},se=e=>{let{children:t,initialExperience:n=K.None}=e;const[o,a]=(0,r.useState)(n);(0,r.useEffect)((()=>{const e=e=>{let t;t=e?window.innerHeight<=J[Y.XS]?K.MobileLandscape:K.Desktop:window.innerWidth<=J[Y.XS]?K.MobilePortrait:K.Desktop,a(t)},t=window.matchMedia("(orientation: landscape)"),n=t=>{e(t.matches)},r=()=>{e(t.matches)};return window.addEventListener("resize",r),t.addEventListener("change",n),e(t.matches),()=>{t.removeEventListener("change",n),window.removeEventListener("resize",r)}}),[]);const i={currentExperience:o};return r.createElement(j.Provider,{value:i},t)};var le=n(615946);const ce=()=>((0,le.useRequestNavigationKeys)([le.NavigationKey.ArrowUp,le.NavigationKey.ArrowDown,le.NavigationKey.Tab]),null),ue=()=>{const e=(0,q.iV)("periodSeparatorTemplate");return(t,n)=>t&&n?(0,o.WUZ)(e,t,n):t||(n||"")};n(888233),n(231235),n(34715),n(426464),n(319570),n(214121),n(460523);const de={};var he;!function(e){e[e.CMS=1]="CMS",e[e.EDS=2]="EDS",e[e.DSC=3]="DSC",e[e.Bing=4]="Bing"}(he||(he={}));const me={"images-eds":he.EDS,"store-images":he.DSC,cms:he.CMS,"img-s-msn-com":he.CMS,"bing.com":he.Bing},pe=[34,38,40,43,44,46,50,52,56,60,64,68,72,75,80,84,85,86,95,99,100,105,107,108,110,112,120,124,128,131,132,135,136,138,144,145,147,148,150,151,152,154,156,160,164,170,172,173,175,177,178,180,181,200,207,208,210,213,215,219,224,230,234,235,237,240,243,245,248,253,258,260,262,265,267,270,275,278,280,282,285,288,290,296,300,307,310,313,316,318,320,327,329,336,343,347,361,366,367,370,380,395,400,402,420,423,424,426,430,441,448,464,467,470,480,496,518,526,540,553,556,562,576,580,584,588,592,594,598,640,648,666,672,720,724,725,754,756,770,788,789,796,800,810,818,853,854,864,896,934,935,938,980,981,1012,1021,1024,1051,1066,1067,1080,1138,1190,1191,1206,1276,1277,1280,1315,1350,1351,1366,1440,1499,1501,1561,1562,1593,1793,1795,1830,1831,1919,1920,2020,2021,2048,2100,2398,2399,2470,2471,2560],ge=e=>{let t=0,n=pe.length,r=0,o=0;for(;;){if(t>n){const e=pe[t],r=pe[n];return e?r?Math.max(e,r):e:r}if(r=Math.floor((n+t)/2),o=pe[r],o===e)return o;o<e?t=r+1:n=r-1}},fe=(e,t,n,r,o,a,i,s)=>{if(0===t&&0===n||!e)return e;const l=o||"90",c=i,u=new URL(e),d=u.hostname||u.pathname;let h;Object.keys(me).forEach((e=>{e&&d.includes(e)&&me[e]&&(h=me[e])}));let m=de[t];m||(m=ge(t),de[t]=m);let p=de[n];p||(p=ge(n),de[n]=p);let g=new URL(e);if(d&&h){switch(h){case he.CMS:g=((e,t,n,r,o,a)=>(e.searchParams.set("q",t),e.searchParams.set("o","f"),n&&e.searchParams.set("m",n),r&&e.searchParams.set("f",r),n&&"0"!==n&&e.searchParams.set("m",n),a&&"jpg"===r&&e.searchParams.set("b",a),o&&e.searchParams.set("p",o),e))(g,l,c,r,null===s||void 0===s?void 0:s.toString(),a);break;case he.EDS:p=m=Math.max(p,m),g=((e,t)=>(t&&e.searchParams.set("format",t),e))(g,r);break;case he.DSC:g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"90",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return e.searchParams.set("q",t),n&&e.searchParams.set("format",n),o&&"jpg"===n&&e.searchParams.set("background",o),r&&e.searchParams.set("padding",r),e}(g,l,r,null===s||void 0===s?void 0:s.toString(),a);break;case he.Bing:g=((e,t,n)=>(e.searchParams.set("w",t.toString()),e.searchParams.set("h",n.toString()),e.searchParams.set("c","1"),e))(g,t,n)}g.searchParams.set("w",m.toString()),g.searchParams.set("h",p.toString())}return g.toString()};n(213489);function ve(e,t,n){const r=e.current;if(!r)return;const o=window.getComputedStyle(r).getPropertyValue("line-height"),a=parseFloat(o),i=r.offsetHeight;t(Math.ceil(i/a)>n)}const _e=function(e){const[t,n]=(0,r.useState)(!1);return r.createElement("div",{onKeyDown:e=>{(0,o.Ypc)(e.key,"escape")&&t&&(n(!1),e.stopPropagation(),e.preventDefault())}},r.createElement(ce,null),r.createElement(H.c,u()(u()({},e),{},{isOpen:t,setIsOpen:n})))};n(835653);var ye=n(54433),be=n(607158),Ce=n(840974),Ee=(n(477950),n(385940),n(768493));const Se=e=>{let{to:t,status:n=302}=e;(0,Ee.WV)();return window.location.replace(t),null};var Te=n(124923),we=n.n(Te);const Ie=["title","titleId"],ke=e=>{let{title:t,titleId:n}=e,o=we()(e,Ie);return r.createElement("svg",u()({width:"64px",height:"64px",viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("g",{id:"PC",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 39.88 27.76 24.13 18.67 8.39 9.59 24.13 0.5 39.88 9.59 55.61 18.67"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"39.88 27.76 39.88 63.5 24.13 54.41 8.39 45.32 8.39 9.59 24.13 18.67 39.88 27.76"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 55.61 54.41 42.5 61.98 39.88 63.5 39.88 27.76 55.61 18.67"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 48.36 53.33 52.73 44.02 58.1 42.16 59.18 42.16 54.82 53.33 48.36"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 41.5 53.33 45.87 44.02 51.24 42.16 52.32 42.16 47.96 53.33 41.5"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 23.16 53.33 27.52 44.02 32.89 42.16 33.97 42.16 29.61 53.33 23.16"}),r.createElement("ellipse",{fill:"#FFFFFF",cx:"48.18",cy:"38.08",rx:"2.59",ry:"1.49",transform:"translate(-8.89 60.77) rotate(-60)"})))};var Ae=n(498900),Pe=n(8520),xe=n(578489);const Re=e=>{const{href:t,linkClassName:n,linkText:o,linkTextClassName:a}=e;return r.createElement(Ae.k,{"aria-label":o,as:"a",buttonType:Pe.L$.Tertiary,className:m()(xe.DK,n),href:t},r.createElement("span",{className:a},o))};n(94908);var Ne=n(107267),Oe=n(251295);const Le=e=>{const t=(0,Z.useSelector)(o.Yzi),n=new URL(e.to,o.V9f),a=(0,o.Sl8)(n.pathname,t),i=(0,o.Sph)(a);if(!(0,o.rpX)(n.host))return r.createElement(Se,u()({},e));if(!i)return r.createElement(Se,u()({},e));const s=`${a}${n.search}${n.hash}`;return e.status?r.createElement(Oe.B,{status:e.status},r.createElement(Ne.l_,{to:s})):r.createElement(Ne.l_,{to:s})};var Me=n(218671);const Ue=()=>r.createElement(Me.q,null,r.createElement("body",{className:"legacyBackground"}));var De=n(659158),Be=n(498973);n(571372);const Fe=5e3,He=()=>r.createElement(Be.h,null),qe=e=>r.createElement(be.mf,{error:e}),Ge=e=>{const{timeoutInMilliseconds:t=Fe,renderLoading:n=He,renderError:o=qe}=e,[a,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>i(!0)),t);return()=>clearTimeout(e)}),[]),a?o(new Error(`Loading Page timed out. Timeout: ${t} ms`)):n()},ze=e=>{const t=(0,Ne.k6)(),n=(0,Ne.TH)(),a=(0,Z.useDispatch)(),i=(0,Z.useSelector)(o.ZU_),s=(0,r.useRef)();(0,r.useEffect)((()=>{s.current===n||i||a(o.ej0.navigateToPath(n,s.current)),s.current=n}),[n,a,i]);const l=(0,r.useRef)(),c=(0,r.useRef)({direction:o.fEB.New});let u,d;if(n===l.current)d=c.current;else{if(l.current)switch(t.action){case"PUSH":u=o.fEB.Forward;break;case"POP":u=o.fEB.Back;break;case"REPLACE":u=o.fEB.Replace}else u=o.fEB.New;d={location:l.current,direction:u},l.current=n,c.current=d}return r.createElement(o.Gti.Provider,{value:d},e.children)};n(136728);var Xe=n(911372);const $e=["className","children","xs","sm","md","lg","as"],Ve=e=>{const{className:t,children:n,xs:o,sm:a,md:i,lg:s,as:l="div"}=e,c=we()(e,$e),d=[];return o&&d.push(Xe[`col${o}`]),a&&d.push(Xe[`colSm${a}`]),i&&d.push(Xe[`colMd${i}`]),s&&d.push(Xe[`colLg${s}`]),d.length<1&&d.push(Xe.col),r.createElement(l,u()({className:m()(d,t)},c),n)};var We=n(904945);const Ke=["className","children","as"],je=["className","children","as"],Ye=e=>{const{className:t,children:n,as:o="div"}=e,a=we()(e,Ke);return r.createElement(o,u()({className:m()(We.nC,t)},a),n)},Ze=r.forwardRef(((e,t)=>{const{className:n,children:o,as:a="div"}=e,i=we()(e,je);return r.createElement(a,u()({className:m()(We.Oj,We.nC,We.oH,n),ref:t},i),o)}));var Qe=n(5672);const Je=["className","children","as"],et=e=>{const{className:t,children:n,as:o="div"}=e,a=we()(e,Je);return r.createElement(o,u()({className:m()(Qe.O,t)},a),n)};var tt=n(362629),nt=n(620855);const rt=e=>r.createElement("ul",{className:nt.TU},e.children);rt.Collapse=e=>{const[t,n]=(0,r.useState)(!e.defaultCollapsed),o=e.customClassName||m()(nt.bn,w("margin","left",2)),a=e.eventKey?`accordion-${e.eventKey}`:void 0;return r.createElement("li",null,r.createElement("h2",{className:o},r.createElement("button",{"aria-controls":a,"aria-expanded":t,className:m()([tt.yY,tt.Xc,nt.Xc,nt.KF]),onClick:()=>{n(!t)},tabIndex:e.tabIndex},e.title)),r.createElement("div",{className:m()([nt.zY,t?nt.zh:nt.Il,{[nt.fm]:e.isScrollable}])},r.createElement("div",{id:a,className:m()([nt.Sw,w("padding","left",0)])},e.children)))};n(899139);var ot=n(194622),at=n(172095),it=n(289872),st=n(813750);const lt=e=>{let{buttonTitle:t,children:n,className:a,selectedChoicesCount:i}=e;const[s,l]=(0,r.useState)(!0),c={color:(0,Z.useSelector)(o.gzb)===o.Q2A.Dark?"White":"Black",fontSize:"1rem"},u=r.createElement(ot.Z,{"aria-hidden":!0,style:c}),d=r.createElement(at.Z,{"aria-hidden":!0,style:c}),h=s?d:u;return r.createElement("div",{className:m()(st.nC,a)},r.createElement("button",{className:st.jW,onClick:()=>l(!s)},r.createElement("span",{className:m()(it.gC,st.WB)},t),r.createElement("div",{className:st.CM},!!i&&r.createElement("span",{className:st.g3},i),h)),!s&&n)};var ct=n(832036),ut=n(567555);const dt=["containerProps","children","contentClassName","className","fluid"],ht=["className"],mt=(0,r.forwardRef)(((e,t)=>{let{containerProps:n,children:o,contentClassName:a,className:i,fluid:s}=e,l=we()(e,dt);const c=null!==n&&void 0!==n?n:{},{className:d}=c,h=we()(c,ht);return o?r.createElement("div",u()({ref:t,className:m()(ut.be,d)},h),r.createElement(ct.t,u()({className:m()([ut.BH,s?ut.OZ:void 0,i])},l)),r.createElement("div",{className:m()(ut.kQ,a)},o)):r.createElement(ct.t,u()({className:m()([ut.BH,s?ut.OZ:void 0,i])},l))})),pt=(0,r.memo)(mt),gt=n.p+"static/media/PlaceholderImage.7ebed917.svg",ft=["fallbackImage","containerProps","contentClassName","onError"],vt=e=>{let{fallbackImage:t,containerProps:n,contentClassName:o,onError:a}=e,i=we()(e,ft);const s=i.src||i.sources||i.srcSet,[l,c]=(0,r.useState)(!1),d=(0,r.useRef)(null),h=(0,r.useCallback)((()=>{c(!0)}),[]);(0,r.useEffect)((()=>{var e;const t=null===(e=d.current)||void 0===e?void 0:e.querySelectorAll("img");t&&0!==t.length&&t.forEach((e=>{e.complete&&0===e.naturalWidth&&0===e.naturalHeight&&h()}))}),[h]);const p=(0,r.useCallback)((e=>{null===a||void 0===a||a(e),h()}),[a,h]),g=(0,r.useMemo)((()=>u()(u()({},n),{},{className:m()(null===n||void 0===n?void 0:n.className)})),[n]);return r.createElement(r.Fragment,null,l||!s?"string"===typeof t?r.createElement(pt,u()(u()({},i),{},{className:m()(i.className),src:t||gt,srcSet:void 0,sources:void 0,onError:a,contentClassName:o,containerProps:g})):r.createElement("div",u()(u()({},n),{},{className:m()(ut.be,null===n||void 0===n?void 0:n.className)}),t,i.children&&r.createElement("div",{className:m()(ut.kQ,o)},i.children)):r.createElement(pt,u()(u()({ref:d,containerProps:n,contentClassName:o},i),{},{onError:p})))};var _t=n(976200);const yt=["width","height","className","src","background","format","resizeMode","quality","padding","customBackupSrc","hideShadow","alt","ariaHidden"],bt=e=>{const{width:t,height:n,className:o,src:a,background:i,format:c,resizeMode:d,quality:h,padding:p,customBackupSrc:f,hideShadow:v,alt:_,ariaHidden:b}=e,C=we()(e,yt);let E=a&&fe(a,t,n,c,h,i,d,p)||f;E&&0===E.indexOf("http://")&&(E=E.replace("http://","https://"));const S=(0,q.iV)("noCaptionAvailableAltText"),T=((e,t,n,o)=>{const a={width:e,height:t};return r.createElement("div",{className:m()(n,_t.ro,{[_t.s9]:!o}),style:a},r.createElement("div",{className:m()("d-flex","justify-content-center","align-items-center",y("width",100),y("height",100))},r.createElement("p",{className:m()([g(s.Prepend,l.XboxLogo),"text-center",w("margin","bottom",0),_t.xw])})))})(t,n,o,v);return r.createElement(vt,u()({alt:_||S,"aria-hidden":b,className:o,src:E,fallbackImage:T},C))};var Ct=n(808564);const Et=e=>{const{text:t,className:n}=e,[o,a]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),{moreText:u,lessText:d,moreTextAccessibilityLabel:h,lessTextAccessibilityLabel:p}=(0,q.y_)("moreText","lessText","moreTextAccessibilityLabel","lessTextAccessibilityLabel"),f=(0,r.useRef)(null),v=(0,r.useRef)(null),_=oe();(0,r.useEffect)((()=>{ve(f,c,5)}),[_]);const y=o?l.RemoveFrom:l.CirclePlus,b=o?Ct.Dk:Ct.d9;return r.createElement(r.Fragment,null,r.createElement("div",{className:m()(Ct.lr,n,Ct.nC,b)},r.createElement("p",{ref:v,className:m()(Ct.fL,b)},t),r.createElement("p",{ref:f,className:Ct.Y9},t)),i&&r.createElement("button",{role:"link",tabIndex:0,"aria-label":o?p:h,className:m()([Ct.p4,g(s.Prepend,y)]),onClick:()=>a(!o)},o?d:u))};n(788682);var St=n(529934);let Tt,wt=0;const It=e=>{e===wt?kt():console.warn("Attempt to hide a different banner blocked")},kt=()=>{Tt((()=>null)),wt=0},At=()=>{const[e,t]=(0,r.useState)((()=>()=>null));Tt=e=>t((()=>e));const n=e();return r.createElement("div",{id:"pageBannerContainer",className:m()(St.Cg,{[St.al]:!n},{[St.oP]:!!n})},n&&r.createElement("div",u()({},(0,d.iZ)({contentName:"Page Banner Container",templateName:"PageBannerComponent",contentType:"Banner"})),n))},Pt={displayBanner:e=>{wt&&console.warn("Double rendering banner. Another banner is already visible."),Tt(e);const t=(0,o.LUC)(1e3);return wt=t,()=>It(t)},hideAllBanners:kt};var xt=n(703380),Rt=n(302197);const Nt=e=>(0,xt.kV)(e&&(0,xt.NU)(e)),Ot=e=>{const t=(0,Ne.TH)(),n=(0,o._RZ)(t),a=(0,Z.useSelector)(o._B2),i=(0,o.ByS)(a),s=(0,Z.useSelector)((0,r.useCallback)((e=>{let t=(0,o.OLU)(e,n);return t===o.tVd&&"/"===n&&(t=(0,o.OLU)(e,i)),t}),[n,i]));let l;return s.hasContent?(s.isLoading,l=e.children||(()=>null)):l=s.isLoading?()=>(e=>e.renderLoadingOverride?e.renderLoadingOverride():r.createElement(Be.h,null))(e):s.error?()=>((e,t)=>t.renderErrorOverride?t.renderErrorOverride(e):r.createElement(be.mf,{error:e,statusCode:Nt(e)}))(s.error,e):()=>r.createElement(Ge,null),r.createElement(Rt.W,{onNewNavigationOnly:!0,ignoreHash:!0},l())};var Lt=n(950421),Mt=n(548844),Ut=n(361248),Dt=n(282008),Bt=n(623667),Ft=n(372256);const Ht=e=>{let{retryAction:t}=e;const{genericErrorMessage:n,tryAgainText:o}=(0,q.y_)("genericErrorMessage","tryAgainText"),a=(0,Ne.k6)(),i=a.createHref(a.location);return(0,d.Li)(d.uZ.Retry,Bt.G.Retry,{data:{pageHref:i}}),r.createElement("div",{className:Ft.Tn},r.createElement("h3",null,n),r.createElement(Ut.$,u()({as:"button","aria-label":o,className:Ft.cM,iconClassName:m()(Ft.O6,"align-middle"),icon:Mt.Z,iconSize:Dt.Jh.Medium,onClick:t},(0,d.iZ)({id:"RetryButton",contentName:o}))))};var qt,Gt=n(182498);n(200634);!function(e){e.None="none",e.Follow="follow",e.Index="index",e.NoFollow="nofollow",e.NoIndex="noindex",e.NoImageIndex="noimageindex",e.NoArchive="noarchive",e.NoCache="nocache",e.NoSnippet="nosnippet"}(qt||(qt={}));const zt=e=>Array.isArray(e)?e.join(","):e,Xt=e=>{let{title:t,keywords:n,description:a,robotsMetaTags:i,canonicalUrl:s}=e;const[l,c]=(0,q.QF)("pageTitleTemplate","defaultPageTitle"),u=(0,o.WUZ)(l,"%s"),d=(e=>{const t=(0,Ne.TH)(),n=(0,Z.useSelector)(o.Yzi);return e||new URL(`${n}${t.pathname}`.toLowerCase(),o.V9f).toString()})(s);return r.createElement(Me.q,{titleTemplate:u,defaultTitle:c,title:t||void 0},a&&r.createElement("meta",{name:"description",content:a}),n&&r.createElement("meta",{name:"keywords",content:n}),i&&r.createElement("meta",{name:"robots",content:zt(i)}),r.createElement("link",{rel:"canonical",href:d}))},$t=()=>{const e=(0,Ne.TH)(),t=(0,o.L_O)(e);return t?r.createElement(Xt,{title:t.title,description:t.description,robotsMetaTags:t.robots,keywords:t.keywords,canonicalUrl:t.canonicalUrl}):r.createElement(Xt,{title:void 0})},Vt=()=>{const e=(0,o.Sph)();return e?e.seoComponent?r.createElement(Ne.AW,u()({},e),r.createElement(e.seoComponent,null)):null===e.seoComponent?null:r.createElement($t,null):r.createElement($t,null)};n(58115),n(221279);var Wt=n(43143);const Kt=["className","children","xs","sm","md","lg","xl","as"],jt=e=>{const{className:t,children:n,xs:o,sm:a,md:i,lg:s,xl:l,as:c="div"}=e,d=we()(e,Kt),h=[];return o&&h.push(Wt[`col${o}`]),a&&h.push(Wt[`colSm${a}`]),i&&h.push(Wt[`colMd${i}`]),s&&h.push(Wt[`colLg${s}`]),l&&h.push(Wt[`colXl${l}`]),h.length<1&&h.push(Wt.col),r.createElement(c,u()({className:m()(h,t)},d),n)};var Yt=n(578070);const Zt=["className","children","as"],Qt=e=>{const{className:t,children:n,as:o="div"}=e,a=we()(e,Zt);return r.createElement(o,u()({className:m()(Yt.nC,t)},a),n)};var Jt=n(30032);const en=e=>{const{children:t,contentTelemetry:n,displayedChildrenCountWhenCollapsed:o,footer:a,innerContainer:i="div"}=e,{showMore:s,showLess:l}=(0,q.y_)("showMore","showLess"),[c,h]=(0,r.useState)(!0),m=t.slice(0,o),p=t.slice(o),g=c?s:l,f=(0,d._d)({behavior:c?d.cg.EXPAND:d.cg.REDUCE,contentName:g,contentType:d.zc.Button,id:"expandingListButton"},n);return r.createElement("div",null,r.createElement("div",{className:Jt.Nl},r.createElement(i,null,m,r.createElement("div",{className:Jt.jK}),!c&&p)),a&&r.createElement("div",{className:Jt.Mv},a),r.Children.count(p)>0&&r.createElement(Ae.k,u()({as:"button",className:Jt.o0,buttonSize:Pe.qE.Medium,buttonType:Pe.L$.Primary,overlayMode:Pe.gT.Solid,onClick:()=>{h(!c)}},(0,d.iZ)(f)),g))};var tn=n(807722),nn=n(773471),rn=(n(110264),n(797706));const on=e=>{let{ariaLabel:t,ariaLabelledBy:n,children:a,className:i,closeable:s,initialFocusRef:l,fullscreenOnMobile:c,onCloseBtnClick:u,onHide:d,overlayClassName:h,closeContainerClassName:p,closeButtonClassName:g,show:f}=e;const{closeButtonText:v}=(0,q.y_)("closeButtonText"),_=(0,Z.useSelector)((e=>(0,o.$Pr)(e,o.vCX.EnableXboxSmallPurchaseDialog)));return r.createElement(nn.t9,{className:m()(rn.DY,rn.Xu,h),isOpen:f,initialFocusRef:l,onDismiss:d},r.createElement(nn.cZ,{"aria-label":t,"aria-labelledby":n,className:m()(rn.K9,c?rn.VE:void 0)},r.createElement("div",{className:m()(rn.Tr,_&&rn.JW,c?rn.vq:void 0,i)},a,s&&r.createElement("div",{className:m()(rn.tK,p)},r.createElement(Ut.$,{as:"button","aria-label":v,className:g,icon:tn.Z,buttonType:Pe.L$.Tertiary,onClick:null!==u&&void 0!==u?u:d,title:v})))))};on.Header=e=>{let{className:t,children:n}=e;return r.createElement("div",{className:m()(t,rn.X3)},n)},on.Body=e=>{let{className:t,children:n}=e;return r.createElement("div",{className:m()(t,rn.o_)},n)};var an=n(564514);const sn=["className","children","as"],ln=e=>{const{className:t,children:n,as:o="div"}=e,a=we()(e,sn);return r.createElement(o,u()({className:m()(an.O,t)},a),n)};var cn=n(775543),un=n(364807);const dn=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:o,linkIconClassName:a,linkIconSize:i,linkText:s,linkTextClassName:l,telemetryProps:c}=e,h=(0,d.iZ)((0,d._d)({behavior:d.cg.NAVIGATIONFORWARD,contentName:s,id:"ExternalLink"},c)),p=t||s;return r.createElement(Ae.k,u()({"aria-label":p,as:"a",buttonType:Pe.L$.Tertiary,className:m()(xe.DK,o),href:n,rel:"noopener noreferrer"},h),r.createElement("span",{className:l},s),r.createElement(Dt.JO,{icon:un.Z,iconSize:null!==i&&void 0!==i?i:Dt.Jh.XXSmall,className:m()(xe.IA,a)}))}},44345:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r={gamepassPC:"e5ada363-6ac5-4c74-bc19-d8ed821aa5fd"}},848074:(e,t,n)=>{"use strict";n.d(t,{VY:()=>c.VY,lO:()=>r,iB:()=>a,H6:()=>i,Q2:()=>s,Rm:()=>l,Kp:()=>o.K});var r;n(44345);!function(e){e.Unknown="Unknown",e.AppLoad="AppLoad",e.InteractiveSignIn="InteractiveSignIn",e.DeviceCodeSignIn="DeviceCodeSignIn",e.SilentSignIn="SilentSignIn",e.SignInUnavailable="SignInUnavailable",e.ConsentValuesUpdated="ConsentValuesUpdated"}(r||(r={}));var o=n(540762);const a={telemetry:"telemetry",authentication:"authentication",cookies:"cookies",session:"session",partners:"partners"};var i,s;!function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Other=2]="Other",e[e.Success=3]="Success",e[e.CallerError=4]="CallerError",e[e.TransportError=5]="TransportError",e[e.ServiceError=6]="ServiceError"}(i||(i={})),function(e){e.Light="Light",e.Dark="Dark",e.DarkHeader="DarkHeader"}(s||(s={}));const l="x-theme";var c=n(624830)},624830:(e,t,n)=>{"use strict";n.d(t,{VY:()=>r});const r="/{locale}/games/browse/{collection}"},540762:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=["AR","HE"]},49090:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r=(e,t)=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())},221997:(e,t,n)=>{"use strict";n.d(t,{By:()=>l,NR:()=>c,Oj:()=>u,my:()=>d,yu:()=>s});n(477950),n(231235),n(385940),n(9e4),n(464925),n(474407),n(426464),n(18339),n(654819),n(264903);var r=n(474495),o=n(71138),a=n(300508),i=n(126049);const s=(e,t)=>`${e}-${t}`,l=e=>{const t=(0,r.useSelector)(o.Yz);return(0,i.S)(e,t)},c=e=>e.map((e=>e.replace(/ /g,"\xa0"))),u=(e,t)=>0===t.length?"":t.reduce(((t,n,r)=>r?(0,a.WU)(e,t,n):n),""),d=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.filter((e=>e.toLowerCase().includes("adobe-"))).join("|"))&&void 0!==t?t:""}},582094:(e,t,n)=>{"use strict";n.d(t,{J6:()=>H,UV:()=>q,Gt:()=>de,vX:()=>p,zI:()=>g,we:()=>G,jm:()=>z,fE:()=>ue,_M:()=>_e,vP:()=>_,lT:()=>v,Ui:()=>y,V9:()=>f,Gx:()=>Ce,Yp:()=>r.Y,Lx:()=>ie,yu:()=>ee.yu,MR:()=>Ae,dF:()=>D,kT:()=>V,WU:()=>m.WU,my:()=>ee.my,xG:()=>Y,vv:()=>m.vv,oB:()=>c,$E:()=>u,Nn:()=>ke.N,ew:()=>fe,Sl:()=>Te.S,Yg:()=>oe,td:()=>we,lX:()=>Ie,NT:()=>h.N,hA:()=>re,o8:()=>ne.o,by:()=>U,rp:()=>Te.r,xU:()=>Q.x,BH:()=>ce,r$:()=>I,lF:()=>P,qG:()=>B,Oj:()=>ee.Oj,uQ:()=>m.uQ,VJ:()=>m.VJ,r5:()=>se,kg:()=>ae,Av:()=>J.A,nv:()=>me.nv,Nx:()=>m.Nx,yy:()=>m.yy,LU:()=>be.L,Nq:()=>me.Nq,NR:()=>ee.NR,d8:()=>$,up:()=>A,CW:()=>R,$3:()=>N,UD:()=>w,$w:()=>k,HO:()=>x,Iz:()=>F,_R:()=>ve,vz:()=>he,aM:()=>d,Gq:()=>Se,By:()=>ee.By,JD:()=>me.JD,Fb:()=>ye.Fb,No:()=>X});var r=n(49090),o=n(202784),a=n(44345),i=(n(571372),n(477950),n(888233),n(94908),n(906886),n(214121),n(460523),n(474495)),s=n(107267),l=n(71138);n(34715),n(464925),n(426464),n(319570),n(654819);const c=(e,t)=>{let n;const r=t.toLowerCase();return e.forEach(((e,t)=>{n||r!==t.toLowerCase()||(n={value:e,originalKey:t})})),n},u=function(e){const t={};e.forEach(((e,n)=>t[n.toLowerCase()]={value:e,originalKey:n}));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((e=>t[e.toLowerCase()]))},d=e=>{var t;const n=(0,s.TH)(),r=new URLSearchParams(n.search);return null===(t=c(r,e))||void 0===t?void 0:t.value};var h=n(655147),m=n(300508);const p="https://account.microsoft.com/billing/orders",g="https://www.microsoft.com",f="https://www.xbox.com",v="XboxInstaller.exe",_="https://aka.ms/XboxInstaller",y=`https://dlassets-ssl.xboxlive.com/public/content/XboxInstaller/${v}?productId={0}`,b="/auth/msa?action=logIn&returnUrl={returnUrl}",C="sandboxId",E=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,m.uQ)(b,{returnUrl:encodeURIComponent(t)});const{coBrandEnable:o,coBrandId:a,sandboxId:i,prompt:s}=n;return o&&a&&(r+=`&cobrandid=${a}`),i&&(r+=`&sandboxId=${i}`),s&&(r+=`&prompt=${s}`),e?`/${e}${r}`:r},S=e=>(t,n)=>{let r=(0,m.uQ)("/auth/msa?action=logOut&returnUrl={returnUrl}",{returnUrl:encodeURIComponent(t)});return n&&(r+=`&sandboxId=${n}`),e?`/${e}${r}`:r},T=e=>(t,n)=>E(e)(t,{sandboxId:n}),w=()=>{const e=(0,s.TH)(),t=(0,i.useSelector)(l.Yz),n=(0,i.useSelector)(l.Xn).origin;if(!(0,h.N)())return window.location.href;const r=new URL(`/${t}${e.pathname}`,n);return r.search=e.search,r.toString()},I=e=>E(e),k=()=>{const e=(0,i.useSelector)(l.Yz);return I(e)},A=e=>{const t=w(),n=d(C),r=(0,i.useSelector)(l.Yz);return I(r)(e||t,{sandboxId:n})},P=e=>S(e),x=()=>{const e=(0,i.useSelector)(l.Yz);return P(e)},R=e=>{const t=w(),n=d(C),r=(0,i.useSelector)(l.Yz);return P(r)(e||t,n)},N=e=>{const t=w(),n=d(C),r=(e=>T(e))((0,i.useSelector)(l.Yz));return r(e||t,n)},O="/account/signin",L="/account/signout",M="/accountcreation";function U(e){return"https://account.xbox.com"===e.origin&&[O,L,M].includes(e.pathname.toLowerCase())}function D(e,t){var n,r;if(!U(e))throw new Error("URL is not a V1 auth URL.");const o=e.pathname.toLowerCase(),a=null!==(n=e.searchParams.get("sbx"))&&void 0!==n?n:void 0,i=null!==(r=e.searchParams.get("cobrandid"))&&void 0!==r?r:void 0,s=window.location.href;if(o===O)return E(t)(s,{sandboxId:a,coBrandId:i,coBrandEnable:void 0!==i});if(o===L)return S(t)(s,a);if(o===M)return T(t)(s,a);throw new Error(`Unexpected path name: "${o}"`)}const B=e=>{const t=I(e);return e=>t(e,{sandboxId:void 0,coBrandEnable:!0,coBrandId:a.X.gamepassPC})},F=()=>{const e=k();return(0,o.useCallback)((t=>e(t,{sandboxId:void 0,coBrandEnable:!0,coBrandId:a.X.gamepassPC})),[e])};n(344112),n(748166),n(652856),n(945162),n(657610);const H="3PAdsOptOut",q="cartMuid",G="MSCC",z="MUID",X=".xbox.com";function $(e){let{name:t,value:n,expires:r,path:o,domain:a,secure:i,sameSite:s,sessionCookie:l}=e;const c=r instanceof Date?r:(e=>{const t=new Date;return t.setDate(t.getDay()+(e||45)),t})(45),u=null!==o&&void 0!==o?o:"/",d=null===i||void 0===i||i,h=null!==a&&void 0!==a?a:window.location.hostname;let m=`${t}=${n}`;!0!==l&&(m+=`; expires=${c.toUTCString()}`),m+=`; path=${u}`,m+=`; domain=${h}`,d&&(m+="; secure"),s&&(m+=`; samesite=${s}`),document.cookie=m}function V(e,t,n){(function(e){return document.cookie.split("; ").some((t=>t.startsWith(`${e}=`)))})(e)&&(document.cookie=`${e}=${t?`;path=${t}`:""}${n?`;domain=${n}`:""};expires=Thu, 01 Jan 1970 00:00:00 GMT`)}n(191321),n(385940);const W=JSON.parse('{"usd~en-us~us":["$",",",".","2",""],"eur~de-de~de":["",".",",","2"," \u20ac"],"gbp~en-gb~gb":["\xa3",",",".","2",""],"brl~pt-br~br":["R$",".",",","2",""],"eur~fr-fr~fr":["","\xa0",",","2"," \u20ac"],"eur~it-it~it":["",".",",","2"," \u20ac"],"mxn~es-mx~mx":["$",",",".","2",""],"jpy~ja~jp":["\xa5",",","","0",""],"rub~ru~ru":["","\xa0",",","2"," \u20bd"],"aud~en-au~au":["$",",",".","2",""],"cad~en-ca~ca":["$",",",".","2",""],"eur~es-es~es":["",".",",","2"," \u20ac"],"cny~zh-hans-cn~cn":["\xa5",",",".","2",""],"eur~nl-nl~nl":["\u20ac ",".",",","2",""],"pln~pl~pl":["","\xa0",",","2"," z\u0142"],"chf~de-ch~ch":["CHF ","\'",".","2",""],"try~tr~tr":["",".",",","2"," \u20ba"],"ars~es-ar~ar":["$ ",".",",","2",""],"cad~en-us~ca":["$",",",".","2",""],"cny~zh-cn~cn":["\xa5",",",".","2",""],"vnd~vi~vn":["",".",",","2"," \u20ab"],"czk~cs~cz":["","\xa0",",","2"," K\u010d"],"inr~en-in~in":["\u20b9 ",",",".","2",""],"cad~fr-ca~ca":["","\xa0",",","2"," $"],"sek~sv-se~se":["",".",",","2"," kr"],"dkk~da~dk":["",".",",","2"," kr."],"eur~pt-pt~pt":["","\xa0",",","2"," \u20ac"],"gbp~en-us~gb":["\xa3",",",".","2",""],"eur~de-at~at":["\u20ac ",".",",","2",""],"krw~ko~kr":["\u20a9",",","","0",""],"eur~nl-be~be":["\u20ac ",".",",","2",""],"nok~nb~no":["kr ","\xa0",",","2",""],"mxn~es-es~mx":["$",",",".","2",""],"huf~hu~hu":["","\xa0",",","2"," HUF"],"aud~en-us~au":["$",",",".","2",""],"eur~fr-be~be":["",".",",","2"," \u20ac"],"eur~fi~fi":["","\xa0",",","2"," \u20ac"],"cop~es-co~co":["$",".","","0",""],"clp~es-cl~cl":["$",".","","0",""],"nzd~en-nz~nz":["$",",",".","2",""],"chf~fr-ch~ch":["CHF ","\xa0",".","2",""],"twd~zh-hant-tw~tw":["NT$",",",".","2",""],"ars~es-es~ar":["$ ",".",",","2",""],"usd~en-gb~us":["$",",",".","2",""],"pen~es-pe~pe":["S/.",",",".","2",""],"idr~id~id":["Rp",".","","0",""],"eur~en-ie~ie":["\u20ac",",",".","2",""],"eur~el~gr":["",".",",","2"," \u20ac"],"eur~de-de~at":["\u20ac ",".",",","2",""],"inr~en-us~in":["\u20b9 ",",",".","2",""],"idr~en-us~id":["Rp",".","","0",""],"eur~sk~sk":["","\xa0",",","2"," \u20ac"],"zar~en-za~za":["R","\xa0",",","2",""],"vnd~en-us~vn":["\u20ab",",",".","2",""],"php~en-ph~ph":["\u20b1",",",".","2",""],"ils~he~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"sar~ar-sa~sa":["\u202a\u0631.\u0633.\u200f\u200e",",",".","2","\u202c"],"ron~ro-ro~ro":["",".",",","2"," RON"],"usd~en-ca~us":["$",",",".","2",""],"uah~ru~ua":["","\xa0",",","2"," \u20b4"],"hkd~zh-hant-hk~hk":["HK$",",",".","2",""],"usd~es-ec~ec":["$",".",",","2",""],"thb~th~th":["\u0e3f",",",".","2",""],"sgd~en-sg~sg":["SG$",",",".","2",""],"mxn~en-us~mx":["$",",",".","2",""],"uah~es-es~ua":["","\xa0",",","2"," \u20b4"],"rub~en-us~ru":["","\xa0",",","2"," \u20bd"],"usd~pt-br~us":["",".",",","2"," $"],"chf~de-de~ch":["CHF ","\'",".","2",""],"usd~en-in~us":["$",",",".","2",""],"crc~es-cr~cr":["\u20a1",".","","0",""],"eur~es-mx~es":["",".",",","2"," \u20ac"],"cny~en-us~cn":["\xa5",",",".","2",""],"hrk~hr-hr~hr":["",".",",","2"," kn"],"usd~ru~us":["",".",",","2"," $"],"cad~fr-fr~ca":["","\xa0",",","2"," $"],"brl~en-us~br":["R$",".",",","2",""],"egp~ar-eg~eg":["\u202a\u062c.\u0645.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~nl":["\u20ac ",".",",","2",""],"eur~en-us~de":["",".",",","2"," \u20ac"],"eur~sl~si":["",".",",","2"," \u20ac"],"eur~de-at~de":["",".",",","2"," \u20ac"],"nzd~en-us~nz":["$",",",".","2",""],"twd~zh-tw~tw":["NT$",",",".","2",""],"usd~zh-cn~us":["",".",",","2"," $"],"aud~en-gb~au":["$",",",".","2",""],"usd~es-us~us":["$",",",".","2",""],"cop~es-es~co":["$",".","","0",""],"myr~en-my~my":["RM",",",".","2",""],"eur~fr-fr~be":["",".",",","2"," \u20ac"],"uah~en-us~ua":["","\xa0",",","2"," \u20b4"],"eur~nl-nl~be":["\u20ac ",".",",","2",""],"idr~en-id~id":["Rp",".","","0",""],"gbp~pl~gb":["\xa3",",",".","2",""],"usd~en-us~ae":["$",",",".","2",""],"usd~es-mx~us":["",".",",","2"," $"],"eur~en-us~gr":["",".",",","2"," \u20ac"],"uah~ko~ua":["","\xa0",",","2"," \u20b4"],"uah~uk~ua":["","\xa0",",","2"," \u20b4"],"usd~ko~us":["",".",",","2"," $"],"bgn~bg~bg":["","\xa0",",","2"," \u043b\u0432."],"zar~en-us~za":["R","\xa0",",","2",""],"inr~en-gb~in":["\u20b9 ",",",".","2",""],"usd~es-ve~ve":["$",",",".","2",""],"ils~en-us~il":["\u20aa",",",".","2",""],"clp~es-es~cl":["$",".","","0",""],"eur~en-my~de":["",".",",","2"," \u20ac"],"nok~nb-no~no":["kr ","\xa0",",","2",""],"ron~en-us~ro":["",".",",","2"," RON"],"usd~vi~us":["",".",",","2"," $"],"usd~de-de~us":["",".",",","2"," $"],"php~en-us~ph":["\u20b1",",",".","2",""],"rsd~sr-latn-rs~rs":["",".","","0"," RSD"],"eur~fi-fi~fi":["","\xa0",",","2"," \u20ac"],"usd~en-au~us":["$",",",".","2",""],"usd~es-es~ve":["$",",",".","2",""],"eur~en-gb~de":["",".",",","2"," \u20ac"],"eur~en-us~fr":["","\xa0",",","2"," \u20ac"],"usd~es-es~us":["",".",",","2"," $"],"eur~et~ee":["","\xa0",",","2"," \u20ac"],"jpy~en-us~jp":["\xa5",",","","0",""],"eur~lt~lt":["","\xa0",",","2"," \u20ac"],"pen~es-es~pe":["S/.",",",".","2",""],"pkr~en-us~pk":["Rs",",","","0",""],"usd~ar-sa~us":["",".",",","2"," $"],"usd~es-gt~gt":["$",",",".","2",""],"jpy~ja-jp~jp":["\xa5",",","","0",""],"sek~en-us~se":["","\xa0",",","2"," kr"],"eur~en-us~it":["",".",",","2"," \u20ac"],"eur~en-us~ie":["\u20ac",",",".","2",""],"usd~ru~by":["$",",",".","2",""],"usd~es-uy~uy":["$",",",".","2",""],"usd~es-es~ec":["$",".",",","2",""],"eur~de-ch~de":["",".",",","2"," \u20ac"],"vnd~pt-br~vn":["\u20ab",",",".","2",""],"chf~en-us~ch":["CHF ",".",",","2",""],"usd~fa~us":["",".",",","2"," $"],"chf~it-ch~ch":["CHF ","\'",".","2",""],"jod~ar-jo~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"usd~es-do~do":["$",",",".","2",""],"uah~ru-ua~ua":["","\xa0",",","2"," \u20b4"],"usd~ar-kw~us":["",".",",","2"," $"],"eur~en-us~be":["",".",",","2"," \u20ac"],"jpy~zh-hans-cn~jp":["\xa5",",","","0",""],"myr~en-us~my":["RM",",",".","2",""],"dkk~da-dk~dk":["",".",",","2"," kr."],"iqd~ar-iq~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"nok~en-us~no":["kr ","\xa0",",","2",""],"usd~ja~us":["",".",",","2"," $"],"eur~en-gb~ie":["\u20ac",",",".","2",""],"gbp~en-in~gb":["\xa3",",",".","2",""],"eur~en-gb~nl":["\u20ac ",".",",","2",""],"dkk~en-us~dk":["",".",",","2"," kr."],"kwd~en-us~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"rsd~en-us~rs":["",".",",","2"," \u0434\u0438\u043d."],"usd~id~us":["",".",",","2"," $"],"dzd~fr-fr~dz":["","\xa0",",","2"," DA"],"eur~en-us~es":["",".",",","2"," \u20ac"],"kzt~ru~kz":["","\xa0",",","2"," \u20b8"],"bdt~en-us~bd":["",",",".","2","\u09f3"],"chf~fr-fr~ch":["CHF ","\xa0",".","2",""],"iqd~en-us~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"eur~en-gb~fr":["","\xa0",",","2"," \u20ac"],"bgn~en-us~bg":["","\xa0",",","2"," \u043b\u0432."],"eur~es-co~es":["",".",",","2"," \u20ac"],"pln~en-us~pl":["","\xa0",",","2"," z\u0142"],"usd~en-id~us":["$",",",".","2",""],"ars~es-419~ar":["$ ",".",",","2",""],"huf~it-it~hu":["","\xa0",",","2"," HUF"],"usd~es-sv~sv":["$",",",".","2",""],"mad~fr-fr~ma":["",".",",","2"," DH"],"rub~zh-cn~ru":["","\xa0",",","2"," \u20bd"],"ttd~en-tt~tt":["$",",",".","2",""],"eur~en-us~lt":["","\xa0",",","2"," \u20ac"],"usd~en-ph~us":["$",",",".","2",""],"usd~sv-se~us":["",".",",","2"," $"],"zar~en-gb~za":["R","\xa0",",","2",""],"eur~en-gb~es":["",".",",","2"," \u20ac"],"usd~nl-nl~us":["",".",",","2"," $"],"eur~nl-be~nl":["\u20ac ",".",",","2",""],"hrk~en-us~hr":["",".",",","2"," kn"],"nzd~en-au~nz":["$",",",".","2",""],"usd~es-es~uy":["$",",",".","2",""],"usd~ru-by~by":["$",",",".","2",""],"usd~en-us~ke":["$",",",".","2",""],"usd~es-ec~us":["",".",",","2"," $"],"eur~en-gb~pt":["","\xa0",",","2"," \u20ac"],"pkr~en-gb~pk":["Rs",",","","0",""],"pkr~en-pk~pk":["Rs",",","","0",""],"rub~ru-ru~ru":["","\xa0",",","2"," \u20bd"],"twd~en-us~tw":["NT$",",",".","2",""],"usd~zh-hans-cn~us":["",".",",","2"," $"],"czk~en-us~cz":["","\xa0",",","2"," K\u010d"],"eur~en-gb~it":["",".",",","2"," \u20ac"],"eur~en-us~pt":["","\xa0",",","2"," \u20ac"],"sek~en-gb~se":["","\xa0",",","2"," kr"],"usd~en-gb~ae":["$",",",".","2",""],"usd~en-us~lk":["$",",",".","2",""],"usd~es-pa~pa":["$",",",".","2",""],"eur~fr-ch~fr":["","\xa0",",","2"," \u20ac"],"usd~en-gb~ng":["$",",",".","2",""],"eur~en-gb~be":["",".",",","2"," \u20ac"],"eur~en-us~fi":["","\xa0",",","2"," \u20ac"],"eur~ru~de":["",".",",","2"," \u20ac"],"jod~en-us~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"pln~en-gb~pl":["","\xa0",",","2"," z\u0142"],"pln~pl-pl~pl":["","\xa0",",","2"," z\u0142"],"usd~fr-fr~re":["$",",",".","2",""],"omr~ar-sa~om":["\u0631.\u0639.\u200f\u200e ",",",".","3",""],"usd~ko-us~us":["",".",",","2"," $"],"kzt~kk-kz~kz":[""," ",",","2"," \u20b8"],"eur~de-de~lu":["",".",",","2"," \u20ac"],"uah~ru-ru~ua":[""," ",",","2"," \u20b4"],"kzt~ru-kz~kz":[""," ",",","2"," \u20b8"],"jod~ar-sa~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~me":["",".",",","2"," \u20ac"],"eur~en-us~si":["",".",",","2"," \u20ac"],"rub~en-us~by":[""," ",",","2"," \u20bd"],"crc~es-es~cr":["\u20a1",".","","0",""],"eur~tr-tr~cy":["",".",",","2"," \u20ac"],"usd~fa-us~us":["",".",",","2"," $"],"ils~he-il~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"eur~hr-hr~hr":["",".",",","2"," \u20ac"],"mad~ar-sa~ma":["\u062f.\u0645.\u200f\u200e ",",",".","2",""],"try~tr-tr~tr":["",".",",","2"," \u20ba"],"uah~uk-ua~ua":[""," ",",","2"," \u20b4"],"eur~en-us~mt":["\u20ac",",",".","2",""],"eur~sk-sk~sk":[""," ",",","2"," \u20ac"],"qar~en-us~qa":["QAR",",",".","2",""],"eur~ru-de~de":["",".",",","2"," \u20ac"],"bgn~bg-bg~bg":[""," ",",","2"," \u043b\u0432."],"eur~en-us~sk":[""," ",",","2"," \u20ac"],"eur~en-us~ee":[""," ",",","2"," \u20ac"],"eur~el-gr~gr":["",".",",","2"," \u20ac"],"bhd~ar-sa~bh":["\u202aBD \u200f\u200e",",",".","3","\u202c"],"eur~sr-latn-rs~me":["",".",",","2"," \u20ac"],"usd~id-us~us":["",".",",","2"," $"],"eur~el-gr~cy":["",".",",","2"," \u20ac"],"krw~ko-kr~kr":["\u20a9",",","","0",""],"usd~vi-us~us":["",".",",","2"," $"],"eur~lv-lv~lv":[""," ",",","2"," \u20ac"],"uah~ko-ua~ua":[""," ",",","2"," \u20b4"],"gtq~es-es~gt":["Q",",",".","2",""],"ttd~en-us~tt":["TT$",",",".","2",""],"isk~en-us~is":["kr.",",",".","2",""],"omr~en-us~om":["",",",".","3","\u0631.\u0639."],"thb~th-th~th":["\u0e3f",",",".","2",""],"myr~ms-my~my":["RM",",",".","2",""],"mkd~en-us~mk":["\u0434\u0435\u043d ",".",",","2",""],"mkd~bg-bg~mk":["\u0434\u0435\u043d ",".",",","2",""],"tnd~fr-fr~tn":[""," ",",","3"," DT"],"usd~ja-us~us":["",".",",","2"," $"],"eur~fr-fr~lu":["",".",",","2"," \u20ac"],"krw~en-us~kr":["\u20a9",",","","0",""],"gbp~pl-gb~gb":["\xa3",",",".","2",""],"uyu~es-es~uy":["$U ",".",",","2",""],"ils~ar-sa~il":["\u20aa\u200e ",",",".","2","\u202c"],"tnd~ar-sa~tn":["\u062f.\u062a.\u200f\u200e ",",",".","3",""],"eur~sv-se~fi":[""," ",",","2"," \u20ac"],"czk~cs-cz~cz":[""," ",",","2"," K\u010d"],"vnd~vi-vn~vn":["",".",",","2"," \u20ab"],"lkr~en-us~lk":["\u0dbb\u0dd4.",",",".","2",""],"bhd~en-us~bh":["BD",",",".","3",""],"huf~hu-hu~hu":[""," ",",","2"," HUF"],"kwd~ar-sa~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"inr~hi-in~in":["\u20b9",",",".","2",""],"pyg~es-es~py":["\u20b2 ",".","","0",""],"usd~ru-us~us":["",".",",","2"," $"],"idr~id-id~id":["Rp",".","","0",""],"mkd~sr-latn-rs~mk":["\u0434\u0435\u043d ",".",",","2",""],"eur~et-ee~ee":[""," ",",","2"," \u20ac"],"kes~en-us~ke":["Ksh",",",".","2",""],"eur~en-us~lv":[""," ",",","2"," \u20ac"],"rub~ru-ru~by":[""," ",",","2"," \u20bd"],"eur~en-us~cy":["\u20ac",",",".","2",""],"eur~lt-lt~lt":[""," ",",","2"," \u20ac"],"eur~sl-si~si":["",".",",","2"," \u20ac"],"try~en-us~tr":["",".",",","2"," \u20ba"],"kzt~ru-ru~kz":[""," ",",","2"," \u20b8"],"eur~es-es~pa":["",".",",","2"," \u20ac"],"gtq~es-gt~gt":["Q",",",".","2",""],"ngn~en-us~ng":["\u20a6",",",".","2",""],"dzd~ar-sa~dz":["\u062f.\u062c.\u200f\u200e ",",",".","2",""],"qar~ar-sa~qa":["\u0631.\u0642.\u200f\u200e ",",",".","2",""],"eur~en-us~hr":["",".",",","2"," \u20ac"]}'),K={AUD:"AU",NZD:"NZ",TWD:"TW"},j={USD:["$",",",".","2",""],CHF:["CHF ","'",".","2",""],NZD:["$",",",".","2",""],SAR:["\u202a\u0631.\u0633.\u200f\u200e",",",".","2",""],EGP:["\u202a\u062c.\u0645.\u200f\u200e",",",".","3",""],THB:["\u0e3f",",",".","2",""],SGD:["SG$",",",".","2",""],HKD:["HK$",",",".","2",""]},Y=(e,t,n)=>{if(isNaN(e))throw new Error(`Invalid price passed to format currency: ${e}`);const r=Z(t,n);if(r){const t=e.toFixed(r.precision).replace(".",r.separator).replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandSeparator);return r.beforePrice+t+r.afterPrice}return Intl?new Intl.NumberFormat(n.localeWithScript,{style:"currency",currency:t}).format(e):`${t} ${e}`},Z=(e,t)=>{let{market:n,language:r,locale:o}=t;const a=W[`${e.toLowerCase()}~${o.toLowerCase()}~${n.toLowerCase()}`]||W[`${e.toLowerCase()}~${r.toLowerCase()}~${n.toLowerCase()}`]||j[e.toUpperCase()];if(a){if("US"!==n.toUpperCase()&&"CL"!==n.toUpperCase()){const t=K[e.toUpperCase()]||e.toUpperCase();if("USD"===t&&"$"===a[0])a[0]="USD$";else if("USD"===t&&" $"===a[4])a[4]=" $USD";else if("$"===a[0]||"$ "===a[0]){const e="CAD"===t;a[0]=t+(e?" ":"")+a[0]}else" $"===a[4]&&(a[4]=` $${t}`)}return{beforePrice:a[0],thousandSeparator:a[1],separator:a[2],precision:a[3],afterPrice:a[4]}}};var Q=n(508478),J=n(169459),ee=n(221997),te=n(848074),ne=n(532017);const re=e=>e>=200&&e<400,oe=e=>{let t=te.H6.Undefined;return t=(0,ne.o)(e)?te.H6.Unknown:0===e?te.H6.TransportError:e>=100&&e<200?te.H6.Other:e>=200&&e<400?te.H6.Success:e>=400&&e<500?te.H6.CallerError:e>=500?te.H6.ServiceError:te.H6.Unknown,t},ae=e=>e?e.trim().toUpperCase():"",ie=(e,t,n)=>{let r=ae(e);return t&&(r+=`/${ae(t)}`,n&&(r+=`/${ae(n)}`)),r},se=e=>{const t=(0,m.fy)(e,"/");return t||"home"};n(882488),n(9e4),n(330390),n(18339);var le=n(821883);const ce=(e,t)=>{let n;return e.every((e=>(0,le.isNotRequested)(e)))?n=t.isNotRequested?t.isNotRequested(e):void 0:e.find((e=>(0,le.isFetching)(e)))?n=t.isFetching?t.isFetching(e.filter((e=>(0,le.isFetching)(e)))):void 0:e.find((e=>(0,le.isError)(e)))?n=t.error?t.error(e.filter((e=>(0,le.isError)(e)))):void 0:e.every((e=>(0,le.isContent)(e)))&&(n=t.content?t.content(e):void 0),n||(n=t.default?t.default(e):void 0),n};var ue;!function(e){e[e.New=0]="New",e[e.Forward=1]="Forward",e[e.Replace=2]="Replace",e[e.Back=3]="Back"}(ue||(ue={}));const de=(0,o.createContext)({direction:ue.New}),he=()=>(0,o.useContext)(de);var me=n(911348),pe=(n(74069),n(359496)),ge=n(674990);const fe=(e,t)=>{var n;return e.formatPageId?e.formatPageId(e,t):(null===(n=e.match)||void 0===n?void 0:n.url)||"/"},ve=e=>{const t=(0,i.useSelector)(pe.Tr),n=(0,i.useSelector)(l.Yz);let r;try{r=(0,ge.o$)(e.pathname,t,void 0,n)}catch(o){}return void 0!==r?fe(r,n):e.pathname||"/"};var _e,ye=n(720482),be=n(123483);!function(e){e.Idle="idle",e.Loading="loading",e.Ready="ready",e.Error="error"}(_e||(_e={}));const Ce=(e,t)=>{(null===t||void 0===t?void 0:t.removeOldScriptIfFound)&&Ee(e);const n=document.createElement("script");return n.src=e,n.async=!!(null===t||void 0===t?void 0:t.async),(null===t||void 0===t?void 0:t.isModule)&&(n.type="module"),(null===t||void 0===t?void 0:t.addLoadingStatus)&&n.setAttribute("data-status","loading"),document.body.appendChild(n),n},Ee=e=>{const t=document.querySelector(`script[src="${e}"]`);t&&t.remove()},Se=(e,t)=>{const[n,r]=(0,o.useState)(e?_e.Loading:_e.Idle);return(0,o.useEffect)((()=>{if(!e)return void r(_e.Idle);let n=document.querySelector(`script[src="${e}"]`);if(n)r(n.getAttribute("data-status"));else{n=Ce(e,{async:!0,addLoadingStatus:!0,isModule:t});const r=e=>{null===n||void 0===n||n.setAttribute("data-status","load"===e.type?_e.Ready:_e.Error)};n.addEventListener("load",r),n.addEventListener("error",r)}const o=t=>{r("load"===t.type?_e.Ready:_e.Error),"load"!==t.type&&(console.log(`${e} script failed to load`),document.body.removeChild(n))};return n.addEventListener("load",o),n.addEventListener("error",o),()=>{n&&(n.removeEventListener("load",o),n.removeEventListener("error",o))}}),[e,t]),n};var Te=n(126049);n(231235);const we=()=>null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase().includes("windows"),Ie=()=>{const e=null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase();return e.includes("windows 10")||e.includes("windows nt 10")||e.includes("windows 11")||e.includes("windows nt 11")};var ke=n(984338);const Ae=(e,t)=>{const n=!!(null===t||void 0===t?void 0:t.every((t=>e.consentState[t])));return!e.isConsentRequired||n}},911348:(e,t,n)=>{"use strict";n.d(t,{JD:()=>c,Nq:()=>l,nv:()=>d,wH:()=>u});var r=n(124923),o=n.n(r),a=n(247739),i=n.n(a),s=(n(464925),n(474407),n(426464),n(654819),n(264903),n(532017));const l=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return(0,s.o)(r)||(t[n]=r),t}),{}),c=e=>Object.keys(e).reduce(((t,n)=>(t[n.toLowerCase()]=e[n],t)),{}),u=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d=(e,t)=>{const{[t]:n}=e;return o()(e,[t].map(i()))}},300508:(e,t,n)=>{"use strict";n.d(t,{Nx:()=>o,VJ:()=>l,WU:()=>i,fy:()=>c,uQ:()=>a,vv:()=>s,yy:()=>u});n(571372),n(136728),n(368995),n(317368),n(524471),n(477950),n(888233),n(74069),n(385940),n(679727),n(34715),n(426464),n(319570);var r=n(202784);const o=e=>{try{return!!(e&&JSON.parse(e.toLowerCase()))}catch(t){return!1}},a=(e,t)=>{let n=e;return t&&Object.keys(t).forEach((e=>{const r=new RegExp(`\\{${e}\\}`,"gi");n=n.replace(r,t[e]||"")})),n},i=function(e){let t=e;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(((e,n)=>{t=t.replace(new RegExp(`\\{${n}\\}`,"g"),e)})),t},s=function(e){const t=/{(\d+)}/g;let n,o=0;const a=[];let i=0;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];for(;null!==(n=t.exec(e));){a.push(r.createElement(r.Fragment,null,e.substring(o,n.index)));if(void 0===l[parseInt(n[1],10)])throw new Error("Number of input params is lesser than the format string params");a.push(l[parseInt(n[1],10)]),o=t.lastIndex,i++}if(i!==l.length)throw new Error("Number of input params is greater than the format string params");return a.push(r.createElement(r.Fragment,null,e.substring(o))),a},l=(e,t)=>{const n=[];let o,a=0;const i=[];Object.keys(t).forEach((e=>{i.push(`\\{${e}\\}`)}));const s=new RegExp(i.join("|"),"gi");for(;null!==(o=s.exec(e));){n.push(r.createElement(r.Fragment,null,e.substring(a,o.index)));const i=t[o[0].substring(1,o[0].length-1)];n.push(i),a=s.lastIndex}return n.push(r.createElement(r.Fragment,null,e.substring(a))),n},c=(e,t)=>((e,t)=>e&&0!==e.indexOf(t)?e:e?e.substr(t.length):"")(((e,t)=>e&&e.lastIndexOf(t)!==e.length-t.length?e:e?e.substr(0,e.length-t.length):"")(e,t),t),u=(e,t)=>{const n=new RegExp("(?:\\[\\[([0-9\\*]+)\\]([^\\]]*?)\\])"),r=new RegExp("\\[\\[\\*\\]([^\\]]*?)\\]");if(!e.match(n))return i(e,t.toString());const o=new RegExp(`\\[\\[${t}\\]([^\\]]*?)\\]`);let a=e.match(o);return a||(a=e.match(r)),a?i(a[1],t.toString()):void 0}},126049:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,r:()=>o});n(317368),n(524471),n(477950),n(888233),n(74069);const r=(e,t)=>{if(e===`/${t}`)return"/";const n=new RegExp(`^(/${t})?(/.*)$`,"i"),r=e.match(n);return r?r[2]:e},o=e=>!e||"www.xbox.com"===e||e===window.location.host},316216:(e,t,n)=>{"use strict";n.d(t,{J6I:()=>u.J6,zHJ:()=>E.zH,Mji:()=>S.Mj,zGj:()=>E.zG,kac:()=>E.k,VYl:()=>r.VY,UVO:()=>u.UV,PJd:()=>l,pb1:()=>S.pb,lO9:()=>r.lO,vCX:()=>E.vC,Gti:()=>u.Gt,vXL:()=>u.vX,zIV:()=>u.zI,weN:()=>u.we,jmv:()=>u.jm,cP9:()=>S.cP,fEB:()=>u.fE,h7h:()=>S.h7,Hw9:()=>T.Hw,iBy:()=>r.iB,sXi:()=>S.sX,_M1:()=>u._M,$uU:()=>S.$u,H62:()=>r.H6,Q2A:()=>r.Q2,XZq:()=>S.XZ,RmD:()=>r.Rm,euC:()=>S.eu,ZOQ:()=>E.ZO,Grh:()=>E.Gr,vPf:()=>u.vP,lTi:()=>u.lT,Uim:()=>u.Ui,V9f:()=>u.V9,GxO:()=>u.Gx,itn:()=>S.it,Ypc:()=>u.Yp,Lx9:()=>u.Lx,yuW:()=>u.yu,gTX:()=>S.gT,lBj:()=>S.lB,MR9:()=>u.MR,dFq:()=>u.dF,PHw:()=>S.PH,mqE:()=>S.mq,FZu:()=>S.FZ,Krg:()=>S.Kr,LG0:()=>S.LG,tVd:()=>S.tV,kTi:()=>u.kT,ehd:()=>T.eh,D65:()=>S.D6,WUZ:()=>u.WU,myw:()=>u.my,xGv:()=>u.xG,vvg:()=>u.vv,hEW:()=>S.hE,gjf:()=>S.gj,abJ:()=>S.ab,$Pr:()=>S.$P,_89:()=>S._8,DiP:()=>S.Di,UwQ:()=>S.Uw,$Zt:()=>S.$Z,oB7:()=>u.oB,$E$:()=>u.$E,Nn:()=>u.Nn,FMS:()=>i,gzb:()=>S.gz,Zws:()=>S.Zw,i9B:()=>S.i9,Jbn:()=>S.Jb,m2K:()=>S.m2,LAY:()=>S.LA,QLG:()=>S.QL,TrC:()=>S.Tr,KdS:()=>S.Kd,Yzi:()=>S.Yz,yWe:()=>S.yW,o$o:()=>T.o$,zUJ:()=>T.zU,XTy:()=>S.XT,eCV:()=>S.eC,ew0:()=>u.ew,OLU:()=>S.OL,Qij:()=>S.Qi,Sl8:()=>u.Sl,Xnf:()=>S.Xn,_B2:()=>S._B,YgT:()=>u.Yg,sQA:()=>T.sQ,PE2:()=>S.PE,WBU:()=>S.WB,NDL:()=>S.ND,fUH:()=>S.fU,Pej:()=>S.Pe,BtQ:()=>S.Bt,Xwy:()=>S.Xw,ACU:()=>S.AC,LyP:()=>S.Ly,g48:()=>S.g4,ZU_:()=>S.ZU,tdh:()=>u.td,lXB:()=>u.lX,NT7:()=>u.NT,hAT:()=>u.hA,o8e:()=>u.o8,byQ:()=>u.by,rpX:()=>u.rp,xUA:()=>u.xU,BHT:()=>u.BH,r$u:()=>u.r$,lF6:()=>u.lF,qG9:()=>u.qG,OjV:()=>u.Oj,UoI:()=>S.Uo,uQr:()=>u.uQ,VJC:()=>u.VJ,ej0:()=>S.ej,r5C:()=>u.r5,kgH:()=>u.kg,Kp2:()=>r.Kp,AvI:()=>u.Av,nvS:()=>u.nv,Nxr:()=>u.Nx,yy9:()=>u.yy,LUC:()=>u.LU,NqY:()=>u.Nq,NRv:()=>u.NR,E$u:()=>S.E$,d8j:()=>u.d8,uQd:()=>S.uQ,j4h:()=>S.j4,Cqs:()=>T.Cq,upz:()=>u.up,CWW:()=>u.CW,$37:()=>u.$3,$Ft:()=>c,UDx:()=>u.UD,$wQ:()=>u.$w,HOP:()=>u.HO,IzA:()=>u.Iz,Sph:()=>T.Sp,_RZ:()=>u._R,L_O:()=>S.L_,FL2:()=>b,XY5:()=>y,s8U:()=>C,iNM:()=>p,Fsx:()=>_,WD1:()=>g,vzw:()=>u.vz,aM2:()=>u.aM,_yM:()=>T._y,Gq1:()=>u.Gq,ByS:()=>u.By,JDj:()=>u.JD,$ex:()=>S.$e,Fbb:()=>u.Fb,Nox:()=>u.No});var r=n(848074),o=(n(970063),n(20608));function*a(){return yield(0,o.getContext)(r.iB.cookies)}function i(){return(0,o.call)(a)}var s=n(202784);const l=(0,s.createContext)({}),c=()=>(0,s.useContext)(l);var u=n(582094),d=(n(477950),n(248319),n(34715),n(464925),n(426464),n(319570),n(654819),n(906886),n(692150)),h=n(609207);const m=Array.from({length:9},((e,t)=>`{${t}}`)),p=function(e,t){const n=(0,d.FC)((0,s.useContext)(h.E),[t,e]);for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];return n(o.length>0?o:m)},g=function(e){const t=(0,s.useContext)(h.E);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((n=>(0,d.FC)(t,[e,n])(m)))};function f(e,t){let n=e;if(n)for(const r of t){if("object"!==typeof n)return;if(n=n[r],void 0===n)return}return n}function v(e,t){return Array.isArray(e)?e:t?e.split(t):[e]}function _(e,t,n){const r=(0,s.useContext)(h.E),{locales:o,messages:a,pathSep:i}=r,l=v([e,t],i);for(var c=arguments.length,d=new Array(c>3?c-3:0),m=3;m<c;m++)d[m-3]=arguments[m];for(const s of o){const e=f(a[s],l);if(void 0!==e&&"function"===typeof e)return e(d)}return n?(0,u.WU)(n,...d):void 0}function y(e,t){return(0,d.FC)((0,s.useContext)(h.E),[e,t])}function b(e,t,n){return y(e,t)(n)}function C(e){const t=(0,s.useContext)(h.E),n={};for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return o.forEach((r=>{const o=(0,d.FC)(t,[e,r]);n[r]="function"===typeof o?o():o})),n}var E=n(20617),S=n(612928),T=n(674990)},20617:(e,t,n)=>{"use strict";var r,o;n.d(t,{zH:()=>i,zG:()=>r,k:()=>o,vC:()=>a,ZO:()=>s.Z,Gr:()=>s.G}),function(e){e[e.None=0]="None",e[e.Msa=1]="Msa",e[e.MsaAndXbox=2]="MsaAndXbox"}(r||(r={})),function(e){e[e.None=0]="None",e[e.SignedIn=1]="SignedIn"}(o||(o={}));var a;n(683001);!function(e){e.EnableTestNav="EnableTestNav",e.EnableTestTools="EnableTestTools",e.EnableTestPages="EnableTestPages",e.EnableCookieSourceDebugConsole="EnableCookieSourceDebugConsole",e.ShowStackOnError="ShowStackOnError",e.StagingFD="StagingFD",e.TestBuyNowFlights="TestBuyNowFlights",e.BuyNowExpIdTestFeatureGate="BuyNowExpIdTestFeatureGate",e.UglyUhf="UglyUhf",e.SiteThemeOverride="SiteThemeOverride",e.DisableUhfXboxCart="DisableUhfXboxCart",e.EnableUhfCache="EnableUhfCache",e.DisableUhfWcp="DisableUhfWcp",e.EnableAllLocales="EnableAllLocales",e.EnableGatedLocales="EnableGatedLocales",e.ClientErrorSampleRate="ClientErrorSampleRate",e.ServiceErrorSampleRate="ServiceErrorSampleRate",e.SentryTransactionSampleRate="SentryTransactionSampleRate",e.MCWSSentryClientSampleRate="MCWSSentryClientSampleRate",e.MCWSSentryServiceSampleRate="MCWSSentryServiceSampleRate",e.MCWSSentryTransactionSampleRate="MCWSSentryTransactionSampleRate",e.EnableServerSideUserFeatureAssignments="EnableServerSideUserFeatureAssignments",e.EnableSisuUcsSupport="EnableSisuUcsSupport",e.EnableContentPreviewTools="EnableContentPreviewTools",e.EnableAAMScript="EnableAAMScript",e.EnableBundleBuilderAdobeLaunch="EnableBundleBuilderAdobeLaunch",e.CartPreview="CartPreview",e.CheckoutPreview="CheckoutPreview",e.StorePPE="StorePPE",e.DisableErrorMessageService="DisableErrorMessageService",e.browseScoringTreatment="browseScoringTreatment",e.EnableNewSearchExperience="EnableNewSearchExperience",e.EnableNewSearchGeneralTab="EnableNewSearchGeneralTab",e.EnableStoreHomePage="EnableStoreHomePage",e.EnableStickyDesktopHeader="EnableStickyDesktopHeader",e.EnableStickyMobileHeader="EnableStickyMobileHeader",e.searchScoringTreatment="searchScoringTreatment",e.EnableBuyNowHoverButton="EnableBuyNowHoverButton",e.EnableDealXPriceText="EnableDealXPriceText",e.EnableMultiUpsellButton="EnableMultiUpsellButton",e.EnableReactCheckout="EnableReactCheckout",e.DisableGamepadNavigationOnPurchase="DisableGamepadNavigationOnPurchase",e.EnableBuyNowXboxUiExp="EnableBuyNowXboxUiExp",e.EnableBuyNowFCRedeemWithTax="EnableBuyNowFCRedeemWithTax",e.UsePostMessageHelper="UsePostMessageHelper",e.EnablePIDLTestHeader="EnablePIDLTestHeader",e.EnablePIDLStandarizedForms="EnablePIDLStandarizedForms",e.EnableV2MeControl="EnableV2MeControl",e.EnableReactGiftFlow="EnableReactGiftFlow",e.EnableWishlistGifting="EnableWishlistGifting",e.WishlistV2Menu="WishlistV2Menu",e.OsWishlistSharing="OsWishlistSharing",e.UsePurchasePPE="UsePurchasePPE",e.EnableLibraryPage="EnableLibraryPage",e.PIGroupingExpId="PIGroupingExpId",e.PIGroupingFlightId="PIGroupingFlightId",e.EnableRedeemCodeModal="EnableRedeemCodeModal",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableLaunchpad="EnableLaunchpad",e.EnableLaunchpadDownload="EnableLaunchpadDownload",e.EnableYearInReview="EnableYearInReview",e.EnableYearInReviewMarketing="EnableYearInReviewMarketing",e.EnableRemoteInstallToPc="EnableRemoteInstallToPc",e.EnableEditionUpgradeOffer="EnableEditionUpgradeOffer",e.PurchaseSdkCartCheckout="PurchaseSdkCartCheckout",e.SkipXTokenCookies="SkipXTokenCookies",e.SkipRedirectCounter="SkipRedirectCounter",e.EnableSkipActivateStoreExp="EnableSkipActivateStoreExp",e.EnableFranchisePageLink="EnableFranchisePageLink",e.EnablePurchaseLaunchOnLogin="EnablePurchaseLaunchOnLogin",e.EnableMultiCloudPlayButton="EnableMultiCloudPlayButton",e.EnableXboxGamePadLite="EnableXboxGamePadLite",e.EnableXboxOneRFSetupRedirectPage="EnableXboxOneRFSetupRedirectPage",e.EnableMCWSSite="EnableMCWSSite",e.EnableMCWSWhiteLabel="EnableMCWSWhiteLabel",e.EnableMaunaLoa="EnableMaunaLoa",e.EnableDynamicFlags="EnableDynamicFlags",e.EnableMutualFriendsPrivacySettings="EnableMutualFriendsPrivacySettings",e.EnableGarrisonInlineRedeem="EnableGarrisonInlineRedeem",e.EnablePlayableOnExperiment="EnablePlayableOnExperiment",e.EnableXPAStringChange="EnableXPAStringChange",e.EnableComingSoonUpsell="EnableComingSoonUpsell",e.EnableSearchPromo="EnableSearchPromo",e.EnableDefaultUltimateUpsell="EnableDefaultUltimateUpsell",e.EnableTitanAutoRenewToggle="EnableTitanAutoRenewToggle",e.EnableTVPurchaseFlow="EnableTVPurchaseFlow",e.EnableXboxAppOnMobileGooglePay="EnableXboxAppOnMobileGooglePay",e.EnableStoreBYOG="EnableStoreBYOG",e.EnablePlayPathNavigation="EnablePlayPathNavigation",e.EnableTitanRedeemSubs="EnableTitanRedeemSubs",e.UseOneCollectorSandboxEndpoint="UseOneCollectorSandboxEndpoint",e.EnableMessageSafetySettings="EnableMessageSafetySettings",e.EnableXboxSmallPurchaseDialog="EnableXboxSmallPurchaseDialog"}(a||(a={}));var i,s=n(790431);!function(e){e.Child="Child",e.Teen="Teen",e.Adult="Adult",e.Unknown="Unknown"}(i||(i={}))},510363:(e,t,n)=>{"use strict";function r(){return{anonToken:void 0}}n.d(t,{g:()=>r})},516180:(e,t,n)=>{"use strict";n.d(t,{h7:()=>d.h,gT:()=>f,lB:()=>v,PH:()=>a,mq:()=>l,FZ:()=>i,Kr:()=>c,LG:()=>s,gj:()=>u.g,Uo:()=>h.U,$e:()=>p});var r=n(900814),o=n.n(r);n(43105),n(906886);function a(e,t,n,r){return r?Object.assign((function(){const a=r(...arguments);return o()({type:e,scope:t,partner:n},a)}),{getType:()=>e,getPartner:()=>n}):Object.assign((()=>({type:e,scope:t,partner:n})),{getType:()=>e,getPartner:()=>n})}function i(e,t,n,r,a,i,s,l){return{start:Object.assign((function(){const a=r(...arguments);return o()({type:n,scope:e,partner:t},a)}),{getType:()=>n,getPartner:()=>t}),success:Object.assign((function(){const n=i(...arguments);return o()({type:a,scope:e,partner:t},n)}),{getType:()=>a,getPartner:()=>t}),error:Object.assign((function(){const n=l(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t})}}function s(e,t,n,r,a,i){const s=`${n}_START`,l=`${n}_SUCCESS`,c=`${n}_FAILURE`;return{start:Object.assign((function(){const n=r(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t}),success:Object.assign((function(){const n=a(...arguments);return o()({type:l,scope:e,partner:t},n)}),{getType:()=>l,getPartner:()=>t}),error:Object.assign((function(){const n=i(...arguments);return o()({type:c,scope:e,partner:t},n)}),{getType:()=>c,getPartner:()=>t})}}const l=e=>(t,n,r)=>a(t,n,e,r),c=e=>(t,n,r,o,a,s,l)=>i(t,e,n,r,o,a,s,l);var u=n(510363),d=n(692318),h=n(588709),m=(n(136728),n(477950),n(621850),n(9e4),n(34715),n(426464),n(18339),n(319570),n(567526),n(886668),n(33354),n(325870),n(210930),n(240574),n(194116),n(543267),n(574614),n(619852),n(144306),n(626077),n(971072),n(450183),n(976026));function p(e,t){return{scopes:[].concat(e),reducer:t}}function g(e,t){const n=new Map,r=new Map;for(const o in e){const{scopes:t,reducer:a}=e[o];t.forEach((e=>{n.has(e)?n.get(e).push(o):n.set(e,[o])})),r.set(o,a)}return p(Array.from(n.keys()),((e,a)=>{let i=!1;if(void 0===e){const e={};return r.forEach(((t,n)=>{e[n]=t(void 0,a)})),e}if(/^(@@redux\/(INIT|REPLACE)|@@INIT)/.test(a.type)){const t=o()({},e);return r.forEach(((n,r)=>{const o=e[r];t[r]=n(o,a)})),t}const{scope:s,partner:l}=a;let c=e;const u=n.get(s);return u&&u.filter((e=>!t||(l?e===l:(0,m.W)(e)))).forEach((t=>{const n=e[t],s=r.get(t)(n,a);s!==n&&(i||(c=o()({},e)),i=!0),c[t]=s})),c}))}function f(e){return g(e,!1)}function v(e){return g(e,!0).reducer}},588709:(e,t,n)=>{"use strict";function r(e){return function(t){const n=t;return e.getType()===n.type&&e.getPartner()===n.partner}}n.d(t,{U:()=>r})},612928:(e,t,n)=>{"use strict";n.d(t,{Mj:()=>o.M,pb:()=>a.p,cP:()=>r,h7:()=>m.h7,sX:()=>s.s,$u:()=>c,XZ:()=>d.X,eu:()=>h.e,it:()=>o.i,gT:()=>m.gT,lB:()=>m.lB,PH:()=>m.PH,mq:()=>m.mq,FZ:()=>m.FZ,Kr:()=>m.Kr,LG:()=>m.LG,tV:()=>f,D6:()=>a.D,hE:()=>g.hE,gj:()=>m.gj,ab:()=>p.ab,$P:()=>g.$P,_8:()=>g._8,Di:()=>p.Di,Uw:()=>g.Uw,$Z:()=>g.$Z,gz:()=>E.g,Zw:()=>p.Zw,i9:()=>g.i9,Jb:()=>g.Jb,m2:()=>g.m2,LA:()=>g.LA,QL:()=>g.QL,Tr:()=>g.Tr,Kd:()=>p.Kd,Yz:()=>p.Yz,yW:()=>p.yW,XT:()=>g.XT,eC:()=>g.eC,OL:()=>_,Qi:()=>v.Qi,Xn:()=>p.Xn,_B:()=>p._B,PE:()=>g.PE,WB:()=>p.WB,ND:()=>v.ND,fU:()=>A,Pe:()=>R,Bt:()=>k,Xw:()=>x,AC:()=>I,Ly:()=>P,g4:()=>p.g4,ZU:()=>p.ZU,Uo:()=>m.Uo,ej:()=>l,E$:()=>u,uQ:()=>d.u,j4:()=>h.j,L_:()=>C,$e:()=>m.$e});var r,o=n(448066),a=n(925268),i=n(22229),s=n(526280);!function(e){e.LOCATION_CHANGE="@navigation/LOCATION_CHANGE",e.PAGE_DATA_REQUEST_START="@navigation/PAGE_DATA_REQUEST_START",e.PAGE_DATA_REQUEST_SUCCESS="@navigation/PAGE_DATA_REQUEST_SUCCESS",e.PAGE_DATA_REQUEST_ERROR="@navigation/PAGE_DATA_REQUEST_ERROR"}(r||(r={}));const l={navigateToPath:(0,i.P)(r.LOCATION_CHANGE,s.s.Navigation,((e,t,n)=>({newLocation:e,oldLocation:t,forceRefresh:n}))),pageDataRequest:(0,i.F)(s.s.Navigation,r.PAGE_DATA_REQUEST_START,(e=>({pageId:e})),r.PAGE_DATA_REQUEST_SUCCESS,(e=>({pageId:e})),r.PAGE_DATA_REQUEST_ERROR,((e,t)=>({pageId:e,error:t})))};var c;!function(e){e.UPDATE_PAGE_SEO_TAGS="@seo/UPDATE_PAGE_SEO_TAGS"}(c||(c={}));const u={updatePageSeoTags:(0,i.P)(c.UPDATE_PAGE_SEO_TAGS,s.s.Seo,((e,t)=>({tags:e,pageId:t})))};var d=n(245328),h=n(485527),m=n(516180),p=n(71138),g=n(359496);const f={isLoading:!1,hasContent:!1,error:void 0};var v=n(734815);const _=(e,t)=>(0,v.S)(e)[t]||f;var y=n(474495),b=n(582094);const C=e=>{const t=(0,b._R)(e);return(0,y.useSelector)((e=>((e,t)=>(0,v.dF)(e)[t])(e,t)))};var E=n(149657),S=n(848074),T=n(20617);const w=(e,t)=>{var n,r;let o;switch(t){case S.Q2.Light:case S.Q2.DarkHeader:o=null===(n=(0,v.v3)(e).data)||void 0===n?void 0:n.light;break;case S.Q2.Dark:o=null===(r=(0,v.v3)(e).data)||void 0===r?void 0:r.dark}return o},I=e=>{var t,n,r,o;const a=(0,v.v3)(e);return(null===(n=null===(t=a.data)||void 0===t?void 0:t.light)||void 0===n?void 0:n.javascriptIncludes)||(null===(o=null===(r=a.data)||void 0===r?void 0:r.dark)||void 0===o?void 0:o.javascriptIncludes)},k=(e,t)=>{var n;return null===(n=w(e,t===S.Q2.DarkHeader?S.Q2.Dark:t))||void 0===n?void 0:n.headerHtml},A=(e,t)=>{var n;return null===(n=w(e,t===S.Q2.DarkHeader?S.Q2.Light:t))||void 0===n?void 0:n.footerHtml},P=e=>(0,g.$P)(e,T.vC.UglyUhf)?S.Q2.Light:(0,E.g)(e),x=e=>(0,v.v3)(e).headerMode,R=e=>(0,v.v3)(e).footerMode||T.ZO.Full},71138:(e,t,n)=>{"use strict";n.d(t,{Di:()=>p,Kd:()=>a,WB:()=>d,Xn:()=>l,Yz:()=>i,ZU:()=>m,Zw:()=>c,_B:()=>u,ab:()=>o,g4:()=>h,yW:()=>s});var r=n(734815);const o=e=>l(e).anonToken,a=e=>s(e).locale,i=e=>s(e).localeWithScript,s=e=>(0,r.oV)(e).marketInfo,l=e=>(0,r.oV)(e).requestInfo,c=e=>(0,r.oV)(e).deviceId,u=e=>l(e).path,d=e=>(0,r.oV)(e).telemetryInfo,h=e=>(0,r.oV)(e).isPreviewMode,m=e=>(0,r.oV)(e).isReactDomHydrating,p=e=>(0,r.oV)(e).clientBootstrapInfo.initialized},359496:(e,t,n)=>{"use strict";n.d(t,{$P:()=>S,$Z:()=>I,Jb:()=>p,LA:()=>v,PE:()=>b,QL:()=>_,Tr:()=>d,Uw:()=>k,XT:()=>C,_8:()=>E,eC:()=>g,hE:()=>w,i9:()=>m,m2:()=>f});var r=n(900814),o=n.n(r),a=(n(136728),n(231235),n(9e4),n(474407),n(426464),n(18339),n(264903),n(597698)),i=n(821883),s=n(20617),l=n(221997),c=n(734815);const u={},d=(0,a.createSelector)(c.Wr,(e=>{var t;return o()(o()(o()({},e.environmentFeatureGates),null!==(t=(0,i.getDataOrPrevious)(e.expFeatureGates))&&void 0!==t?t:u),e.overrideFeatureGates)})),h=e=>{var t;return null===(t=f(e))||void 0===t?void 0:t.flights},m=e=>(0,c.Wr)(e).environmentFeatureGates,p=e=>{var t;return null!==(t=(0,i.getDataOrPrevious)((0,c.Wr)(e).expFeatureGates))&&void 0!==t?t:u},g=e=>(0,c.Wr)(e).overrideFeatureGates,f=e=>(0,i.getDataOrPrevious)((0,c.Wr)(e).experimentationInfo),v=e=>(0,c.Wr)(e).experimentationInfo,_=(e,t)=>t?e[t.toLowerCase()]:void 0,y=(e,t)=>_(d(e),t),b=(e,t)=>{const n=y(e,t);if("string"===typeof n)return n},C=(e,t)=>{const n=y(e,t);if("number"===typeof n)return n},E=(e,t)=>{const n=y(e,t);if("boolean"===typeof n)return n},S=(e,t)=>{const n=d(e);return T(n,t)},T=(e,t)=>!0===_(e,t),w=e=>{const t=h(e);let n="";return t&&(n=(0,l.my)(t)),n},I=e=>{const t=h(e);let n=[];return t&&(n=t.filter((e=>e.toLowerCase().includes("sc_")))),n},k=e=>Object.values(s.vC).filter((e=>e.toLowerCase().includes("buynowexpid"))).reduce(((t,n)=>{const r=b(e,n);return r&&t.push(r),t}),[])},734815:(e,t,n)=>{"use strict";n.d(t,{ND:()=>l,Qi:()=>i,S:()=>a,Wr:()=>o,dF:()=>s,oV:()=>r,v3:()=>c});const r=e=>e.appContext,o=e=>e.experiments,a=e=>e.pageRequestMetadata,i=(e,t)=>e[t],s=e=>e.seo,l=e=>e.theme,c=e=>e.uhf},674990:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>r.H,eh:()=>o.e,o$:()=>p,zU:()=>_,sQ:()=>g,Cq:()=>m,Sp:()=>f,_y:()=>y._});var r=n(958565),o=n(598410),a=n(900814),i=n.n(a),s=(n(571372),n(906886),n(474495)),l=n(107267),c=n(20608),u=n(71138),d=n(359496);let h=[];const m=e=>h=e,p=(e,t,n,r)=>{if(0===h.length)throw new Error("No routes have been registered. Invalid use of getMatchedRouteConfig.");for(const a of h)if((0,o.e)(a.constraint,t,r)){const t=(0,l.LX)(e,a);if(t)return i()(i()({},a),{},{isPreview:!!n,match:t})}},g=()=>h,f=e=>{const t=(0,s.useSelector)(d.Tr),n=(0,l.TH)(),r=(0,s.useSelector)(u.g4),o=(0,s.useSelector)(u.Yz),a=e||n.pathname;return p(a,t,r,o)};function*v(e){const t=yield(0,c.select)(d.Tr),n=yield(0,c.select)(u.g4),r=yield(0,c.select)(u.Yz);return yield(0,c.call)(p,e,t,n,r)}function _(e){return(0,c.call)(v,e)}var y=n(456097)},441677:(e,t,n)=>{"use strict";var r,o,a,i;n.d(t,{zc:()=>a,JS:()=>i,uZ:()=>r,GV:()=>o}),function(e){e.Browse="Browse",e.BuyNow="BuyNow",e.Cart="Cart",e.Checkout="Checkout",e.Error="Error",e.GenericError="GenericError",e.Library="Library",e.LocalePicker="LocalePicker",e.Overlay="Overlay",e.ProductDetailsPage="ProductDetailsPage",e.PDP="PDP",e.Retry="Retry",e.Search="Search",e.Settings="Settings",e.StoreHome="StoreHome",e.Wishlist="Wishlist"}(r||(r={})),function(e){e.Cart="CART",e.Checkout="CHECKOUT",e.PDP="PDP"}(o||(o={})),function(e){e.Button="Button",e.Link="Link",e.PageContent="PageContent"}(a||(a={})),function(e){e.CemService="CemService",e.DisplayCatalogService="DisplayCatalogService",e.EmeraldXbetService="EmeraldXbetService",e.InventoryService="InventoryService",e.GamingContext="GamingContext",e.PeopleHub="PeopleHub",e.SISU="SISU",e.StoreCartService="StoreCartService",e.XboxLiveAccountService="XboxLiveAccountService"}(i||(i={}))},471619:(e,t,n)=>{"use strict";n.d(t,{pC:()=>y,dz:()=>u,aR:()=>i,cH:()=>h,fs:()=>s,u_:()=>d,Xy:()=>c,Do:()=>l,TA:()=>a,Si:()=>S,I4:()=>T,wl:()=>_,Lo:()=>p,EW:()=>g,Qc:()=>m,Fj:()=>f});n(571372);var r=n(316216),o=n(202784);const a=(0,o.createContext)({}),i=(0,o.createContext)({}),s=(0,o.createContext)({}),l=(0,o.createContext)({}),c=(0,o.createContext)({}),u=(0,o.createContext)({}),d=(0,o.createContext)({}),h=(0,o.createContext)({}),m=()=>(0,o.useContext)(a),p=()=>(0,o.useContext)(i),g=()=>(0,o.useContext)(s),f=()=>m().logger(),v=(0,o.createContext)(void 0),_=()=>(0,o.useContext)(v),y=e=>{let{children:t}=e;const n=m().getCurrentPage()||void 0,a=(0,o.useRef)(n),i=f();if(void 0!==_()&&(i.error("can not nest BackingPageProvider"),"prod"!==r.xUA.DEPLOYMENT_ENV))throw new Error("can not nest BackingPageProvider");return o.createElement(v.Provider,{value:a.current},t)};var b=n(20608);function*C(){return yield(0,b.getContext)(r.iBy.telemetry)}function*E(){return(yield C()).logger()}function S(){return(0,b.call)(C)}function T(){return(0,b.call)(E)}},881690:(e,t,n)=>{"use strict";n.d(t,{iZ:()=>u,r_:()=>d,Vg:()=>f.V,Z1:()=>m,gR:()=>p.g,_d:()=>h,XP:()=>f.X,Li:()=>g.L});var r=n(124923),o=n.n(r),a=n(900814),i=n.n(a),s=(n(606710),n(316216));const l=["areaName","behavior","componentName","contentName","contentType","id","productId","productName","skuId","slotNumber","templateName","videoDuration","videoId","videoName","videoPercentageComplete","videoWatchTime"];var c;!function(e){e.Sku="sku"}(c||(c={}));const u=e=>({"data-m":JSON.stringify(m(e))}),d=()=>({"data-bi-dnt":!0}),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(0,s.NqY)(e),o=(0,s.NqY)(t),a=(0,s.NqY)(n),l=i()(i()(i()({},a),o),r);return l},m=e=>{const{areaName:t,behavior:n,componentName:r,contentName:a,contentType:s,id:c,productId:u,productName:d,skuId:h,slotNumber:m,templateName:p,videoDuration:g,videoId:f,videoName:v,videoPercentageComplete:_,videoWatchTime:y}=e,b=o()(e,l);return i()({aN:t,bhvr:n,cN:a,compnm:r,cT:s,id:c,pid:u,prod:d,sku:h,sN:m,tN:p,viddur:g,vidid:f,vidnm:v,vidpct:_,vidwt:y},b)};var p=n(997339),g=n(10089),f=n(827302)},827302:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,X:()=>r});const r="telemetryTags",o=e=>e.metadata&&e.metadata[r]},387342:(e,t,n)=>{"use strict";n.d(t,{Lz:()=>s.Lz,xu:()=>s.xu,pC:()=>o.pC,cg:()=>i.cg,dz:()=>o.dz,qJ:()=>l.qJ,zc:()=>r.zc,x8:()=>i.x8,JS:()=>r.JS,Mk:()=>s.Mk,aR:()=>o.aR,uZ:()=>r.uZ,DV:()=>c.D,GV:()=>r.GV,cH:()=>o.cH,OR:()=>o.fs,u_:()=>o.u_,rB:()=>s.rB,F:()=>c.F,Xy:()=>o.Xy,Do:()=>o.Do,TA:()=>o.TA,Lg:()=>s.Lg,Yr:()=>b,iZ:()=>a.iZ,r_:()=>a.r_,zX:()=>C,Si:()=>o.Si,I4:()=>o.I4,gR:()=>a.gR,_d:()=>a._d,XP:()=>a.XP,Lo:()=>o.Lo,Li:()=>a.Li,EW:()=>o.EW,Qc:()=>o.Qc,Fj:()=>o.Fj});var r=n(441677),o=n(471619),a=n(881690),i=(n(321422),n(252747)),s=n(375581),l=n(532392),c=(n(217203),n(122068)),u=n(900814),d=n.n(u),h=(n(368995),n(73439),n(888233),n(906886),n(581497),n(875640),n(801871),n(214121),n(460523),n(251175)),m=n(316216),p=n(166465),g=n(592642);const f=(e,t,n)=>{var r,o,i,s,l,c;let u=0;const f=Date.now();t.metadata&&t.metadata.timeStamp&&(u=f-t.metadata.timeStamp);let v=e.cv().get(),_="";if(t.headers){const e=t.headers.get(h.HttpHeader.CorrelationVector);e&&(v=e),_=null!==(r=t.headers.get("X-MS-API-Version"))&&void 0!==r?r:""}const y=t.url&&new URL(t.url);let b,C,E,S;const T=(0,a.Vg)(t);let w,I,k,A,P,x;if(T?(C=T.dependencyName,E=T.dependencyOperationName,b=T.operationName,S=T.dependencyOperationVersion||_):y&&(C=y.hostname,E=y.pathname),n){w=n.headers,I=(0,m.hAT)(n.status),k=n.status.toString(),A=(0,m.YgT)(n.status).toString(),P=null!==(o=n.headers.get(h.HttpHeader.ContentType))&&void 0!==o?o:void 0;const e=n.headers.get(h.HttpHeader.ContentLength);e&&(x=parseInt(e,10))}else w=new Headers,I=!1,k="500",A=m.H62.TransportError.toString();const R={op:E,startTimestamp:null===(i=t.metadata)||void 0===i?void 0:i.timeStamp};if("true"!=="MISSING_ENV_VAR".RAZZLE_DISABLE_SERVER_SENTRY){const e=null===(l=null===(s=p.Gd())||void 0===s?void 0:s.getScope())||void 0===l?void 0:l.getTransaction(),t=null!==(c=null===n||void 0===n?void 0:n.status)&&void 0!==c?c:500;if(e){const n=e.startChild(R);null===n||void 0===n||n.setHttpStatus(t),null===n||void 0===n||n.finish(f)}else{const e=g.Yr(d()(d()({},R),{},{name:E}));null===e||void 0===e||e.setHttpStatus(t),null===e||void 0===e||e.finish(f)}}e.logOutgoingServiceReliability({cV:v,latencyMs:u,requestHeaders:t.headers||new Headers,requestMethod:t&&t.method&&t.method.toUpperCase(),responseHeaders:w,succeeded:I,dependencyName:C,dependencyOperationName:E,dependencyOperationVersion:S,dependencyType:"WebService",operationName:b,protocol:y&&y.protocol.toUpperCase(),protocolStatusCode:k,requestStatus:A,responseContentType:P,responseSizeBytes:x,target:t.url})};class v{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE,this.intercept=async e=>{const t=e.metadata||{};t.timeStamp=Date.now();const n=e.headers||new Headers;return n.set(h.HttpHeader.CorrelationVector,this._telemetryProvider.cv().increment()),h.InterceptedRequest.fromRequest(e,{metadata:t,additionalHeaders:n})}}}class _{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){return f(this._telemetryProvider,e,t),t}}class y{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){throw t instanceof h.HttpError?f(this._telemetryProvider,e,t.response):t instanceof DOMException&&f(this._telemetryProvider,e,void 0),t}}const b=(e,t)=>e.requestInterceptor(new v(t)).responseInterceptor(new _(t)).errorInterceptor(new y(t)),C=e=>({request:[new v(e)],response:[new _(e)],error:[new y(e)]})},252747:(e,t,n)=>{"use strict";n.d(t,{cg:()=>o.c,x8:()=>r,ye:()=>a.y});var r,o=n(762270);!function(e){e.LeftClick="CL",e.MiddleClick="CM",e.RightClick="CR",e.Scroll="S",e.Zoom="Z",e.Resize="R",e.KeyboardEnter="KE",e.KeyboardSpace="KS",e.GamepadA="CGA",e.GamepadMenu="CGM",e.Automatic="A",e.AutomaticTimer="AT",e.Other="O"}(r||(r={}));var a=n(11494)},656159:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(171315),o=(n(906886),n(202784)),a=n(294969);function i(e,t){return function(e,t,n){const r=(0,a.X)(),[i,s]=(0,o.useState)();return(0,o.useEffect)((()=>{function r(e){null!=n&&n(e),s(e)}return null===e||void 0===e||e.addEventListener(t,r),()=>{null===e||void 0===e||e.removeEventListener(t,r)}}),[e,t,n]),[i,(0,o.useCallback)((()=>{r.current&&s(void 0)}),[r])]}((0,r.Tv)().getAuthProvider(),e,t)}},756231:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(171315),o=n(892397),a=n(20608);function*i(){const e=(yield(0,r.le)()).getAuthProvider();if(!e.isInitialized()){const t=(0,o.eventChannel)((t=>{const n=e=>{t(e)};return e.addEventListener("initialized",n),()=>e.removeEventListener("initialized",n)}));yield(0,a.take)(t),t.close()}return e.getActiveAuthUser()}},246778:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(171315),o=n(821883),a=n(202784),i=n(656159);const s=()=>{(0,i.o)(r.S_.type),(0,i.o)(r.Nb.type);const e=(0,r.Tv)().getAuthProvider(),t=e.isInitialized(),n=e.getActiveAuthUser();return(0,a.useMemo)((()=>t?(0,o.lceContent)(n):o.LCE_IS_FETCHING),[t,n])}},33866:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"NavLinksPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,n.e(55547).then(n.bind(n,449783))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 449783}})},772795:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var r=n(73439),o=n.n(r),a=n(906886),i=n.n(a),s=n(353513),l=n(316216);const c=(0,s.hx)({resolved:{},chunkName:()=>"ToolsPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(85565),n.e(3037),n.e(8805)]).then(n.bind(n,926021))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 926021}})},849377:(e,t,n)=>{"use strict";n.d(t,{bJ:()=>o,go:()=>r,w8:()=>a});var r;n(136728),n(888233),n(906886);!function(e){e.arAE="ar-AE",e.arSA="ar-SA",e.csCZ="cs-CZ",e.daDK="da-DK",e.deAT="de-AT",e.deCH="de-CH",e.deDE="de-DE",e.elGR="el-GR",e.enAU="en-AU",e.enCA="en-CA",e.enGB="en-GB",e.enHK="en-HK",e.enIE="en-IE",e.enIN="en-IN",e.enMY="en-MY",e.enNZ="en-NZ",e.enPH="en-PH",e.enSG="en-SG",e.enUS="en-US",e.enZA="en-ZA",e.esAR="es-AR",e.esCL="es-CL",e.esCO="es-CO",e.esES="es-ES",e.esMX="es-MX",e.fiFI="fi-FI",e.frBE="fr-BE",e.frCA="fr-CA",e.frCH="fr-CH",e.frFR="fr-FR",e.heIL="he-IL",e.huHU="hu-HU",e.idID="id-ID",e.itIT="it-IT",e.jaJP="ja-JP",e.koKR="ko-KR",e.nbNO="nb-NO",e.nlBE="nl-BE",e.nlNL="nl-NL",e.plPL="pl-PL",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ruRU="ru-RU",e.skSK="sk-SK",e.svSE="sv-SE",e.thTH="th-TH",e.trTR="tr-TR",e.viVN="vi-VN",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.ukUA="uk-UA",e.roRO="ro-RO",e.hrHR="hr-HR",e.srLatnRS="sr-Latn-RS",e.bsLatnBA="bs-Latn-BA",e.slSI="sl-SI",e.etEE="et-EE",e.lvLV="lv-LV",e.ltLT="lt-LT",e.isIS="is-IS",e.deLI="de-LI",e.bgBG="bg-BG",e.enCY="en-CY",e.mtMT="mt-MT",e.frLU="fr-LU",e.deLU="de-LU",e.sqAL="sq-AL",e.kaGE="ka-GE",e.mkMK="mk-MK",e.roMD="ro-MD",e.ruMD="ru-MD",e.srLatnME="sr-Latn-ME",e.esBO="es-BO",e.esCR="es-CR",e.esEC="es-EC",e.esSV="es-SV",e.esGT="es-GT",e.esHN="es-HN",e.esNI="es-NI",e.esPA="es-PA",e.esPY="es-PY",e.esPE="es-PE",e.esUY="es-UY",e.arBH="ar-BH",e.arKW="ar-KW",e.arOM="ar-OM",e.arQA="ar-QA",e.arDZ="ar-DZ",e.arEG="ar-EG",e.arLY="ar-LY",e.arMA="ar-MA",e.arTN="ar-TN"}(r||(r={}));const o=[],a=(r.arSA,r.csCZ,r.daDK,r.deDE,r.elGR,r.enGB,r.esMX,r.fiFI,r.frFR,r.heIL,r.huHU,r.idID,r.itIT,r.jaJP,r.koKR,r.nbNO,r.nlNL,r.plPL,r.ptBR,r.ruRU,r.skSK,r.svSE,r.thTH,r.trTR,r.viVN,r.zhCN,e=>{const t=[];for(const n of Object.values(r))!e&&o.includes(n)||t.push(n.toString().toLowerCase());return t})},459228:(e,t,n)=>{"use strict";n.d(t,{$t:()=>o,EK:()=>r,K5:()=>i,NL:()=>s,TY:()=>l,Y$:()=>a});const r="xbcpreview",o="/auth/msa",a="/auth/msa/blank.html",i="user.read",s="29663c6d-b490-4c35-a2ab-1e1342d9fc0b",l="72f988bf-86f1-41af-91ab-2d7cd011db47"},436562:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});const r="defCulture"},527256:(e,t,n)=>{"use strict";n.d(t,{gV:()=>se,t8:()=>fn,lP:()=>ce.lP,HR:()=>Be,m3:()=>Pe,a7:()=>le.a,J9:()=>Pt,fP:()=>At,e:()=>ue.e,yU:()=>vn.y,r2:()=>bn.r,w8:()=>yn.w8,Xt:()=>mn,c:()=>Qe,tP:()=>_n.t,fE:()=>de.f,NW:()=>ce.NW});n(906886);var r=n(924117),o=n(804802),a=n(573844),i=n(469821),s=n(471972),l=n(353513),c=n(316216),u=n(412524),d=n.n(u),h=n(202784),m=n(218671),p=n(474495),g=(n(665103),n(124923)),f=n.n(g),v=n(900814),_=n.n(v),y=(n(464925),n(654819),n(901523)),b=n(615946),C=n(361248),E=n(107267),S=n(256958),T=n(317505),w=n(176901);n(477950),n(888233),n(94908),n(460523);const I=e=>h.createElement(l.SV,null,(()=>h.createElement(E.AW,_()({},e)))),k=e=>h.createElement(I,_()(_()({},e),{},{render:t=>h.createElement(A,_()(_()({},t),e))})),A=e=>{const t=new URLSearchParams(e.location.search);if(e.queryParams)for(const[n,r]of Object.entries(e.queryParams))t.append(n,r);return h.createElement(E.l_,{to:{pathname:e.redirectTo,search:t.toString()}})};var P=n(33866),x=(n(385940),n(171315)),R=n(61610),N=n(859387),O=n(94979),L=n(548844),M=n(459228),U=n(504371);const D=()=>{const e=(0,p.useSelector)(c.g48),t=(0,E.TH)(),n=(0,p.useDispatch)(),r=(0,p.useSelector)(x.mh),o=()=>{n(c.ej0.navigateToPath(t,t,!0))};return h.createElement(h.Fragment,null,r?h.createElement(h.Fragment,null,h.createElement(C.$,{as:"button",className:U.s,icon:e?N.Z:O.Z,title:"Toggle Preview",onClick:()=>(n(c.itn.setIsPreviewMode(!e)),(0,c.d8j)({name:M.EK,value:`${!e}`}),void o())}),h.createElement(C.$,{as:"button",icon:L.Z,title:"Client Refresh",onClick:()=>o()}),h.createElement(C.$,{as:"button",className:U.e,icon:L.Z,title:"Server Refresh",onClick:()=>{window.location.reload()}})):h.createElement(C.$,{as:"button",className:U.s,icon:R.Z,title:"Sign In to enable preview",onClick:()=>window.location.replace("/aad/login")}))};var B=n(772795),F=n(603358),H=n(303726);const q=e=>{let{htmlContent:t,className:n}=e;return t?h.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:t}}):null},G=()=>{const e=(0,p.useSelector)(c.Pej);return e===c.ZOQ.Off?null:h.createElement(z,{mode:e})},z=e=>{let{mode:t}=e,n=(0,p.useSelector)(c.LyP);n=n===c.Q2A.DarkHeader?c.Q2A.Light:n;const r=(0,p.useSelector)((e=>(0,c.fUH)(e,n)));return h.createElement(F.Z,{mode:"out-in"},h.createElement(H.Z,{key:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-footer"},h.createElement(q,{htmlContent:r,className:d()("uhf-footer",{"uhf-dark":n===c.Q2A.Dark},`uhf-footer-mode-${t.toLowerCase()}`)})))};n(904173),n(34715),n(426464),n(319570),n(516401),n(73439);var X=n(387342);const $="CFQ7TTC0KGQ8";let V,W,K;const j=e=>{const t=window.location.pathname.toLocaleLowerCase().indexOf($.toLowerCase())>0?K(window.location.href):V(window.location.href);window.location.href=t,e.preventDefault()},Y=e=>{const t=W(window.location.href);window.location.href=t,e.preventDefault()},Z=e=>{if(!e.userInfo||e.authenticationState!==c.zGj.MsaAndXbox)return{idp:"msa",authenticatedState:"3"};const{firstName:t,lastName:n,email:r,cid:o,gamerTag:a,publicGamerPic:i,accountTier:s}=e.userInfo;return{idp:"msa",authenticatedState:"1",firstName:t,lastName:n,memberName:r,cid:o,accountTier:s,nickName:a,tileUrl:i}},Q=(e,t)=>{if(t)return{type:"aad",authenticatedState:"signedIn",displayName:t.name};if(!e.userInfo||e.authenticationState!==c.zGj.MsaAndXbox)return;const{firstName:n,lastName:r,email:o,cid:a,gamerTag:i,publicGamerPic:s}=e.userInfo;return{type:"msa",authenticatedState:"signedIn",firstName:n,lastName:r,cid:a,memberName:o,pictureUrl:s,profile:{profileName:i,profilePictureUrl:s}}},J=(e,t,n)=>n?{meControlOptions:{apiGeneration:"GEN2",currentAccount:Q(e,t),authProviderConfig:{type:"webMsaOnly",appSignInUrl:"https://sample.microsoft.com/auth/signIn",appSignInToUrl:"https://sample.microsoft.com/auth/signInTo",appSignOutUrl:"https://sample.microsoft.com/auth/signOut",appSwitchUrl:"https://sample.microsoft.com/auth/switch",appSwitchToUrl:"https://sample.microsoft.com/auth/signInTo",msa:{signOutAndForgetUrl:"https://login.live.com/logout.srf?ct=1544212397&rver=6.7.6631.0&id=000000&ru=https:%2F%2Fsample.microsoft.com%2F",rememberedAccountsUrl:"https://login.live.com/Me.srf?wa=wsignin1.0&rpsnv=13&ct=1544212396&rver=6.7.6631.0&wp=MBI_SSL&wreply=https:%2F%2Fsample.microsoft.com%2F&id=000000"}},appContextConfig:{commands:[{type:"link",id:"xboxprofilelink",text:"Xbox profile",ariaLabel:"Xbox profile",openInNewTab:!1,url:"https://account.xbox.com/Profile?xr=mebarnav"},{type:"link",id:"xboxsettingslink",text:"Xbox settings",ariaLabel:"Xbox settings",openInNewTab:!1,url:"https://account.xbox.com/Settings/Home/?xr=mebarnav#"},{type:"link",id:"xboxsubscriptions",text:"Subscriptions",ariaLabel:"Subscriptions",openInNewTab:!1,url:"https://account.microsoft.com/services?ref=xboxme"},{type:"link",id:"xboxredeemcode",text:"Redeem code",ariaLabel:"Redeem code",openInNewTab:!1,url:"https://redeem.microsoft.com/enter?ref=xboxcom"}]}}}:{meControlOptions:{apiGeneration:"GEN1",rpData:{msaInfo:{signInUrl:window.location.pathname.toLocaleLowerCase().indexOf($.toLowerCase())>0?K(window.location.href):V(window.location.href),signOutUrl:W(window.location.href)}},userData:Z(e)}},ee=()=>{var e,t,n,r;null===(e=window.MeControl)||void 0===e||e.API.removeEventListener("beforesignin",j),null===(t=window.MeControl)||void 0===t||t.API.removeEventListener("beforesignoutfromapp",Y),null===(n=window.MeControl)||void 0===n||n.API.addEventListener("beforesignin",j),null===(r=window.MeControl)||void 0===r||r.API.addEventListener("beforesignoutfromapp",Y)},te=()=>{const e=(0,p.useSelector)(c.Xwy),t=(0,p.useSelector)(c.Xnf).userAgent;return(0,y.hA)(null!==t&&void 0!==t?t:"")||e===c.Grh.Off?null:h.createElement(ne,{mode:e})},ne=e=>{let{mode:t}=e;const n=(0,p.useSelector)(c.LyP),r=(0,p.useSelector)((e=>(0,c.BtQ)(e,n))),o=(0,p.useSelector)(c.ACU),a=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{aadUser:t}=(0,p.useSelector)(x.nY),n=(0,p.useSelector)(x.bG),r=(0,X.Fj)();return K=(0,c.IzA)(),W=(0,c.HOP)(),V=(0,c.$wQ)(),(0,h.useCallback)((()=>{new Promise((o=>{var a,i,s;const l=J({userInfo:n?_()(_()({},n),{},{firstName:null!==(a=n.firstName)&&void 0!==a?a:"",lastName:null!==(i=n.lastName)&&void 0!==i?i:"",email:null!==(s=n.email)&&void 0!==s?s:"",publicGamerPic:n.gamerPicUrl}):void 0,authenticationState:n?c.zGj.MsaAndXbox:c.zGj.None},t?{authenticatedState:c.kac.SignedIn,name:t.name||"",email:t.upn||""}:void 0,e);window.msCommonShell?(window.msCommonShell.load(l),ee(),o(!0)):window.onShellReadyToLoad=()=>{window.onShellReadyToLoad=null,window.msCommonShell?(window.msCommonShell.load(l),ee(),o(!0)):(r.warn("Unable to find msCommonShell global object to initialize me control"),o(!1))}}))}),[n,t,e,r])}((0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableV2MeControl)))),i=(0,h.useCallback)((()=>{a&&(a(),setTimeout((()=>{var e,t,n;(null===(e=globalThis.window)||void 0===e?void 0:e.innerWidth)<=1400&&(null===(n=null===(t=globalThis.window)||void 0===t?void 0:t.MeControl)||void 0===n?void 0:n.API.setDisplayMode)&&globalThis.window.MeControl.API.setDisplayMode("compact")}),100))}),[a]);return(0,h.useEffect)((()=>{i()}),[i]),(0,h.useEffect)((()=>{const e=setTimeout((()=>{const e=(new DOMParser).parseFromString(null!==o&&void 0!==o?o:"","text/html");Array.from(e.querySelectorAll("script")).forEach((e=>{const t=e.getAttribute("src");t&&(0,c.GxO)(t,{async:!0,removeOldScriptIfFound:!0})}))}),100);return()=>clearTimeout(e)}),[o,n]),h.createElement(F.Z,{mode:"out-in"},h.createElement(H.Z,{key:n===c.Q2A.DarkHeader?c.Q2A.Dark:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-header",onEntered:i},h.createElement(q,{htmlContent:r,className:d()("uhf-header",{"uhf-dark":n===c.Q2A.Dark||n===c.Q2A.DarkHeader},{"static-header":n!==c.Q2A.DarkHeader},`uhf-header-mode-${t.toLowerCase()}`)})))};var re=n(703286);const oe=["key","constraint","experimentBasedRedirect","theme","testConfig"],ae=()=>{const[e,t]=(0,h.useState)({}),n=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableTestNav))),r=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableTestTools))),o=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableContentPreviewTools))),a=(n,r)=>{t(_()(_()({},e),{},{[n]:r}))},i=[{key:"NavLinks",icon:T.Z,component:P.R,buttonTitle:"Navigation Links"},{key:"Tools",icon:w.Z,component:B.X,buttonTitle:"Tools"}];return(n||r)&&h.createElement(b.FocusContainer,{id:"test-panel-root-container"},h.createElement("div",{id:"test-panel-trigger-container",className:re.G},i.map((e=>h.createElement(C.$,{as:"button","aria-label":e.buttonTitle,icon:e.icon,key:e.key,onClick:()=>a(e.key,!0),title:e.buttonTitle}))),o&&h.createElement(D,null)),i.map((t=>h.createElement(t.component,{key:t.key,isOpen:!!e[t.key],onRequestClose:()=>a(t.key,!1)}))))},ie=()=>{const e=(0,p.useSelector)(c.TrC),t=ae(),n=(0,p.useSelector)(c.Yzi),r=(0,p.useSelector)(c.Xnf).userAgent,o=(0,y.hA)(null!==r&&void 0!==r?r:"");return h.createElement(l.k6,null,h.createElement(l.Db,null),h.createElement(l.ef,null),h.createElement(S.x,null),h.createElement(te,null),h.createElement("div",{role:"main",className:re._,id:"PageContent",tabIndex:-1},h.createElement(E.rs,null,(0,c.sQA)().map((t=>{let{key:r,constraint:o,experimentBasedRedirect:a,theme:i,testConfig:s}=t,l=f()(t,oe);return(0,c.ehd)(o,e,n)?h.createElement(I,_()({key:r},l)):a&&!1===(0,c.QLG)(e,a.featureGate)?h.createElement(k,{key:r,path:l.path,redirectTo:a.redirect,queryParams:a.redirectQueryParams}):void 0})))),!o&&h.createElement(G,null),t)};n(973708);const se=()=>{const e=(0,p.useSelector)(c.gzb),t=e===c.Q2A.Dark,[n,u]=(0,h.useState)(s.CC.DefaultDark),[g,f]=(0,h.useState)(""),v=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableCookieSourceDebugConsole)));(0,h.useEffect)((()=>{(e=>{let t;switch(e){case c.Q2A.Light:case c.Q2A.DarkHeader:t=s.CC.DefaultLight;break;case c.Q2A.Dark:default:t=s.CC.DefaultDark}(0,s.jz)(t).then((()=>{u(t)}))})(e)}),[e]);const _=(e=>{switch(e){case c.Q2A.Light:case c.Q2A.DarkHeader:return r.Q.Light;case c.Q2A.Dark:return r.Q.Dark}})(e);return(0,h.useEffect)((()=>{document.body.classList.toggle("theme-dark",t)}),[t,n]),(0,h.useEffect)((()=>{f(navigator.platform)}),[]),h.createElement(l.SV,null,(()=>h.createElement("div",{className:d()("appBackground",{"theme-dark":t})},h.createElement(o.E.Provider,{value:{theme:_,themeVersion:a.g.WebPolaris,userColors:i.I.XboxGreen}},h.createElement(m.q,null,h.createElement("html",{"data-platform":g}),v&&h.createElement("script",null,"origDescriptor = Object.getOwnPropertyDescriptor(Document.prototype, 'cookie');\n                    Object.defineProperty(document, 'cookie', {\n                      get() {\n                        return origDescriptor.get.call(this);\n                      },\n                      set(value) {\n                        let obj = {};\n                        try { Error.captureStackTrace(obj, value); }\n                        catch(e) { obj = e; } // this is needed to make it work in FF\n                        console.log(\"Cookie: \", value);\n                        console.log(\"Cookie Stack: \", obj.stack);\n                        return origDescriptor.set.call(this, value);\n                      },\n                      enumerable: true,\n                      configurable: true\n                    });"),h.createElement("body",{"data-theme":(0,s.ES)(n)})),h.createElement(l.pQ,null),h.createElement(ie,null)))))};var le=n(427193),ce=(n(656159),n(291452));var ue=n(756231),de=n(246778),he=(n(711017),n(571372),n(395682),n(521045),n(17244),n(342068),n(475519),n(839432),n(173574),n(233619),n(753862),n(226881),n(35359),n(98208),n(913608),n(875676),n(305993),n(874456),n(214121),n(122799)),me=n(445595),pe=n(117029),ge=n(647933),fe=n(892397),ve=n(888767),_e=n(400031),ye=n(361030);n(136728),n(606710),n(452356),n(748166),n(652856),n(945162),n(657610),n(707236),n(103331);var be=n(821883),Ce=n(703380),Ee=n(906365),Se=n(866497);const Te={headerMode:c.Grh.None,footerMode:c.ZOQ.None},we=[{key:"ChangeLocale",path:"/Shell/ChangeLocale",component:Se.f,exact:!0,testConfig:{title:"Change Locale"}},{key:"MsaLogin",path:M.$t,component:Ee.m,uhfConfig:Te},{key:"HealthCheck",path:"/servicestatus/health",exact:!0,uhfConfig:Te,hideUHF:!0,isServerOnly:!0,render:()=>h.createElement("div",null,"OK")}],Ie=[{key:"404",render:()=>h.createElement(l.mf,{error:new Error("Page not found."),statusCode:Ce.WE.NotFound})}];n(567526),n(886668),n(33354),n(325870),n(210930),n(240574),n(194116),n(543267),n(574614),n(619852),n(144306),n(626077),n(971072),n(450183);const ke=new class{constructor(){this.factoriesMap=new Map,this.resolvedMap=new Map,this.lazyFactoriesMap=new Map,this.lazyResolvedMap=new Map,this.resolve=e=>{let t=this.resolvedMap.get(e);if(!t){const n=this.factoriesMap.get(e);n&&(t=n(),this.resolvedMap.set(e,t))}if(!t)throw new Error(`ServiceLocator.resolve: serviceId: ${e} not found`);return t},this.resolveLazy=e=>{let t=this.lazyResolvedMap.get(e);if(!t){const n=this.lazyFactoriesMap.get(e);n&&(t=n(),this.lazyResolvedMap.set(e,t))}if(!t)throw new Error(`ServiceLocator.resolve: serviceId: ${e} not found`);return t},this.register=(e,t)=>{if(this.factoriesMap.has(e))throw new Error(`ServiceLocator.register: serviceId: ${e} already exists`);this.factoriesMap.set(e,t)},this.registerLazy=(e,t)=>{if(this.lazyFactoriesMap.has(e))throw new Error(`ServiceLocator.register: serviceId: ${e} already exists`);this.lazyFactoriesMap.set(e,t)},this.clear=()=>{this.factoriesMap.clear(),this.resolvedMap.clear(),this.lazyFactoriesMap.clear(),this.lazyResolvedMap.clear()}}};var Ae=n(123693);const Pe=e=>{let{partnerId:t,renderLoading:n,renderError:r,children:o}=e;var a;const[,{isLoading:i,isError:s,error:l}]=(0,Ae.y)(t);let c=null!==(a=i?n:o)&&void 0!==a?a:null;return s&&r&&(c=h.cloneElement(r,{error:l})),h.createElement(h.Fragment,null,c)},xe=["component","redirectComponent"],Re=["routes"];class Ne{constructor(){this._partnerConfigurations={},this._routeConfigs=[],this._partnersResourceStringsDict={},this._partnerComponents=new WeakMap,this._subscriptions=new Set,this._partnerState={},this._partnerLoadingPromises={},this.getPartnerRouteConfigs=()=>[...this._routeConfigs],this.getPartnerResources=()=>this._partnersResourceStringsDict,this.getPartnerConfigForPath=e=>this._getPartnerConfigs().find((t=>{var n;return null===(n=t.routes)||void 0===n?void 0:n.some((t=>(0,E.LX)(e,t)))})),this.getClientState=()=>this._partnerState,this.getServerState=()=>this._partnerState,this.subscribe=e=>(this._subscriptions.add(e),()=>this._subscriptions.delete(e)),this.loadConfigurationForPath=async e=>{var t,n;const r=this.getPartnerConfigForPath(e);if(r)try{await this._loadPartnerConfigIfReady(r)}catch(ht){const t=(0,he.toError)(ht);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${r.partnerId}`,t),this._setPartnerState(r.partnerId,(0,be.lceError)(t))}else null===(t=this._telemetryProvider)||void 0===t||t.logger().error(`Failed to find matching config for path: ${e}`)},this.loadPartner=async e=>{var t,n;const r=this._partnerConfigurations[e];if(!r){const n=new Error(`Partner config with id '${e}' not registered before attempting to load`);throw null===(t=this._telemetryProvider)||void 0===t||t.logger().error(n.message,n),this._setPartnerState(e,(0,be.lceError)(n)),n}try{await this._loadPartnerConfigIfReady(r)}catch(ht){const o=(0,he.toError)(ht);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${e}`,o),this._setPartnerState(r.partnerId,(0,be.lceError)(o))}}}setPartnerPackages(e){var t;return this._validatePartnerConfigs(e),this._processConfigs(e),t=this._routeConfigs,(0,c.Cqs)([...we,...t,...Ie]),Object.values(this._partnerConfigurations)}setStore(e){this._store=e}setSagaMiddleware(e){this._middleware=e}setTelemetryProvider(e){this._telemetryProvider=e}getPartnerConfigMap(){return this._partnerConfigurations}async initialize(){this._getPartnerConfigs().forEach((e=>{this._partnerState[e.partnerId]=(0,be.lceNotRequested)()})),this._partnerLoadingPromises={},ke.clear(),await this.initializeAllPartnersAsync(),await this._loadAllConfigs()}async initializeAllPartnersAsync(){this._registerPartnerDependencies(),await Promise.all(this._getPartnerConfigs().map((e=>e.initializeAsync?e.initializeAsync(ke):Promise.resolve())))}_getPartnerConfigs(){return Object.values(this._partnerConfigurations)}_registerPartnerDependencies(){for(const e of this._getPartnerConfigs())e.registerDependencies&&e.registerDependencies(ke)}_validatePartnerConfigs(e){if(0===e.length)throw new Error("No partners configured");if(!e.some((e=>{var t;return((null===(t=e.routes)||void 0===t?void 0:t.length)||0)>0})))throw new Error("No routes configured");const t=e.map((e=>e.partnerId)),n=new Set(t);if(t.length!==n.size)throw new Error(`Duplicate partner name found. Partners Configured: ${JSON.stringify(t)}`)}_processConfigs(e){const t={},n=[];this._partnerState={},e.forEach((e=>{const r=this._mapPartnerConfig(e);r.routes&&n.push(...r.routes),t[e.partnerId]=r,this._partnerState[e.partnerId]=be.LCE_NOT_REQUESTED})),this._routeConfigs=n,this._partnerConfigurations=t}async _loadPartnerConfigIfReady(e){var t,n,r,o,a;const{partnerId:i}=e;switch(this._getPartnerLce(i)){case be.LCEType.Content:break;case be.LCEType.Fetching:{const e=this._partnerLoadingPromises[i];e?(null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${i}' - Waiting on loading promise`),await e,null===(n=this._telemetryProvider)||void 0===n||n.logger().info(`[PartnerConfigManager] ${Date.now()} Done waiting on promise '${i}'`)):null===(r=this._telemetryProvider)||void 0===r||r.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${i}' - No loading promise`);break}case be.LCEType.Error:null===(o=this._telemetryProvider)||void 0===o||o.logger().info(`[PartnerConfigManager] ${Date.now()} Partner Config '${i}'`);break;case be.LCEType.NotRequested:{null===(a=this._telemetryProvider)||void 0===a||a.logger().info(`[PartnerConfigManager] ${Date.now()} Loading Partner Config '${i}'`);const t=this._loadPartnerConfig(e);this._partnerLoadingPromises[i]=t,await t,this._partnerLoadingPromises[i]=void 0;break}}}async _loadPartnerConfig(e){var t,n;const{partnerId:r}=e;this._setPartnerState(r,(0,be.lceFetching)());try{if(e.lazyConfig&&this._store){const{redux:t,getResourceStrings:n}=await e.lazyConfig();if(t){const{reducer:e,sagas:n}=t;if(e&&this._store&&this._store.injectReducer(r,e),n&&this._middleware){const e=this._middleware;n.forEach((t=>e.run(t)))}}if(n){const e=this._store.getState(),t=(0,c.yWe)(e);this._partnersResourceStringsDict[r]=await n(t),this._partnersResourceStringsDict=_()({},this._partnersResourceStringsDict)}}null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] Loaded Partner Config '${r}'`),this._setPartnerState(r,(0,be.lceContent)(e))}catch(ht){const t=(0,he.toError)(ht);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner ${r}`,t),this._setPartnerState(r,(0,be.lceError)(t))}}async _loadAllConfigs(){for(const e of this._getPartnerConfigs())await this._loadPartnerConfigIfReady(e)}_setPartnerState(e,t){this._partnerState[e]=t,this._partnerState=_()({},this._partnerState),this._subscriptions.forEach((t=>t(e)))}_processPartnerRoute(e,t){const{partnerId:n}=t,{component:r,redirectComponent:o}=e,a=f()(e,xe);let i;if(o)i=o;else if(r){const e=this._partnerComponents.get(r);if(e)i=e;else{const e=e=>h.createElement(Pe,{partnerId:n},h.createElement(r,_()({},e)));this._partnerComponents.set(r,e),i=e}}return _()(_()({},a),{},{key:`${n}_${a.key}`,component:i})}_mapPartnerConfig(e){const{routes:t}=e,n=f()(e,Re);if(!n.lazyConfig&&!t)return n;const r=n;return t&&(r.routes=t.map((t=>this._processPartnerRoute(t,e)))),r}_getPartnerLce(e){var t,n;return null!==(n=null===(t=this._partnerState[e])||void 0===t?void 0:t.type)&&void 0!==n?n:be.LCEType.NotRequested}}const Oe="telemetry",Le="authentication",Me="cookies",Ue="session",De="partners";var Be,Fe=n(20608),He=n(592642),qe=n(77404),Ge=(n(231235),n(74069),n(348889)),ze=n(26411),Xe=n(618796),$e=n(644777),Ve=n(106197),We=n(690401),Ke=n(801317),je=n(403853),Ye=n(432051),Ze=n(989632);n(317368),n(524471);!function(e){e.FullLocale="FullLocale",e.Language="Language",e.Market="Market",e.Script="Script",e.SitePath="SitePath"}(Be||(Be={}));Be.Language,Be.Script;const Qe=new RegExp(`^/(?<${Be.FullLocale}>(?<${Be.Language}>[a-z]{2,4})-?(?<${Be.Script}>[a-z]{4})?-(?<${Be.Market}>[a-z]{2}|[0-9]{3}))(?<${Be.SitePath}>[/?].*)?$`,"i");n(474407),n(264903);const Je=Object.keys("MISSING_ENV_VAR").reduce(((e,t)=>(e[t]="MISSING_ENV_VAR"[t],e)),{BUILD_BUILDNUMBER:"1.1.2502.0503"});let et=!1;const tt=Math.random().toString();function nt(){var e;return"true"===(null===(e=document.querySelector('meta[name="sentry-sampled"]'))||void 0===e?void 0:e.getAttribute("content"))}const rt=new Map;async function ot(e,t){if((null===t||void 0===t?void 0:t.partnerId)&&rt.has(t.partnerId))return rt.get(t.partnerId);if(null===t||void 0===t?void 0:t.lazyConfig){const n=await t.lazyConfig();if(n.getSentryBrowserOptions){const r=await n.getSentryBrowserOptions(e),o=r?it(r):null;return rt.set(t.partnerId,o),o}}return function(e){let{environment:t,sampledOnService:n,reduxStateOnInitialNavigation:r}=e;var o;if(rt.has("default"))return rt.get("default");const a=it({dsn:"https://86d661e5a4214309841b65c6b52ad6c5@o741402.ingest.sentry.io/5932552",release:"1.1.2502.0503",dist:"1.1.2502.0503",attachStacktrace:!0,environment:t,debug:"production"!==t,integrations:e=>(e.push((0,ze.RH)()),e.push($e.f({console:!1,fetch:!1,xhr:!1})),e.push(Ve.t({setInterval:!1,setTimeout:!1,requestAnimationFrame:!1,XMLHttpRequest:!0,eventTarget:!0})),e.push((0,Ze.E8)()),e.push((0,Xe.E)()),e),sampleRate:(null!==(o=(0,c.XTy)(r,c.vCX.ClientErrorSampleRate))&&void 0!==o?o:0)/1e5,tracesSampler:()=>n});return rt.set("default",a),a}(e)}async function at(e,t,n){let r=t;const o=t.match(Qe);if(null===o||void 0===o?void 0:o.groups){const e=o.groups[Be.FullLocale];r=t.replace(`${e}/`,"")}const a={environment:st(),sampledOnService:nt(),reduxStateOnInitialNavigation:e},i=n.getPartnerConfigForPath(r),s=await ot(a,i),l=He.nZ(),c=He.s3();c!==s&&(c&&(He.cg(!0),c.close()),s?(l.setClient(s),He.yj(),He.cg()):l.setClient(void 0))}function it(e){return new We.R(_()(_()({},e),{},{stackParser:Ke.Dt,integrations:(0,Ge.m8)(e),transport:e=>je.f(e)}))}function st(){const e=window.location.hostname,t=Je.SENTRY_PROD_HOST_NAME||"xbox.com",n=Je.SENTRY_INT_HOST_NAME_ID||"origin-int";return e===t||e===`www.${t}`?"production":e.includes(n)?"integration":"development"}function*lt(){const e=yield(0,X.Si)(),t=yield(0,Fe.select)(x.PY),n=(0,be.getDataOrPrevious)(t);!0===(null===n||void 0===n?void 0:n.optionalDataCollectionValue)?(e.logger().info(`[sentrySagas] Sentry is being initialized because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),yield ct()):(e.logger().info(`[sentrySagas] Sentry is being shut down because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),He.xv(0).then((function(t){t?e.logger().info("[sentrySagas] Sentry events queue flushed and closed successfully."):e.logger().warn("[sentrySagas] Sentry events queue could not be flushed within the timeout or no client is defined.")}),(function(t){e.logger().error("[sentrySagas] Failed to flush and close Sentry events queue.",t)})))}function*ct(){const e=yield(0,X.Si)();e.logger().info("[sentrySagas] initializeSentrySaga()");!async function(e,t){Je.BUILD_BUILDNUMBER&&""!==Je.BUILD_BUILDNUMBER&&(Ye.S({}),at(e,window.location.pathname,t),He.av({id:tt}),et=!0)}(yield(0,Fe.select)(),yield(0,Fe.getContext)(De)),async function(e){et&&He.av({id:e})}(e.cv().initialCv)}function*ut(){yield(0,Fe.takeLatest)(x.EJ.SUBMIT_CONSENT_SUCCESS,lt),yield(0,Fe.takeLatest)(x.EJ.FETCH_PRIVACY_CONSENT_SUCCESS,lt),yield(0,Fe.takeLatest)(qe.K.INIT,ct)}var dt=n(251175);function ht(e){this.message=e}ht.prototype=new Error,ht.prototype.name="InvalidCharacterError";var mt=window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new ht("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,a=0,i="";r=t.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function pt(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(mt(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return mt(t)}}function gt(e){this.message=e}gt.prototype=new Error,gt.prototype.name="InvalidTokenError";const ft=function(e,t){if("string"!=typeof e)throw new gt("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(pt(e.split(".")[n]))}catch(e){throw new gt("Invalid token specified: "+e.message)}},vt=(e,t)=>({text:e,link:t}),_t=e=>{const t=(0,c.upz)(),{msaUserInteractionRequiredBannerMessage:n,signInLink:r,closeBanner:o}=(0,ye.y_)("msaUserInteractionRequiredBannerMessage","signInLink","closeBanner"),a=!!e.error,i=a?l.pF.Error:l.pF.Warning,s=[vt(r,t)],u=(e=>({text:e,onClick:l.au.hideAllBanners}))(o),d=(0,X._d)({contentName:a?"Authentication Error Banner Alert":"Authentication Warning Banner Alert",templateName:"AuthenticationBannerAlertComponent"},e.contentTelemetry);return h.createElement(l.bZ,{level:i,text:n,actions:s,closeAction:u,contentTelemetry:d})};class yt extends x.j2{constructor(e){super(e.telemetryProvider.logger()),this.gamertagToGamerpicUrl=new Map,this.clientAuthProviderV3=e.clientAuthProviderV3,this.dispatch=e.dispatch,this.aadUserGetter=e.aadUserGetter,this.getAccountSignInUrl=e.getAccountSignInUrl,this.getAccountSignOutUrl=e.getAccountSignOutUrl,this.getCoBrandingSignInUrl=e.getCoBrandingSignInUrl,this.useV2MeControl=e.useV2MeControl,this.telemetryProvider=e.telemetryProvider,this.serverUserXuid=e.serverUserXuid,this.lastAuthenticationDate=this.clientAuthProviderV3.lastAuthenticationDate(),this.setupAadTokenRefresh(),this.updateUserInfoState(),this.clientAuthProviderV3.addEventListener("activeAuthUserChanged",(()=>{this.updateUserInfoState()}))}static async create(e){var t;const n=new URLSearchParams(globalThis.location.search).get("sid"),r=globalThis.parent!==globalThis.window,o=await x.Iz.create({telemetryProvider:e.telemetryProvider,locale:e.locale,defaultRedirectUrl:M.$t,silentRedirectUri:M.Y$,msaSessionId:r&&n?n:void 0,cookiesProvider:e.cookiesProvider,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter});return new yt(_()(_()({},e),{},{clientAuthProviderV3:o}))}getAuthProvider(){return this.clientAuthProviderV3}startSignInWithRedirect(e,t){var n;return this.cancelAadTokenRefresh(),null===(n=this.hideMsaUserInteractionRequiredBannerAlert)||void 0===n||n.call(this),this.clientAuthProviderV3.startSignInWithRedirect({returnUrlAfterSignIn:e,prompt:null===t||void 0===t?void 0:t.prompt})}async completeSignInAfterRedirectIfNeeded(){try{const e=await this.clientAuthProviderV3.completeSignInAfterRedirectIfNeeded();return await this.updateUserInfoState(),e}catch(e){const t=(0,he.toError)(e);if(t instanceof x.cE)return this.clientAuthProviderV3.completeSignInAfterRedirectFromSisu();throw t}}startSignOutWithRedirect(e,t){return this.dispatch(x.hI.resetUserInfo()),this.clientAuthProviderV3.startSignOutWithRedirect({returnUrlAfterSignOut:e,msaSessionId:t})}async getMsaAccessTokenSilently(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)throw new Error("getMsaAccessTokenSilently failed; user is not signed into MSA.");if(e.isFullUser())try{const o=this.clientAuthProviderV3.createMsaCorrelationId();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return await e.msaTokenProvider.getMsaAccessToken({correlationId:o,scopes:n})}catch(o){const e=(0,he.toError)(o);throw this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in getMsaAccessTokenSilently ${e.message}`),e instanceof x.gz&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert(),o}}async isAuthenticated(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return!1;const t=(0,x.IL)();if(!e.isFullUser())return!0;try{return await Promise.all(t.map((t=>e.getOrFetchXboxToken(t)))),!0}catch(n){return!1}}isTokenExpired(e){const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return!1;const n=t.getXboxTokenLCE(e);return!!(0,be.isContent)(n)&&(0,be.isExpired)(n)}async refreshMeControl(){}async loadExternalTokensAndSignIn(e,t,n){await this.clientAuthProviderV3.signInWithExternalMsaTokens({serverAuthorizationTokenResponse:e,requestTimestamp:t})}createMsaCorrelationId(){return Promise.resolve(this.clientAuthProviderV3.createMsaCorrelationId())}__unstable__dev_tools(){return{showExpiredBanner:()=>this.showMsaUserInteractionRequiredBannerAlert()}}getCachedTokensInternal(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return{};const t={};return Object.values(x.Q7).forEach((n=>{const r=e.getXboxTokenLCE(n),o=(0,be.getUnexpiredDataOrPrevious)(r);if(o){const{tokenData:e}=o;t[n]={token:e.token,expires:e.expiration,userHash:e.userHash,privileges:e.userPrivileges}}})),t}async acquireTokenAsyncInternal(e){if(!(0,x.p5)().includes(e))throw new Error("[ClientAuthenticationProviderV2BackCompat] Attempt to acquire token for unknown relying party.");const t=this.clientAuthProviderV3.getActiveAuthUser();if(t&&t.isFullUser())try{const{tokenData:n}=await t.getOrFetchXboxToken(e);return{token:n.token,expires:n.expiration,userHash:n.userHash,privileges:n.userPrivileges}}catch(n){const e=(0,he.toError)(n);return this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in acquireTokenAsyncInternal ${e.message}`),void(e instanceof x.gz&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert())}}async updateUserInfoState(){try{await this.clientAuthProviderV3.attemptV2ToV3UserTransition();const e=await this.getUserInfoFromXboxLiveToken();if(!e){const e=this.clientAuthProviderV3.getActiveAuthUser();return e&&e.isSessionUser()?void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] User is a session user, so not going to resetUserInfo. Exiting early"):(this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No user info found in updateUserInfoState. Going to clear userInfo"),void this.dispatch(x.hI.setUserInfo(!1,{userInfo:void 0,isDefaultUserAgeGatingInfo:!0})))}if(this.serverUserXuid&&this.serverUserXuid!==e.xuid){this._logger.warn("[ClientAuthenticationProviderV2BackCompat] - Server user XUID does not match client user XUID. Handling mismatch.");const e=this.clientAuthProviderV3.getActiveAuthUser();null===e||void 0===e||e.destroy();const t=new URL("/auth/clean-up",window.location.origin),n=new URL(window.location.href),r=new URLSearchParams(n.search);n.search=r.toString();const o=new URLSearchParams;throw o.set("returnUrl",n.toString()),t.search=o.toString(),window.location.href=t.toString(),await new Promise((e=>{setTimeout(e,5e3)})),new Error("Server user xuid does not match client user xuid")}this.dispatch(x.hI.setUserInfo(!0,{userInfo:e,isDefaultUserAgeGatingInfo:!e}))}catch(e){const t=(0,he.toError)(e);this._logger.error("[ClientAuthenticationProviderV2BackCompat] Error in updateUserInfoState",t)}}async getUserInfoFromXboxLiveToken(){var e;const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return;const n=t.getXboxTokenLCE(x.Q7.XboxLive),r=(0,be.getDataOrPrevious)(n);if(!r)return void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No XboxLive token found in getUserInfoFromXboxLiveToken.");const o=r.tokenData;if(!o.userXuid||!o.userGamertag)return void this._logger.warn("[ClientAuthenticationProviderV2BackCompat] No userXuid or userGamertag found in XboxLive token in getUserInfoFromXboxLiveToken.");let a="",i="";t.isFullUser()&&(a=null!==(e=t.msaName)&&void 0!==e?e:"",i=t.msaUsername);const s=await this.getOrFetchGamerpic(o.userGamertag);return s||this._logger.warn("[ClientAuthenticationProviderV2BackCompat] Failed to getOrFetchGamerpic for gamertag"),{firstName:a,lastName:"",email:i,xuid:o.userXuid,gamerTag:o.userGamertag,ageGroup:o.userAgeGroup?c.zHJ[o.userAgeGroup]:void 0,privileges:o.userPrivileges,gamerPicUrl:s}}setupAadTokenRefresh(){this.cancelAadTokenRefresh(),this.refreshAadTimeout=setInterval((async()=>{await this.fetchUpdatedAadToken()}),9e5)}cancelAadTokenRefresh(){this.refreshAadTimeout&&clearInterval(this.refreshAadTimeout)}async fetchUpdatedAadToken(){const e=this.aadUserGetter();try{if(e){const t=await fetch("/aad/refresh");if(!t.ok)throw this._logger.error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed."),new Error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed.");const n=await t.text(),r=ft(n),o=_()(_()({},e),{},{exp:r.exp});this.dispatch(x.hI.updateAadUser(o,n))}}catch(t){this.dispatch(x.hI.updateAadUser(void 0,void 0))}}async getOrFetchGamerpic(e){var t;const n=this.gamertagToGamerpicUrl.get(e);if(n)return n;const r=(0,Ce.mm)(this.telemetryProvider),o=this.telemetryProvider.cv().increment(),a=encodeURIComponent(e),i=dt.RequestFactory.withBaseUrl("https://peoplehub-public.xboxlive.com").setCommonHeaders({[dt.HttpHeader.ContentType]:"application/json",[dt.HttpHeader.XXBLContractVersion]:"1"}).setCommonMetadataValue(X.XP,{dependencyName:X.JS.PeopleHub,dependencyOperationName:"people/gt"}).setCommonMaxRetries(dt.DEFAULT_MAX_RETRIES);try{const n=await r.execute(i.get(`people/gt(${a})`,{headers:{"ms-cv":o,[dt.HttpHeader.ContentType]:"application/json",[dt.HttpHeader.XXBLContractVersion]:"3",[dt.HttpHeader.AcceptLanguage]:"*","x-xbl-client-name":"xbox.com","x-xbl-client-type":"web"}})),s=null===(t=n.data.people[0])||void 0===t?void 0:t.displayPicRaw;if(!s)return;return this.gamertagToGamerpicUrl.set(e,s),s}catch(s){const t=(0,he.toError)(s);return void this._logger.error(`[ClientAuthenticationProviderV2BackCompat] Failed to fetch gamerpic for gamertag: ${e}`,t)}}showMsaUserInteractionRequiredBannerAlert(){globalThis.location.pathname.includes(M.$t)||this.hideMsaUserInteractionRequiredBannerAlert||(this.hideMsaUserInteractionRequiredBannerAlert=l.au.displayBanner((()=>h.createElement(_t,null))))}}function*bt(){const e=yield(0,Fe.call)(Et),t=yield(0,X.Si)();e?(t.logger().info("[authSaga] Fetching privacy consent"),yield(0,Fe.all)([(0,Fe.take)([x.hI.fetchPrivacyConsent.success,x.hI.fetchPrivacyConsent.error]),(0,Fe.put)(x.hI.fetchPrivacyConsent.start(!1))])):t.logger().info("[authSaga] User is not an adult user, skipping consent fetch")}function*Ct(e){yield(0,Fe.all)([(0,Fe.take)([c.pb1.FETCH_EXPERIMENT_DATA_ERROR,c.pb1.FETCH_EXPERIMENT_DATA_SUCCESS]),(0,Fe.put)(c.D65.requestExperimentDataFetch(e))])}function*Et(){const e=yield(0,x.le)(),t=e instanceof x.Iz?e:e instanceof yt?e.clientAuthProviderV3:void 0;if(!t)return!1;const n=t.getActiveAuthUser();if(!n)return!1;const r=n.getXboxTokenLCE(x.Q7.XboxLive),o=(0,be.getDataOrPrevious)(r);return o&&o.tokenData.userAgeGroup===c.zHJ.Adult}const St=function*(){const e=yield(0,x.le)(),t=e instanceof x.Iz?e:e instanceof yt?e.clientAuthProviderV3:void 0;if(t){if(!t.initialized){const e=(0,fe.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("initialized",n),()=>t.removeEventListener("initialized",n)}));yield(0,Fe.take)(e),e.close()}t.getActiveAuthUser()?(yield(0,Fe.call)(bt),yield(0,Fe.call)(Ct,c.lO9.SilentSignIn)):yield(0,Fe.call)(Ct,c.lO9.SignInUnavailable),yield(0,Fe.put)(c.itn.setBootstrapInitialized());const e=(0,fe.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("activeAuthUserChanged",n),()=>t.removeEventListener("activeAuthUserChanged",n)}));yield(0,Fe.takeEvery)(e,(function*(e){e.authStateChange!==x.qX.SignInUnavailable&&(yield(0,Fe.call)(bt)),yield(0,Fe.put)(c.D65.requestExperimentDataFetch((e=>{switch(e){case x.qX.DeviceCodeSignIn:return c.lO9.DeviceCodeSignIn;case x.qX.InteractiveSignIn:return c.lO9.InteractiveSignIn;case x.qX.SignInUnavailable:return c.lO9.SignInUnavailable;case x.qX.SilentSignIn:return c.lO9.SilentSignIn}return c.lO9.Unknown})(e.authStateChange)))}))}else yield(0,Fe.put)(c.itn.setBootstrapInitialized())};async function Tt(e){let{locale:t,clientIp:n,telemetryProvider:r,authenticationProvider:o,isStaging:a,anonToken:i,deviceId:s,platform:l}=e;const u=function(e){let{deviceId:t,locale:n,clientIp:r,platform:o}=e;const a=new URLSearchParams;return t&&a.append("deviceId",t),r&&a.append("clientIp",r),o&&a.append("platform",o),a.append("appVersion",c.xUA.BUILD_VERSION),a.append("env",c.xUA.DEPLOYMENT_ENV),a.append("locale",n),`experimentation?${a.toString()}`}({deviceId:s,locale:t,clientIp:n,platform:l});try{const e=await(0,Ce.S)(u,{addAuthorization:!0,isRequired:!1},r,o,{anonToken:i},{aadToken:"",isMandatory:!1},{dependencyName:X.JS.EmeraldXbetService,dependencyOperationName:"Experimentation"},a,{[Ce.zF.MsApiVersion]:"2.0"});if(!(0,c.hAT)(e.status)||!e.data)throw new Ce.C("Failed to get data for experimentation",e.status);return e.data.exp}catch(d){const e=(0,he.toError)(d);return void r.logger().error("Experimentation info fetch failed.",e)}}function*wt(e){const t=(yield(0,c.FMS)()).get(c.jmv),n=yield(0,x.le)(),r=yield(0,Fe.call)([n,n.isAuthenticated]),o=yield(0,Fe.select)(c.LAY);((0,be.isError)(o)||r||t)&&(yield(0,Fe.put)(c.D65.setExperimentDataToLoading()),yield function*(e,t,n){try{const r=yield(0,x.le)(),o=yield(0,Fe.select)(c.yWe),a=yield(0,Fe.select)(c.Xnf),i=yield(0,Fe.select)(c.$Pr,c.vCX.StagingFD),s=yield(0,X.Si)(),l=new y.LK(null===a||void 0===a?void 0:a.userAgent),u=yield(0,Fe.call)(Tt,{locale:o.localeWithScript,clientIp:a.forwardedIp,telemetryProvider:s,authenticationProvider:r,anonToken:a.anonToken,isStaging:i,deviceId:n,platform:l.osName});if(!u)throw new Error("Failed to fetch experimentation data");{yield(0,Fe.put)(c.D65.fetchExperimentDataSuccess(u,e));const r=yield(0,Fe.select)(x.PY);s.logExperimentationSnapshot(u,_()({experimentDataUpdateReason:e},(0,be.getDataOrPrevious)(r)),!!n,!!t)}}catch(r){const e=(0,he.toError)(r);yield(0,Fe.put)(c.D65.fetchExperimentDataError(e))}}(e.assignmentUpdateTrigger,r,t))}function*It(){yield(0,Fe.takeLatest)(c.pb1.REQUEST_EXPERIMENT_DATA_FETCH,wt)}function*kt(e){const t=yield(0,Fe.select)(c.LAY);(0,be.isFetching)(t)&&(yield(0,Fe.take)([c.pb1.FETCH_EXPERIMENT_DATA_SUCCESS,c.pb1.FETCH_EXPERIMENT_DATA_ERROR]));const n=yield(0,Fe.select)(c.TrC);return(0,c.QLG)(n,e)}function*At(e){const t=yield(0,Fe.call)(kt,e);if("string"===typeof t)return t}function*Pt(e){const t=yield(0,Fe.call)(kt,e);if("boolean"===typeof t)return t}var xt=n(293706);function*Rt(e){var t;let n;const r=new URLSearchParams(e);if(n=null===(t=(0,c.oB7)(r,Ce.cG.ThemeOverride))||void 0===t?void 0:t.value,n||(n=yield(0,Fe.select)(c.PE2,c.vCX.SiteThemeOverride)),n)switch(n.toLowerCase()){case"light":return c.Q2A.Light;case"dark":return c.Q2A.Dark}}const Nt=(e,t,n)=>{n?e.set(c.RmD,n,{essential:!0}):e.delete(c.RmD)};function*Ot(e,t,n,r){const o=yield(0,Fe.call)(Rt,t),a=yield(0,c.FMS)();if(o)return yield(0,Fe.put)(c.uQd.setTheme(o)),void(yield(0,Fe.call)(Nt,a,e,o));let i,s=null===n||void 0===n?void 0:n.theme;if(!s&&(null===n||void 0===n?void 0:n.lazyConfig)){s=(yield(0,Fe.call)(n.lazyConfig)).theme}if(s&&n){const t=s;t&&(i=(e=>"function"===typeof e)(t)?yield(0,Fe.select)((r=>t(r,e,n))):t),i?(yield(0,Fe.put)(c.uQd.setTheme(i)),yield(0,Fe.call)(Nt,a,e,i)):r||(yield(0,Fe.put)(c.uQd.resetTheme()),yield(0,Fe.call)(Nt,a,e,void 0))}else{const e=a.get(c.RmD);let t;e&&(t=e in c.Q2A?c.Q2A[e]:void 0),t?yield(0,Fe.put)(c.uQd.setTheme(t)):yield(0,Fe.put)(c.uQd.resetTheme())}}function*Lt(e,t,n,r){if(!e||!e.lazyConfig)return;const o=yield(0,Fe.call)(e.lazyConfig);if(o.fetchDataSaga&&(!e.requiresNewRequest||e.requiresNewRequest(e.path,t,n)||r)){const n=yield(0,Fe.select)(c.Yzi),r=yield(0,X.I4)(),a=(0,c.ew0)(e,n);yield(0,Fe.put)(c.ej0.pageDataRequest.start(a));try{yield(0,Fe.call)(o.fetchDataSaga,e,t),yield(0,Fe.put)(c.ej0.pageDataRequest.success(a));let n=null===e||void 0===e?void 0:e.uhfConfig;if((0,xt.a)(n)){n=yield(0,Fe.call)(n)}}catch(ht){const n=(0,he.toError)(ht);r.error(`Failed to fetch page data for path: ${t.pathname}`,n),yield(0,Fe.put)(c.ej0.pageDataRequest.error(a,n))}}}function*Mt(e,t,n){const r=yield(0,c.zUJ)(e.pathname),o=yield(0,Fe.getContext)(De);yield(0,Fe.call)(o.loadConfigurationForPath,e.pathname),yield(0,Fe.call)(Ot,e.pathname,e.search,r,!0),yield(0,Fe.call)(Lt,r,e,t,n),yield(0,Fe.call)(Ot,e.pathname,e.search,r,!1)}function*Ut(e){var t,n,r,o;const a=yield(0,c.zUJ)(e.newLocation.pathname);if(null===a||void 0===a?void 0:a.isServerOnly)(null===(n=null===(t=e.oldLocation)||void 0===t?void 0:t.pathname)||void 0===n?void 0:n.toLowerCase())!==(null===(o=null===(r=e.newLocation)||void 0===r?void 0:r.pathname)||void 0===o?void 0:o.toLowerCase())&&globalThis.location.reload();else{const t=yield(0,Fe.select)(),n=yield(0,Fe.getContext)(De);yield(0,Fe.call)(at,t,e.newLocation.pathname,n),yield(0,Fe.call)(Mt,e.newLocation,e.oldLocation,e.forceRefresh)}}function*Dt(){yield(0,Fe.takeEvery)(c.cP9.LOCATION_CHANGE,Ut)}function*Bt(){(yield(0,X.Si)()).resetAuthenticationState()}function*Ft(){yield(0,Fe.takeEvery)(x.EJ.RESET_USER_INFO,Bt)}function*Ht(){var e;const t=yield(0,Fe.select)(c.Yzi),n=yield(0,X.Si)(),r=yield(0,c.gjf)(),o=null!==(e=null===c.xUA||void 0===c.xUA?void 0:c.xUA.UHF_TARGETING_ID)&&void 0!==e?e:"Xbox_Com",a=yield(0,Fe.select)(c.$Pr,c.vCX.StagingFD),i=yield(0,Fe.select)(c.$Pr,c.vCX.DisableUhfWcp),s=yield(0,Fe.call)(Ce.Z0,`uhf?locale=${t}&targeting=${o}&cookieComplianceEnabled=${!i}`,n,r,{dependencyName:X.JS.EmeraldXbetService,dependencyOperationName:"UHF"},a,void 0,void 0,{timeout:15e3});if(!(0,c.hAT)(s.status)||!s.data)throw new Error("No data found from uhf response");return s.data}function*qt(e){try{const e=yield(0,Fe.call)(Ht);if(!e)throw new Error("Failed to fetch metadata for UHF");yield(0,Fe.put)(c.j4h.fetchUhf.success(e))}catch(ht){const t=(0,he.toError)(ht);console.error(t),yield(0,Fe.put)(c.j4h.fetchUhf.error(t))}}function*Gt(e){const t=yield(0,c.zUJ)(e);let n=null===t||void 0===t?void 0:t.uhfConfig;if((0,xt.a)(n)){n=yield(0,Fe.call)(n)}const r=null===n||void 0===n?void 0:n.headerMode;r?yield(0,Fe.put)(c.j4h.setHeaderMode(r)):yield(0,Fe.put)(c.j4h.resetHeaderMode());const o=null===n||void 0===n?void 0:n.footerMode;o?yield(0,Fe.put)(c.j4h.setFooterMode(o)):yield(0,Fe.put)(c.j4h.resetFooterMode())}function*zt(e){yield(0,Fe.call)(Gt,e.newLocation.pathname)}function*Xt(){yield(0,Fe.takeEvery)(c.euC.FETCH_UHF_START,qt),yield(0,Fe.takeEvery)(c.cP9.LOCATION_CHANGE,zt)}var $t=n(879730);function*Vt(e,t){const n=yield(0,X.Si)(),r=yield(0,x.le)();let o;try{o=yield(0,Fe.call)([r,r.getMsaAccessTokenSilently],e)}catch(s){const e=(0,he.toError)(s);n.logger().error(`[userConsentServiceSagas] Error acquiring MSA \n    token to authenticate UCS calls: ${e.message}`)}const a={getToken:()=>Promise.resolve(o?{token:`Bearer ${o}`}:null)},i=yield(0,Fe.select)(c.yWe);return new $t.UnifiedConsentService(a,(()=>Promise.resolve(i.localeWithScript)),(()=>{const e=n.cv().increment();return Promise.resolve(e)}),(0,X.zX)(n),t)}function Wt(e){let{id:t,values:n,modelType:r,consentSurface:o}=e;return function*(){const e=yield(0,X.Si)(),a=yield(0,Fe.call)(Vt,x.i4,o);try{e.logger().info(`[userConsentServiceSagas] Submitting privacy consent id: ${t}, values: ${JSON.stringify(n)}`),yield a.submitConsent({id:t,values:n,consentSurface:o}),yield(0,Fe.put)(x.hI.submitConsent.success({id:t,values:n,modelType:r})),yield(0,Fe.call)(Zt)}catch(i){yield(0,Fe.put)(x.hI.submitConsent.error((0,he.toError)(i),r))}}()}function Kt(e){let{consentSurface:t}=e;return function*(){const e=yield(0,X.Si)(),n=yield(0,Fe.call)(Vt,x.i4,t);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent ui details");const r=yield n.getPrivacyConsentUiDetails();yield(0,Fe.put)(x.hI.fetchPrivacyConsentUiDetails.success(r,t))}catch(r){const n=(0,he.toError)(r);e.logger().error(`[userConsentServiceSagas] Error: ${n.message}`),yield(0,Fe.put)(x.hI.fetchPrivacyConsentUiDetails.error(n,t))}}()}function jt(e){let{shouldSendSnapshot:t}=e;return function*(){const e=yield(0,X.Si)(),n=yield(0,Fe.call)(Vt,x.t2);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent");const r=yield n.getPrivacyConsent();yield(0,Fe.put)(x.hI.fetchPrivacyConsent.success(r)),t&&(yield(0,Fe.call)(Zt))}catch(r){const t=(0,he.toError)(r);e.logger().info(`[userConsentServiceSagas] Error: ${t.message}`),yield(0,Fe.put)(x.hI.fetchPrivacyConsent.error(t))}}()}function*Yt(){const e=yield(0,Fe.select)(x.PY);if((0,be.isContent)(e)&&e.cacheTimeInMS){const t=yield(0,X.Si)(),n=6e5,r=e.cacheTimeInMS-(Date.now()-e.lastFetchedMS)-n;if(r<=0)throw new Error("[userConsentServiceSagas] timeMSUntilExpiration is negative, aborting");const o=Math.floor(r/36e5),a=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);t.logger().info(`[userConsentServiceSagas] Starting privacy consent data refetch delay for: ${o} hours, ${a} minutes and ${i} seconds`),yield(0,Fe.delay)(r),t.logger().info("[userConsentServiceSagas] Cached privacy consent data is about to expire in 10 minutes, attempting to refresh"),yield(0,Fe.put)(x.hI.fetchPrivacyConsent.start())}}function*Zt(){const e=yield(0,X.Si)(),t=yield(0,Fe.select)(x.PY),n=(0,be.getDataOrPrevious)(t);if(n){const t=(yield(0,c.FMS)()).get(c.jmv),r=yield(0,x.le)(),o=yield(0,Fe.call)([r,r.isAuthenticated]),a=yield(0,Fe.select)(c.m2K);e.logger().info(`[userConsentServiceSagas] Logging experiment snapshot with updated consent values: ${JSON.stringify(n)}`),e.logExperimentationSnapshot(a,_()({experimentDataUpdateReason:c.lO9.ConsentValuesUpdated},n),!!t,!!o)}}function*Qt(){yield(0,Fe.takeEvery)(x.EJ.SUBMIT_CONSENT,Wt),yield(0,Fe.takeEvery)(x.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS,Kt),yield(0,Fe.takeEvery)(x.EJ.FETCH_PRIVACY_CONSENT,jt),yield(0,Fe.takeLatest)([x.EJ.FETCH_PRIVACY_CONSENT_SUCCESS,x.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,x.EJ.SUBMIT_CONSENT_SUCCESS],Yt)}var Jt=n(986671);const en=e=>{let{configManager:t,children:n}=e;const{subscribe:r,getClientState:o,getServerState:a,loadPartner:i,getPartnerConfigForPath:s}=t,l=(0,h.useSyncExternalStore)(r,o,a),c=t.getPartnerConfigMap(),u=(0,h.useMemo)((()=>({partnerLoadingState:l,loadPartner:i,partnerConfigs:c,getPartnerConfigForPath:s})),[l,i,c,s]);return h.createElement(Jt.H.Provider,{value:u},n)};var tn=n(552034),nn=n.n(tn);class rn{constructor(){0}get(e){return nn().get(e)}getAll(){return nn().get()}set(e,t,n){const r=this.createCookieOptionsWithDefaults(n);if(r.essential||(0,c.MR9)((0,c.Nn)(this.get(c.weN)),r.categories)){if(!r.sessionOnly){const e="number"===typeof r.maxAgeMilliseconds?r.maxAgeMilliseconds:3888e6;r.expires=r.expires||new Date((new Date).getTime()+e)}return delete r.maxAgeMilliseconds,delete r.categories,delete r.essential,nn().set(e,t,r)}}delete(e,t){nn().remove(e,this.createCookieOptionsWithDefaults(t))}createCookieOptionsWithDefaults(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _()(_()({sameSite:"lax",path:"/",secure:!0,domain:window.location.hostname},e),{},{essential:!0})}}n(59086),n(287659);var on=n(118717),an=n(931451),sn=n(183273),ln=n(460388),cn=n(213568);const un=(0,sn.SS)();let dn=!1;new WeakSet;var hn=n(759406);const mn=e=>{(0,me.TA)().then((async()=>{var t,n,r;const o=new Ne,a=o.setPartnerPackages(e.partnerConfigurations),i=new Set(e.clientRelyingParties||[]),s=new Set(e.requiredCookieRelyingParties||[]);for(const e of a)if(e.serverRelyingParties)for(const t of e.serverRelyingParties)s.add(t),i.add(t);(0,x.ey)(Array.from(i)),(0,x.Jf)(Array.from(s));const{store:u}=(()=>{const e=window.__PRELOADED_STATE__;return delete window.__PRELOADED_STATE__,{store:(0,cn.W)(ln.R,e,(0,an.U)((0,on.applyMiddleware)(un.enhancer))),preloadedState:e}})(),d=u.dispatch;d(c.itn.setIsReactDomHydrating(!0));const m=u.getState(),g=(0,c.yWe)(m),f=(0,c.TrC)(m),v=(0,c.Xnf)(m),y=(0,c.g48)(m),b=()=>(0,x.nY)(u.getState()).aadUser,C=(0,c.$Pr)(m,c.vCX.EnableV2MeControl),E=(0,hn.lJ)(u.getState),S=new rn;let T=S.get(c.jmv);"undefined"===(null===T||void 0===T?void 0:T.toLowerCase())&&(S.delete(c.jmv),T=void 0);const w=null!==T&&void 0!==T?T:(0,ve.Z)().replace(/-/g,"").toUpperCase();if(!T){const e=v.origin?new URL(v.origin).host:"";S.set(c.jmv,w,{maxAgeMilliseconds:31536e6,sameSite:"none",domain:pn(e),essential:!1})}let I;d(c.itn.setDeviceId(w));const k=null!==(t=(0,c.$Pr)(m,c.vCX.SkipRedirectCounter))&&void 0!==t&&t,A=g.localeWithScript,P=(0,c.r$u)(A),R=(0,c.lF6)(A),N=(0,c.qG9)(A),O=null===(n=(0,x.bG)(m))||void 0===n?void 0:n.xuid;if(e.customAuthProvider)I=e.customAuthProvider;else{const e=null!==(r=(0,c._89)(m,c.vCX.EnableSisuUcsSupport))&&void 0!==r&&r;I=await yt.create({telemetryProvider:E,aadUserGetter:b,dispatch:d,getAccountSignInUrl:P,getAccountSignOutUrl:R,getCoBrandingSignInUrl:N,useV2MeControl:C,serverUserXuid:O,locale:A,cookiesProvider:S,isSisuUcsSupportEnabled:e,skipLoginRedirectCounter:k}),E.logAuthAction({name:"XboxInitializedAuthVersion",version:"v3"})}const L=((e,t,n,r,o)=>({[Oe]:e,[Le]:t,[Me]:n,[Ue]:r,[De]:o}))(E,I,S,null,o),M=(e=>{dn&&console.warn("Double configuration of saga middleware detected. Ignoring.");const t=(0,fe.default)({context:e,onError:e=>{He.Tb(e)}});return un.addMiddleware(t),dn=!0,t})(L),U=(0,c.Sl8)(window.location.pathname,A);o.setSagaMiddleware(M),o.setStore(u),o.setTelemetryProvider(E),await o.initialize(),await o.loadConfigurationForPath(U);const D=(0,c.o$o)(U,f,y,A);if(D&&D.lazyConfig){const{bootstrapClientEnvironmentSaga:e}=await D.lazyConfig();if(e)try{await M.run(e).toPromise()}catch($){$ instanceof Error?E.logger().error("bootstrapClientEnvironmentSaga error",$):E.logger().error("unknown bootstrapClientEnvironmentSaga error")}}const B=u.getState();var F;F=M,[Xt,Ft,Dt,It,Qt,ut,St].forEach((e=>{F.run(e)}));const H=await(async(e,t,n)=>{const r=n?await n(e):await(0,ye.gI)(e);return e=>{const n=(0,X.Fj)();(0,h.useSyncExternalStore)(t.subscribe,t.getClientState,t.getServerState);const o=t.getPartnerResources(),a=(0,h.useMemo)((()=>_()({baseStrings:r},o)),[o]),i=(0,h.useCallback)((e=>(n.error(e.message),()=>e.path.join("."))),[n]);return h.createElement(_e.x,_()({messages:a,onError:i},e))}})(g,o,e.getResourceStringsAsync),q=(0,c.m2K)(B);function G(){return(0,h.useEffect)((()=>{d(c.itn.setIsReactDomHydrating(!1))}),[]),h.createElement(l.xe,{cV:E.cv().get()},(()=>h.createElement(p.Provider,{store:u,serverState:B},h.createElement(c.PJd.Provider,{value:S},h.createElement(X.TA.Provider,{value:E},h.createElement(x.zC.Provider,{value:I},h.createElement(H,null,h.createElement(ge.VK,{basename:A},h.createElement(en,{configManager:o},h.createElement(e.app,null))))))))))}E.logExperimentationSnapshot(q,{experimentDataUpdateReason:c.lO9.AppLoad},!!S.get(c.jmv),!!O);const z=document.getElementById("root");(0,pe.a)(z,h.createElement(G,null),{onRecoverableError:async function(e){const t=(0,c.Sl8)(window.location.pathname,g.localeWithScript),n=o.getPartnerConfigForPath(t);if(n&&n.lazyConfig)try{const{onRecoverableReactErrorSaga:t}=await n.lazyConfig();t&&await(0,fe.runSaga)({getState:u.getState.bind(u),dispatch:u.dispatch.bind(u),context:L},t,e).toPromise()}catch(e){E.logger().error(`onRecoverableError error from partner: ${n.partnerId}`,(0,he.toError)(e))}}})}))};function pn(e){return`.${e.split(":")[0].split(".").slice(-2).join(".")}`}n(621850),n(344112);const gn=/^(\/[^/]+)?\/store\/(cart|buy)(\/)?(\?.*)?$/i,fn=e=>{const t=(0,E.k6)(),n=(0,p.useSelector)(c.Yzi),r=(0,p.useSelector)(c.TrC),o=(0,c.Sph)(),a=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.DisableUhfXboxCart))),i=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnablePlayPathNavigation))),s=(0,X.Fj)(),l=!a&&!!o&&o.enableXboxCart,u=(0,p.useSelector)(c.gzb)===c.Q2A.Dark,d=(0,h.useCallback)((e=>{const o=(e=>{let t=e,n=0;for(;t&&"A"!==t.nodeName&&n<10;)t=t.nodeName?t.parentElement:null,++n;return t||void 0})(e.target);if(!o)return;if(o.target&&"_self"!==o.target)return;if(!o.href)return;if(0===(o.getAttribute("href")||"").indexOf("#")||0===o.href.replace(window.location.origin+window.location.pathname,"").indexOf("#"))return;const a=new URL(o.href,window.location.origin);let d,h=!1;if((0,c.rpX)(a.host)){const e=(0,c.Sl8)(a.pathname,n),t=(0,c.o$o)(e,r,void 0,n);if(t){d={pathname:e,search:a.search,hash:a.hash},h=!t.isServerOnly;const r=(0,c.Sl8)(window.location.pathname,n);i&&(e.startsWith("/play")&&!r.startsWith("/play")||!e.startsWith("/play")&&r.startsWith("/play"))&&(h=!1,s.info("Performing full browser navigation for /play/* path"))}}else if(l&&("https://www.microsoft.com"===(m=a).origin&&gn.test(m.pathname)))u&&a.searchParams.append(Ce.cG.ThemeOverride,"dark"),d={pathname:"/cart",search:a.search};else if((0,c.byQ)(a)){const e=(0,c.dFq)(a,void 0),t=new URL(e,window.location.origin);d={pathname:t.pathname,search:t.search}}var m;if(d)try{h&&(e.preventDefault(),t.location.pathname!==d.pathname&&t.push(d))}catch(p){s.error("Error occurred while trying to navigate to target location",p)}}),[l,n,r,i,s,u,t]);return h.createElement("div",{onClick:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||d(e)},onKeyPress:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||"Enter"!==e.key&&"Space"!==e.key||d(e)}},e.children)};n(502638);var vn=n(436562),_n=(n(780082),n(71602)),yn=(n(255292),n(849377)),bn=n(679976)},71602:(e,t,n)=>{"use strict";function r(e,t){return function(n){return()=>e().then((e=>t(e)[n]))}}n.d(t,{t:()=>r})},123693:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,y:()=>s});var r=n(821883),o=n(202784),a=n(986671);function i(){return(0,o.useContext)(a.H)}function s(e){const t=i(),n=t.loadPartner,a=t.partnerLoadingState[e],s=t.partnerConfigs[e];return a.type===r.LCEType.NotRequested&&n(e),(0,o.useMemo)((()=>{const e=a.type===r.LCEType.NotRequested||a.type===r.LCEType.Fetching&&!a.previousContent,t={lce:a.type===r.LCEType.NotRequested?(0,r.lceFetching)():a,isLoading:e,isFetching:a.type===r.LCEType.Fetching||a.type===r.LCEType.NotRequested,isError:a.type===r.LCEType.Error,error:a.type===r.LCEType.Error?a.error:void 0};return[s,t]}),[s,a])}},77404:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r,o=n(316216);!function(e){e.INIT="@sentry/init"}(r||(r={}));(0,o.PHw)(r.INIT,o.sXi.AppContext,"",(()=>({})))},293706:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"===typeof e}n.d(t,{a:()=>r})},690401:(e,t,n)=>{"use strict";n.d(t,{R:()=>N});var r=n(773135),o=n(358536),a=n(363699),i=n(681757),s=n(597946),l=n(846894),c=n(94388),u=n(221995);function d(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function h(e,t={}){const n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${d(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,u._j)({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`}var m=n(273232);var p=n(166465),g=n(348889);function f(e,t,n,o){const a={sent_at:(new Date).toISOString()};n&&n.sdk&&(a.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(a.dsn=(0,r.RA)(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return(0,l.Jd)(a,[i])}var v=n(248364),_=n(792980),y=n(248738);const b="Not capturing exception because it's already been captured.";function C(e){return void 0===e.type}function E(e){return"transaction"===e.type}var S=n(276122);var T=n(7790);function w(e,t,n){const r=[{type:"client_report"},{timestamp:n||(0,T.yW)(),discarded_events:e}];return(0,l.Jd)(t?{dsn:t}:{},[r])}var I=n(927564),k=n(153357),A=n(816275),P=n(900814),x=n.n(P);function R(e,t){let{metadata:n,tunnel:o,dsn:a}=t;const i=x()(x()({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}}),!!o&&!!a&&{dsn:(0,r.RA)(a)}),s=function(e){return[{type:"user_report"},e]}(e);return(0,l.Jd)(i,[s])}class N extends class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,r.vK)(e.dsn):m.X&&o.kg.warn("No DSN provided, client will not send events."),this._dsn){const t=h(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if((0,a.YO)(e))return void(m.X&&o.kg.log(b));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const a=(0,i.Le)(e)?e:String(e),s=(0,i.pt)(e)?this.eventFromMessage(a,t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&(0,a.YO)(t.originalException))return void(m.X&&o.kg.log(b));let r=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then((e=>{r=e}))),r}captureSession(e){"string"!==typeof e.release?m.X&&o.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,v.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):(0,s.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return m.X&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];(0,g.m7)(this,e,this._integrations),t||(0,g.uf)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const o=(0,l.HY)(n),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const i=(0,l.Cd)(e,o,r,t);delete e.sdkProcessingMetadata;const s=[{type:a},e];return(0,l.Jd)(i,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of t.attachments||[])n=(0,l.BO)(n,(0,l.zQ)(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const a=(0,l.HY)(n),i={sent_at:(new Date).toISOString(),...a&&{sdk:a},...!!o&&t&&{dsn:(0,r.RA)(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,l.Jd)(i,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;m.X&&o.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){m.X&&o.kg.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=f(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(0,g.q4)(this,e),(0,g.uf)(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const a="ok"===e.status;(a&&0===e.errors||a&&n)&&((0,v.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new s.cW((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,p.aF)()){const o=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a.length>0&&(t.integrations=a),this.emit("preprocessEvent",e,t),(0,y.R)(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:a,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:a},...e.contexts};const s=i||(0,_._)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(m.X){const t=e;"log"===t.logLevel?o.kg.log(t.message):o.kg.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,a=E(e),l=C(e),u=e.type||"error",d=`before send for type \`${u}\``;if(l&&"number"===typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),(0,s.$2)(new c.b(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const h="replay_event"===u?"replay":u,m=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,m).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",h,e),new c.b("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(C(t)&&r)return r(t,n);if(E(t)&&o)return o(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,i.J8)(e))return e.then((e=>{if(!(0,i.PO)(e)&&null!==e)throw new c.b(n);return e}),(e=>{throw new c.b(`${t} rejected with ${e}`)}));if(!(0,i.PO)(e)&&null!==e)throw new c.b(n);return e}(o,d)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",h,e),new c.b(`${d} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!a&&o&&this._updateSessionFromEvent(o,r);const i=r.transaction_info;if(a&&i&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...i,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof c.b)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new c.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{m.X&&o.kg.error("Error while sending event:",e)}));m.X&&o.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}{constructor(e){const t=A.m9.SENTRY_SDK_SOURCE||"npm";(0,S.V)(e,"browser",["browser"],t),super(e),e.sendClientReports&&A.m9.document&&A.m9.document.addEventListener("visibilitychange",(()=>{"hidden"===A.m9.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return(0,k.dr)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return(0,k.aB)(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(I.X&&o.kg.warn("SDK not enabled, will not capture user feedback."));const t=R(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(I.X&&o.kg.log("No outcomes to send"));if(!this._dsn)return void(I.X&&o.kg.log("No dsn provided, will not send outcomes"));I.X&&o.kg.log("Sending outcomes:",e);const t=w(e,this._options.tunnel&&(0,r.RA)(this._dsn));this._sendEnvelope(t)}}},927564:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},153357:(e,t,n)=>{"use strict";n.d(t,{GJ:()=>d,ME:()=>_,aB:()=>v,dr:()=>f});var r=n(900814),o=n.n(r),a=(n(477950),n(621850),n(906886),n(592642)),i=n(681757),s=n(369180),l=n(363699),c=n(597946),u=n(221995);function d(e,t){const n=m(e,t),r={type:t&&t.name,value:g(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function h(e,t){return{exception:{values:[d(e,t)]}}}function m(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(p.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(o){}return[]}const p=/Minified React error #\d+;/i;function g(e){const t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function f(e,t,n,r){const o=_(e,t,n&&n.syntheticException||void 0,r);return(0,l.EG)(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),(0,c.WD)(o)}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const a=r&&r.syntheticException||void 0,i=y(e,t,a,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),(0,c.WD)(i)}function _(e,t,n,r,c){let u;if((0,i.VW)(t)&&t.error){return h(e,t.error)}if((0,i.TX)(t)||(0,i.fm)(t)){const a=t;if("stack"in t)u=h(e,t);else{const t=a.name||((0,i.TX)(a)?"DOMError":"DOMException"),o=a.message?`${t}: ${a.message}`:t;u=y(e,o,n,r),(0,l.Db)(u,o)}return"code"in a&&(u.tags=o()(o()({},u.tags),{},{"DOMException.code":`${a.code}`})),u}if((0,i.VZ)(t))return h(e,t);if((0,i.PO)(t)||(0,i.cO)(t)){return u=function(e,t,n,r){const o=(0,a.s3)(),l=o&&o.getOptions().normalizeDepth,c={exception:{values:[{type:(0,i.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:b(t,{isUnhandledRejection:r})}]},extra:{__serialized__:(0,s.Qy)(t,l)}};if(n){const t=m(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}(e,t,n,c),(0,l.EG)(u,{synthetic:!0}),u}return u=y(e,t,n,r),(0,l.Db)(u,`${t}`,void 0),(0,l.EG)(u,{synthetic:!0}),u}function y(e,t,n,r){const o={};if(r&&n){const r=m(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,i.Le)(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function b(e,t){let{isUnhandledRejection:n}=t;const r=(0,u.zf)(e),o=n?"promise rejection":"exception";if((0,i.VW)(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if((0,i.cO)(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${r}`}},816275:(e,t,n)=>{"use strict";n.d(t,{Wz:()=>d,m9:()=>c,re:()=>m});var r=n(900814),o=n.n(r),a=(n(464925),n(654819),n(592642)),i=n(790063),s=n(221995),l=n(363699);const c=i.GLOBAL_OBJ;let u=0;function d(){return u>0}function h(){u++,setTimeout((()=>{u--}))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("function"!==typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,s.HK)(e))return e}catch(i){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);const o=r.map((e=>m(e,t)));return e.apply(this,o)}catch(i){throw h(),(0,a.$e)((e=>{e.addEventProcessor((e=>(t.mechanism&&((0,l.Db)(e,void 0,void 0),(0,l.EG)(e,t.mechanism)),e.extra=o()(o()({},e.extra),{},{arguments:r}),e))),(0,a.Tb)(i)})),i}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(c){}(0,s.$Q)(r,e),(0,s.xp)(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(c){}return r}},644777:(e,t,n)=>{"use strict";n.d(t,{f:()=>O});var r=n(900814),o=n.n(r),a=(n(477950),n(74069),n(348889)),i=n(592642),s=n(358536),l=n(221995),c=n(790063),u=n(194618);function d(e){const t="console";(0,u.Hj)(t,e),(0,u.D2)(t,h)}function h(){"console"in c.GLOBAL_OBJ&&s.RU.forEach((function(e){e in c.GLOBAL_OBJ.console&&(0,l.hl)(c.GLOBAL_OBJ.console,e,(function(t){return s.LD[e]=t,function(...t){const n={args:t,level:e};(0,u.rK)("console",n);const r=s.LD[e];r&&r.apply(c.GLOBAL_OBJ.console,t)}}))}))}var m=n(363699);const p=c.GLOBAL_OBJ;let g,f,v;function _(e){(0,u.Hj)("dom",e),(0,u.D2)("dom",y)}function y(){if(!p.document)return;const e=u.rK.bind(null,"dom"),t=b(e,!0);p.document.addEventListener("click",t,!1),p.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=p[t]&&p[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,l.hl)(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,a=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=a[n]=a[n]||{refCount:0};if(!i.handler){const r=b(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch(a){}return t.call(this,n,r,o)}})),(0,l.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},a=o[t];a&&(a.refCount--,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(o){}return e.call(this,t,n,r)}})))}))}function b(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(t){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;(0,l.xp)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,l.xp)(r,"_sentryId",(0,m.DM)());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==f)return!1;try{if(!e.target||e.target._sentryId!==v)return!1}catch(t){}return!0}(n)){e({event:n,name:o,global:t}),f=n.type,v=r?r._sentryId:void 0}clearTimeout(g),g=p.setTimeout((()=>{v=void 0,f=void 0}),1e3)}}var C=n(428315),E=n(912633),S=n(302311),T=n(154194);const w=["fatal","error","warning","log","info","debug"];function I(e){return"warn"===e?"warning":w.includes(e)?e:"log"}var k=n(439660),A=n(633483),P=n(927564),x=n(816275);const R=1024,N="Breadcrumbs",O=(0,a._I)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=o()({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:N,setupOnce(){},setup(e){t.console&&d(U(e)),t.dom&&_(M(e,t.dom)),t.xhr&&(0,C.UK)(D(e)),t.fetch&&(0,E.U)(B(e)),t.history&&(0,S.a)(F(e)),t.sentry&&e.on&&e.on("beforeSendEvent",L(e))}}}));(0,a.RN)(N,O);function L(e){return function(t){(0,i.s3)()===e&&(0,i.n_)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,m.jH)(t)},{event:t})}}function M(e,t){return function(n){if((0,i.s3)()!==e)return;let r,o,a="object"===typeof t?t.serializeAttribute:void 0,l="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;l&&l>R&&(P.X&&s.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${l} was configured. Sentry will use 1024 instead.`),l=R),"string"===typeof a&&(a=[a]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=(0,T.Rt)(t,{keyAttrs:a,maxStringLength:l}),o=(0,T.iY)(t)}catch(u){r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};o&&(c.data={"ui.component_name":o}),(0,i.n_)(c,{event:n.event,name:n.name,global:n.global})}}function U(e){return function(t){if((0,i.s3)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:I(t.level),message:(0,k.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,k.nK)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,i.n_)(n,{input:t.args,level:t.level})}}function D(e){return function(t){if((0,i.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[C.xU];if(!n||!r||!o)return;const{method:a,url:s,status_code:l,body:c}=o,u={method:a,url:s,status_code:l},d={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};(0,i.n_)({category:"xhr",data:u,type:"http"},d)}}function B(e){return function(t){if((0,i.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const e=t.fetchData,o={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,i.n_)({category:"fetch",data:e,level:"error",type:"http"},o)}else{const e=t.response,a=o()(o()({},t.fetchData),{},{status_code:e&&e.status}),s={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,i.n_)({category:"fetch",data:a,type:"http"},s)}}}function F(e){return function(t){if((0,i.s3)()!==e)return;let n=t.from,r=t.to;const o=(0,A.en)(x.m9.location.href);let a=n?(0,A.en)(n):void 0;const s=(0,A.en)(r);a&&a.path||(a=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),(0,i.n_)({category:"navigation",data:{from:n,to:r}})}}},106197:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var r=n(900814),o=n.n(r),a=(n(34715),n(426464),n(319570),n(348889)),i=n(221995),s=n(269038),l=n(816275);const c=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],u="TryCatch",d=(0,a._I)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=o()({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:u,setupOnce(){t.setTimeout&&(0,i.hl)(l.m9,"setTimeout",h),t.setInterval&&(0,i.hl)(l.m9,"setInterval",h),t.requestAnimationFrame&&(0,i.hl)(l.m9,"requestAnimationFrame",m),t.XMLHttpRequest&&"XMLHttpRequest"in l.m9&&(0,i.hl)(XMLHttpRequest.prototype,"send",p);const e=t.eventTarget;if(e){(Array.isArray(e)?e:c).forEach(g)}}}}));(0,a.RN)(u,d);function h(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];return n[0]=(0,l.re)(o,{mechanism:{data:{function:(0,s.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function m(e){return function(t){return e.apply(this,[(0,l.re)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,s.$P)(e)},handled:!1,type:"instrument"}})])}}function p(e){return function(){const t=this,n=["onload","onerror","onprogress","onreadystatechange"];n.forEach((e=>{e in t&&"function"===typeof t[e]&&(0,i.hl)(t,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,s.$P)(t)},handled:!1,type:"instrument"}},r=(0,i.HK)(t);return r&&(n.mechanism.data.handler=(0,s.$P)(r)),(0,l.re)(t,n)}))}));for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(this,o)}}function g(e){const t=l.m9,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.hl)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"===typeof r.handleEvent&&(r.handleEvent=(0,l.re)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,s.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(a){}return t.apply(this,[n,(0,l.re)(r,{mechanism:{data:{function:"addEventListener",handler:(0,s.$P)(r),target:e},handled:!1,type:"instrument"}}),o])}})),(0,i.hl)(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(a){}return e.call(this,t,o,r)}})))}},801317:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>h});n(477950),n(906886);var r=n(269038);const o="?";function a(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const i=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=[[30,e=>{const t=i.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=s.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=m(t[1]||o,t[2]);return a(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=l.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=c.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||o;return[n,e]=m(n,e),a(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=u.exec(e);return t?a(t[2],t[1]||o,+t[3],t[4]?+t[4]:void 0):void 0}]],h=(0,r.pE)(...d),m=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:o,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]}},403853:(e,t,n)=>{"use strict";n.d(t,{f:()=>p});var r=n(900814),o=n.n(r),a=n(194923),i=n(597946),s=n(49798),l=n(358536),c=n(927564),u=n(816275);let d;function h(){if(d)return d;if((0,s.Du)(u.m9.fetch))return d=u.m9.fetch.bind(u.m9);const e=u.m9.document;let t=u.m9.fetch;if(e&&"function"===typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){c.X&&l.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return d=t.bind(u.m9)}function m(){d=void 0}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h(),n=0,r=0;function s(a){const s=a.body.length;n+=s,r++;const l=o()({body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);try{return t(e.url,l).then((e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(c){return m(),n-=s,r--,(0,i.$2)(c)}}return(0,a.q)(e,s)}},432051:(e,t,n)=>{"use strict";n.d(t,{S:()=>me});var r=n(900814),o=n.n(r),a=(n(906886),n(358536)),i=n(363699),s=n(439660),l=n(273232),c=n(348889);const u=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],d=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],h="InboundFilters",m=(0,c._I)(((e={})=>({name:h,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),c=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:u],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:d],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return l.X&&a.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,i.jH)(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(r){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));l.X&&0===t.length&&a.kg.error(`Could not extract message for event ${(0,i.jH)(e)}`);return t}(e).some((e=>(0,s.U0)(e,t)))}(e,t.ignoreErrors))return l.X&&a.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,i.jH)(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,s.U0)(n,t)}(e,t.ignoreTransactions))return l.X&&a.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,i.jH)(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=p(e);return!!n&&(0,s.U0)(n,t)}(e,t.denyUrls))return l.X&&a.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,i.jH)(e)}.\nUrl: ${p(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=p(e);return!n||(0,s.U0)(n,t)}(e,t.allowUrls))return l.X&&a.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,i.jH)(e)}.\nUrl: ${p(e)}`),!0;return!1}(t,c)?null:t}})));(0,c.RN)(h,m);function p(e){try{let n;try{n=e.exception.values[0].stacktrace.frames}catch(t){}return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return l.X&&a.kg.error(`Cannot extract url for event ${(0,i.jH)(e)}`),null}}var g=n(221995),f=n(592642);let v;const _="FunctionToString",y=new WeakMap,b=(0,c._I)((()=>({name:_,setupOnce(){v=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,g.HK)(this),n=y.has((0,f.s3)())&&void 0!==t?t:this;return v.apply(n,e)}}catch(e){}},setup(e){y.set(e,!0)}})));(0,c.RN)(_,b);var C=n(166465);function E(e,t){!0===t.debug&&(l.X?a.kg.enable():(0,a.Cf)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));(0,f.nZ)().update(t.initialScope);const n=new e(t);!function(e){const t=(0,C.Gd)().getStackTop();t.client=e,t.scope.setClient(e)}(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}var S=n(269038),T=n(49798),w=n(302311),I=n(690401),k=n(927564),A=n(816275),P=n(644777);const x="Dedupe",R=(0,c._I)((()=>{let e;return{name:x,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!O(e,t))return!1;if(!N(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=L(t),r=L(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!O(e,t))return!1;if(!N(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return k.X&&a.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}}));(0,c.RN)(x,R);function N(e,t){let n=M(e),r=M(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function O(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function L(e){return e.exception&&e.exception.values&&e.exception.values[0]}function M(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}n(571372),n(136728),n(368995),n(477950),n(74069);var U=n(921240),D=n(681757),B=n(182146),F=n(154194),H=n(153357);const q="GlobalHandlers",G=(0,c._I)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=o()({onerror:!0,onunhandledrejection:!0},e);return{name:q,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(z(e),V("onerror")),t.onunhandledrejection&&(X(e),V("onunhandledrejection"))}}}));(0,c.RN)(q,G);function z(e){(0,U.V)((t=>{const{stackParser:n,attachStacktrace:r}=W();if((0,f.s3)()!==e||(0,A.Wz)())return;const{msg:o,url:a,line:i,column:s,error:l}=t,c=void 0===l&&(0,D.HD)(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let a=(0,D.VW)(e)?e.message:e,i="Error";const s=a.match(o);s&&(i=s[1],a=s[2]);return $({exception:{values:[{type:i,value:a}]}},t,n,r)}(o,a,i,s):$((0,H.ME)(n,l||o,void 0,r,!1),a,i,s);c.level="error",(0,f.eN)(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}function X(e){(0,B.h)((t=>{const{stackParser:n,attachStacktrace:r}=W();if((0,f.s3)()!==e||(0,A.Wz)())return;const o=function(e){if((0,D.pt)(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(t),a=(0,D.pt)(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:(0,H.ME)(n,o,void 0,r,!0);a.level="error",(0,f.eN)(a,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}function $(e,t,n,r){const o=e.exception=e.exception||{},a=o.values=o.values||[],i=a[0]=a[0]||{},s=i.stacktrace=i.stacktrace||{},l=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=(0,D.HD)(t)&&t.length>0?t:(0,F.l4)();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function V(e){k.X&&a.kg.log(`Global Handler attached: ${e}`)}function W(){const e=(0,f.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const K="HttpContext",j=(0,c._I)((()=>({name:K,setupOnce(){},preprocessEvent(e){if(!A.m9.navigator&&!A.m9.location&&!A.m9.document)return;const t=e.request&&e.request.url||A.m9.location&&A.m9.location.href,{referrer:n}=A.m9.document||{},{userAgent:r}=A.m9.navigator||{},a=o()(o()(o()({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),i=o()(o()(o()({},e.request),t&&{url:t}),{},{headers:a});e.request=i}})));(0,c.RN)(K,j);function Y(e,t,n=250,r,o,a,i){if(!a.exception||!a.exception.values||!i||!(0,D.V9)(i.originalException,Error))return;const l=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;var c,u;l&&(a.exception.values=(c=Z(e,t,o,i.originalException,r,a.exception.values,l,0),u=n,c.map((e=>(e.value&&(e.value=(0,s.$G)(e.value,u)),e)))))}function Z(e,t,n,r,o,a,i,s){if(a.length>=n+1)return a;let l=[...a];if((0,D.V9)(r[o],Error)){Q(i,s);const a=e(t,r[o]),c=l.length;J(a,o,c,s),l=Z(e,t,n,r[o],o,[a,...l],a,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,a)=>{if((0,D.V9)(r,Error)){Q(i,s);const c=e(t,r),u=l.length;J(c,`errors[${a}]`,u,s),l=Z(e,t,n,r,o,[c,...l],c,u)}})),l}function Q(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function J(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const ee="cause",te="LinkedErrors",ne=(0,c._I)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||ee;return{name:te,setupOnce(){},preprocessEvent(e,r,o){const a=o.getOptions();Y(H.GJ,a.stackParser,a.maxValueLength,n,t,e,r)}}}));(0,c.RN)(te,ne);var re=n(106197),oe=n(801317),ae=n(403853),ie=n(194923),se=n(597946);function le(e){return(0,ie.q)(e,(function(t){return new se.cW(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const ce=[m(),b(),(0,re.t)(),(0,P.f)(),G(),ne(),R(),j()];function ue(e){return[...ce]}function de(){"undefined"!==typeof A.m9.document?((0,f.yj)({ignoreDuration:!0}),(0,f.cg)(),(0,w.a)((e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&((0,f.yj)({ignoreDuration:!0}),(0,f.cg)())}))):k.X&&a.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}var he=n(276122);function me(e){const t=o()({},e);(0,he.V)(t,"react"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.defaultIntegrations&&(e.defaultIntegrations=ue()),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),A.m9.SENTRY_RELEASE&&A.m9.SENTRY_RELEASE.id&&(e.release=A.m9.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t=o()(o()({},e),{},{stackParser:(0,S.Sq)(e.stackParser||oe.Dt),integrations:(0,c.m8)(e),transport:e.transport||((0,T.Ak)()?ae.f:le)});E(I.R,t),e.autoSessionTracking&&de()}(t)}},903963:(e,t,n)=>{"use strict";var r=n(900814).default;n(73439),n(906886);const o=n(559228),a=async(e,t,n)=>{let a;(n=r({delayRejection:!0},n)).delayRejection&&(e=e.catch((e=>{a=e})));const i=await Promise.all([e,o(t)]);return a?Promise.reject(a):i[0]};e.exports=a,e.exports.default=a},217547:(e,t,n)=>{"use strict";n.d(t,{Ep:()=>d,Hp:()=>m,PP:()=>A,lX:()=>b,ob:()=>h,q_:()=>I});var r=n(807896),o=n(57613),a=n(860838),i=n(161898);function s(e){return"/"===e.charAt(0)?e:"/"+e}function l(e){return"/"===e.charAt(0)?e.substr(1):e}function c(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function u(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function h(e,t,n,a){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,r.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),a?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,o.Z)(i.pathname,a.pathname)):i.pathname=a.pathname:i.pathname||(i.pathname="/"),i}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,a.Z)(e.state,t.state)}function p(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!(!window.document||!window.document.createElement);function f(e,t){t(window.confirm(e))}var v="popstate",_="hashchange";function y(){try{return window.history.state||{}}catch(e){return{}}}function b(e){void 0===e&&(e={}),g||(0,i.Z)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,l=a.forceRefresh,m=void 0!==l&&l,b=a.getUserConfirmation,C=void 0===b?f:b,E=a.keyLength,S=void 0===E?6:E,T=e.basename?u(s(e.basename)):"";function w(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return T&&(a=c(a,T)),h(a,r,n)}function I(){return Math.random().toString(36).substr(2,S)}var k=p();function A(e){(0,r.Z)(H,e),H.length=t.length,k.notifyListeners(H.location,H.action)}function P(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(w(e.state))}function x(){N(w(y()))}var R=!1;function N(e){if(R)R=!1,A();else{k.confirmTransitionTo(e,"POP",C,(function(t){t?A({action:"POP",location:e}):function(e){var t=H.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(R=!0,U(o))}(e)}))}}var O=w(y()),L=[O.key];function M(e){return T+d(e)}function U(e){t.go(e)}var D=0;function B(e){1===(D+=e)&&1===e?(window.addEventListener(v,P),o&&window.addEventListener(_,x)):0===D&&(window.removeEventListener(v,P),o&&window.removeEventListener(_,x))}var F=!1;var H={length:t.length,action:"POP",location:O,createHref:M,push:function(e,r){var o="PUSH",a=h(e,r,I(),H.location);k.confirmTransitionTo(a,o,C,(function(e){if(e){var r=M(a),i=a.key,s=a.state;if(n)if(t.pushState({key:i,state:s},null,r),m)window.location.href=r;else{var l=L.indexOf(H.location.key),c=L.slice(0,l+1);c.push(a.key),L=c,A({action:o,location:a})}else window.location.href=r}}))},replace:function(e,r){var o="REPLACE",a=h(e,r,I(),H.location);k.confirmTransitionTo(a,o,C,(function(e){if(e){var r=M(a),i=a.key,s=a.state;if(n)if(t.replaceState({key:i,state:s},null,r),m)window.location.replace(r);else{var l=L.indexOf(H.location.key);-1!==l&&(L[l]=a.key),A({action:o,location:a})}else window.location.replace(r)}}))},go:U,goBack:function(){U(-1)},goForward:function(){U(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=k.appendListener(e);return B(1),function(){B(-1),t()}}};return H}var C="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+l(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l,decodePath:s},slash:{encodePath:s,decodePath:s}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function w(e){window.location.replace(S(window.location.href)+"#"+e)}function I(e){void 0===e&&(e={}),g||(0,i.Z)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,a=void 0===o?f:o,l=n.hashType,m=void 0===l?"slash":l,v=e.basename?u(s(e.basename)):"",_=E[m],y=_.encodePath,b=_.decodePath;function I(){var e=b(T());return v&&(e=c(e,v)),h(e)}var k=p();function A(e){(0,r.Z)(H,e),H.length=t.length,k.notifyListeners(H.location,H.action)}var P=!1,x=null;function R(){var e,t,n=T(),r=y(n);if(n!==r)w(r);else{var o=I(),i=H.location;if(!P&&(t=o,(e=i).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(x===d(o))return;x=null,function(e){if(P)P=!1,A();else{var t="POP";k.confirmTransitionTo(e,t,a,(function(n){n?A({action:t,location:e}):function(e){var t=H.location,n=M.lastIndexOf(d(t));-1===n&&(n=0);var r=M.lastIndexOf(d(e));-1===r&&(r=0);var o=n-r;o&&(P=!0,U(o))}(e)}))}}(o)}}var N=T(),O=y(N);N!==O&&w(O);var L=I(),M=[d(L)];function U(e){t.go(e)}var D=0;function B(e){1===(D+=e)&&1===e?window.addEventListener(C,R):0===D&&window.removeEventListener(C,R)}var F=!1;var H={length:t.length,action:"POP",location:L,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+y(v+d(e))},push:function(e,t){var n="PUSH",r=h(e,void 0,void 0,H.location);k.confirmTransitionTo(r,n,a,(function(e){if(e){var t=d(r),o=y(v+t);if(T()!==o){x=t,function(e){window.location.hash=e}(o);var a=M.lastIndexOf(d(H.location)),i=M.slice(0,a+1);i.push(t),M=i,A({action:n,location:r})}else A()}}))},replace:function(e,t){var n="REPLACE",r=h(e,void 0,void 0,H.location);k.confirmTransitionTo(r,n,a,(function(e){if(e){var t=d(r),o=y(v+t);T()!==o&&(x=t,w(o));var a=M.indexOf(d(H.location));-1!==a&&(M[a]=t),A({action:n,location:r})}}))},go:U,goBack:function(){U(-1)},goForward:function(){U(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=k.appendListener(e);return B(1),function(){B(-1),t()}}};return H}function k(e,t,n){return Math.min(Math.max(e,t),n)}function A(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,a=void 0===o?["/"]:o,i=t.initialIndex,s=void 0===i?0:i,l=t.keyLength,c=void 0===l?6:l,u=p();function m(e){(0,r.Z)(b,e),b.length=b.entries.length,u.notifyListeners(b.location,b.action)}function g(){return Math.random().toString(36).substr(2,c)}var f=k(s,0,a.length-1),v=a.map((function(e){return h(e,void 0,"string"===typeof e?g():e.key||g())})),_=d;function y(e){var t=k(b.index+e,0,b.entries.length-1),r=b.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?m({action:"POP",location:r,index:t}):m()}))}var b={length:v.length,action:"POP",location:v[f],index:f,entries:v,createHref:_,push:function(e,t){var r="PUSH",o=h(e,t,g(),b.location);u.confirmTransitionTo(o,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),m({action:r,location:o,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",o=h(e,t,g(),b.location);u.confirmTransitionTo(o,r,n,(function(e){e&&(b.entries[b.index]=o,m({action:r,location:o}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return b}},552034:(e,t,n)=>{var r,o;!function(a){if(void 0===(o="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=a(),!!0){var i=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=i,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,!0!==a[l]&&(s+="="+a[l].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!==typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(u){}if(o[c]=l,e===c)break}catch(u){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,n){a(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},589971:(e,t,n)=>{"use strict";n.r(t)},791841:(e,t,n)=>{"use strict";n.d(t,{CD:()=>c,GE:()=>I,Hs:()=>p,MM:()=>l,OJ:()=>w,QD:()=>d,RL:()=>y,S5:()=>T,Sv:()=>C,UV:()=>k,Vl:()=>i,XP:()=>N,Xv:()=>r,Y1:()=>b,_0:()=>f,eA:()=>L,eG:()=>E,gg:()=>v,ht:()=>_,kI:()=>m,kr:()=>o,o9:()=>u,oI:()=>g,p:()=>s,pD:()=>a,qT:()=>x,qg:()=>h,ri:()=>O,sH:()=>R,tG:()=>M,vv:()=>P,x:()=>A,x2:()=>S});var r="Button-module__basicBorderRadius___TaX9J",o="Button-module__buttonBase___olICK",a="Button-module__buttonIcon___540Jm",i="Button-module__buttonSwitch___+Tn3u",s="Button-module__callToAction___mSaZg",l="Button-module__decoratedButton___-YJyr",c="Button-module__defaultBase___c7wIT",u="Button-module__heroLargeBorderRadius___u9CMS",d="Button-module__heroMediumBorderRadius___dUTPQ",h="Button-module__heroSmallBorderRadius___ywhQ0",m="Button-module__heroXSmallBorderRadius___tyver",p="Button-module__iconButtonBase___uzoKc",g="Button-module__marginLeft___Bqq-9",f="Button-module__noMargin___5UbzU",v="Button-module__overlayModeAcrylic___QnjAv",_="Button-module__overlayModeSemiTransparent___mcpLM",y="Button-module__overlayModeSolid___v6EcO",b="Button-module__secondarySwitchBackplate___E47IF",C="Button-module__sizeIconButtonLarge___tb4rx",E="Button-module__sizeIconButtonMedium___WJrxo",S="Button-module__sizeIconButtonSmall___gTDbb",T="Button-module__sizeIconButtonXSmall___sYhWs",w="Button-module__sizeLarge___Jsfxn",I="Button-module__sizeMedium___T+8s+",k="Button-module__sizeSmall___9uKpA",A="Button-module__sizeXSmall___TGAST",P="Button-module__textNoUnderline___kHdUB",x="Button-module__textUnderline___JSRLr",R="Button-module__typeBrand___MMuct",N="Button-module__typePrimary___0WI8b",O="Button-module__typeSecondary___Cid02",L="Button-module__typeTertiary___wNh6R",M="Button-module__typeUserAccent___lK-yy"},989172:(e,t,n)=>{"use strict";n.d(t,{KZ:()=>r,OU:()=>a,Pt:()=>s,Xs:()=>i,f8:()=>l,nA:()=>o});var r="commonStyles-module__basicButton___go-bX",o="commonStyles-module__basicContainer___8Vx5e",a="commonStyles-module__basicIcon___qnovY",i="commonStyles-module__basicLink___V+0u7",s="commonStyles-module__featureListStyle___8SVho",l="commonStyles-module__shimmer___toyTH"},140959:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="AdsOptOutSync-module__syncFrame___vfV8q"},345285:(e,t,n)=>{"use strict";n.r(t),n.d(t,{alertContainer:()=>r,alertContent:()=>o,alertLink:()=>a,closeButton:()=>i,danger:()=>s,info:()=>l,warning:()=>c});var r="Alert-module__alertContainer___SvSXM",o="Alert-module__alertContent___pr1fW",a="Alert-module__alertLink___iaM+w",i="Alert-module__closeButton___Wg1vP",s="Alert-module__danger___i5C9q",l="Alert-module__info___ufhmC",c="Alert-module__warning___9PBYf"},911372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{col:()=>r,col1:()=>o,col10:()=>a,col11:()=>i,col12:()=>s,col2:()=>l,col3:()=>c,col4:()=>u,col5:()=>d,col6:()=>h,col7:()=>m,col8:()=>p,col9:()=>g,colLg1:()=>f,colLg10:()=>v,colLg11:()=>_,colLg12:()=>y,colLg2:()=>b,colLg3:()=>C,colLg4:()=>E,colLg5:()=>S,colLg6:()=>T,colLg7:()=>w,colLg8:()=>I,colLg9:()=>k,colMd1:()=>A,colMd10:()=>P,colMd11:()=>x,colMd12:()=>R,colMd2:()=>N,colMd3:()=>O,colMd4:()=>L,colMd5:()=>M,colMd6:()=>U,colMd7:()=>D,colMd8:()=>B,colMd9:()=>F,colSm1:()=>H,colSm10:()=>q,colSm11:()=>G,colSm12:()=>z,colSm2:()=>X,colSm3:()=>$,colSm4:()=>V,colSm5:()=>W,colSm6:()=>K,colSm7:()=>j,colSm8:()=>Y,colSm9:()=>Z,large:()=>Q,medium:()=>J,small:()=>ee});var r="ModuleColumn-module__col___StJzB",o="ModuleColumn-module__col1___9CP2u",a="ModuleColumn-module__col10___TX1Lb",i="ModuleColumn-module__col11___rbXSV",s="ModuleColumn-module__col12___A-hSt",l="ModuleColumn-module__col2___+utbQ",c="ModuleColumn-module__col3___OU8x+",u="ModuleColumn-module__col4___ZaRrg",d="ModuleColumn-module__col5___TL7I1",h="ModuleColumn-module__col6___ArD0N",m="ModuleColumn-module__col7___XCnrm",p="ModuleColumn-module__col8___yCVp5",g="ModuleColumn-module__col9___K8Gw9",f="ModuleColumn-module__colLg1___LYmyz",v="ModuleColumn-module__colLg10___5d7-E",_="ModuleColumn-module__colLg11___gRE3U",y="ModuleColumn-module__colLg12___NygNf",b="ModuleColumn-module__colLg2___JJuMl",C="ModuleColumn-module__colLg3___UTVTa",E="ModuleColumn-module__colLg4___dTHnc",S="ModuleColumn-module__colLg5___-hnQ+",T="ModuleColumn-module__colLg6___rr8Po",w="ModuleColumn-module__colLg7___BVit9",I="ModuleColumn-module__colLg8___d2TZv",k="ModuleColumn-module__colLg9___IlWd5",A="ModuleColumn-module__colMd1___bXH3p",P="ModuleColumn-module__colMd10___gg77z",x="ModuleColumn-module__colMd11___uATnk",R="ModuleColumn-module__colMd12___TNRxj",N="ModuleColumn-module__colMd2___f0ZrV",O="ModuleColumn-module__colMd3___M8p2g",L="ModuleColumn-module__colMd4___+BB+4",M="ModuleColumn-module__colMd5___w7599",U="ModuleColumn-module__colMd6___BTAdb",D="ModuleColumn-module__colMd7___MoAAG",B="ModuleColumn-module__colMd8___LTRxa",F="ModuleColumn-module__colMd9___RMntd",H="ModuleColumn-module__colSm1___CR0--",q="ModuleColumn-module__colSm10___lxTzQ",G="ModuleColumn-module__colSm11___txDMG",z="ModuleColumn-module__colSm12___K5Kqp",X="ModuleColumn-module__colSm2___tcLDV",$="ModuleColumn-module__colSm3___O-F8K",V="ModuleColumn-module__colSm4___H5Viy",W="ModuleColumn-module__colSm5___LkfGI",K="ModuleColumn-module__colSm6___0g1hF",j="ModuleColumn-module__colSm7___hiK+f",Y="ModuleColumn-module__colSm8___GXtwd",Z="ModuleColumn-module__colSm9___PjjRH",Q="1084px",J="860px",ee="540px"},904945:(e,t,n)=>{"use strict";n.d(t,{Oj:()=>a,nC:()=>r,oH:()=>o});var r="ModuleContainer-module__container___pkhPl",o="ModuleContainer-module__informationModuleContainer___nGoBj",a="ModuleContainer-module__sectionBackground___1iE6r"},5672:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="ModuleRow-module__row___N1V3E"},529934:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>r,al:()=>o,oP:()=>a});var r="PageBanner-module__bannerContainer___YuHV3",o="PageBanner-module__hidden___MkKJW",a="PageBanner-module__visible___Q3bC3"},372256:(e,t,n)=>{"use strict";n.d(t,{O6:()=>a,Tn:()=>o,cM:()=>r});var r="RetryPage-module__retryButton___iuv6I",o="RetryPage-module__retryContainer___0s7DP",a="RetryPage-module__retryIcon___4Kokq"},813750:(e,t,n)=>{"use strict";n.d(t,{CM:()=>r,WB:()=>s,g3:()=>a,jW:()=>i,nC:()=>o});var r="ListTransformGroupButton-module__chevronContainer___NjCRD",o="ListTransformGroupButton-module__container___Dp2sx",a="ListTransformGroupButton-module__countBlock___YZTB+",i="ListTransformGroupButton-module__titleContainer___iYD2x",s="ListTransformGroupButton-module__titleText___G3nI8"},976200:(e,t,n)=>{"use strict";n.d(t,{ro:()=>r,s9:()=>o,xw:()=>a});var r="Image-module__imageBackground___fwLda",o="Image-module__imageShadow___3io3A",a="Image-module__xboxLogoGlyphIcon___M8Rlv"},808564:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>s,Y9:()=>r,d9:()=>a,fL:()=>l,lr:()=>c,nC:()=>o,p4:()=>i});var r="ShowMoreShowLess-module__baseLineText___OTuYW",o="ShowMoreShowLess-module__container___CyBM4",a="ShowMoreShowLess-module__less___gikrN",i="ShowMoreShowLess-module__link___K7wez",s="ShowMoreShowLess-module__more___oXPB7",l="ShowMoreShowLess-module__text___jt826",c="ShowMoreShowLess-module__withLineBreak___r04p2"},567555:(e,t,n)=>{"use strict";n.d(t,{BH:()=>o,OZ:()=>a,be:()=>i,kQ:()=>r});var r="WrappedResponsiveImage-module__content___z0-cY",o="WrappedResponsiveImage-module__image___QvkuN",a="WrappedResponsiveImage-module__imageFluid___dK6C4",i="WrappedResponsiveImage-module__imageWrapper___-Wdm7"},30032:(e,t,n)=>{"use strict";n.d(t,{Mv:()=>a,Nl:()=>r,jK:()=>o,o0:()=>i});var r="ExpandingListContainer-module__contentArea___XxGhi",o="ExpandingListContainer-module__expandSeparator___eln3F",a="ExpandingListContainer-module__footer___blbJp",i="ExpandingListContainer-module__moreButton___leR3H"},954528:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dBlock:()=>r,dFlex:()=>o,dInline:()=>a,dInlineBlock:()=>i,dInlineFlex:()=>s,dLgBlock:()=>l,dLgFlex:()=>c,dLgInline:()=>u,dLgInlineBlock:()=>d,dLgInlineFlex:()=>h,dLgNone:()=>m,dLgTable:()=>p,dLgTableCell:()=>g,dLgTableRow:()=>f,dMdBlock:()=>v,dMdFlex:()=>_,dMdInline:()=>y,dMdInlineBlock:()=>b,dMdInlineFlex:()=>C,dMdNone:()=>E,dMdTable:()=>S,dMdTableCell:()=>T,dMdTableRow:()=>w,dNone:()=>I,dPrintBlock:()=>k,dPrintFlex:()=>A,dPrintInline:()=>P,dPrintInlineBlock:()=>x,dPrintInlineFlex:()=>R,dPrintNone:()=>N,dPrintTable:()=>O,dPrintTableCell:()=>L,dPrintTableRow:()=>M,dSmBlock:()=>U,dSmFlex:()=>D,dSmInline:()=>B,dSmInlineBlock:()=>F,dSmInlineFlex:()=>H,dSmNone:()=>q,dSmTable:()=>G,dSmTableCell:()=>z,dSmTableRow:()=>X,dTable:()=>$,dTableCell:()=>V,dTableRow:()=>W,dXlBlock:()=>K,dXlFlex:()=>j,dXlInline:()=>Y,dXlInlineBlock:()=>Z,dXlInlineFlex:()=>Q,dXlNone:()=>J,dXlTable:()=>ee,dXlTableCell:()=>te,dXlTableRow:()=>ne});var r="display-module__d-block___fSHqy",o="display-module__d-flex___8Saxm",a="display-module__d-inline___C8B-2",i="display-module__d-inline-block___JRVpL",s="display-module__d-inline-flex___HBUSp",l="display-module__d-lg-block___q+Mk0",c="display-module__d-lg-flex___mpjOO",u="display-module__d-lg-inline___+uWXc",d="display-module__d-lg-inline-block___s-a81",h="display-module__d-lg-inline-flex___Vye37",m="display-module__d-lg-none___qHkBS",p="display-module__d-lg-table___jedIg",g="display-module__d-lg-table-cell___NEkb3",f="display-module__d-lg-table-row___oFECu",v="display-module__d-md-block___8pEr8",_="display-module__d-md-flex___fEpdb",y="display-module__d-md-inline___ghtRW",b="display-module__d-md-inline-block___3ikKc",C="display-module__d-md-inline-flex___bpPi4",E="display-module__d-md-none___Enq1h",S="display-module__d-md-table___ER8-b",T="display-module__d-md-table-cell___-wRlo",w="display-module__d-md-table-row___lnx14",I="display-module__d-none___ljAK6",k="display-module__d-print-block___YhSFS",A="display-module__d-print-flex___U3xl4",P="display-module__d-print-inline___R6RdM",x="display-module__d-print-inline-block___xDEXI",R="display-module__d-print-inline-flex___W+zT4",N="display-module__d-print-none___jbI0E",O="display-module__d-print-table___Z0C9g",L="display-module__d-print-table-cell___Qve13",M="display-module__d-print-table-row___derdo",U="display-module__d-sm-block___5kUGp",D="display-module__d-sm-flex___ur7Yp",B="display-module__d-sm-inline___VnTBS",F="display-module__d-sm-inline-block___h8xwl",H="display-module__d-sm-inline-flex___0pB9B",q="display-module__d-sm-none___9SVT2",G="display-module__d-sm-table___bJECH",z="display-module__d-sm-table-cell___6QaNi",X="display-module__d-sm-table-row___iWm-S",$="display-module__d-table___-St8q",V="display-module__d-table-cell___n8sBU",W="display-module__d-table-row___Mn7Hx",K="display-module__d-xl-block___0vBvJ",j="display-module__d-xl-flex___9O-eu",Y="display-module__d-xl-inline___PAGCk",Z="display-module__d-xl-inline-block___jlRgk",Q="display-module__d-xl-inline-flex___3LY6b",J="display-module__d-xl-none___jFIPw",ee="display-module__d-xl-table___kUrXR",te="display-module__d-xl-table-cell___cQXT0",ne="display-module__d-xl-table-row___upLgJ"},156648:(e,t,n)=>{"use strict";n.r(t),n.d(t,{glyphAppend:()=>r,glyphAppendAccept:()=>o,glyphAppendAdd:()=>a,glyphAppendAddfriend:()=>i,glyphAppendBack:()=>s,glyphAppendCancel:()=>l,glyphAppendCellphone:()=>c,glyphAppendCheckMark:()=>u,glyphAppendCheckbox:()=>d,glyphAppendCheckboxComposite:()=>h,glyphAppendCheckboxIndeterminate:()=>m,glyphAppendChevronDown:()=>p,glyphAppendChevronLeft:()=>g,glyphAppendChevronRight:()=>f,glyphAppendChevronUp:()=>v,glyphAppendCirclePlus:()=>_,glyphAppendClear:()=>y,glyphAppendDevices2:()=>b,glyphAppendDevices3:()=>C,glyphAppendDownload:()=>E,glyphAppendFavoriteStar:()=>S,glyphAppendFavoriteStarFill:()=>T,glyphAppendForward:()=>w,glyphAppendGamePassUltimateInline2:()=>I,glyphAppendGlobalNavButton:()=>k,glyphAppendHeart:()=>A,glyphAppendHololens:()=>P,glyphAppendHololens2:()=>x,glyphAppendIndicatorDotFilled:()=>R,glyphAppendIndicatorDotOutline:()=>N,glyphAppendInfo:()=>O,glyphAppendLarge:()=>L,glyphAppendLeftDoubleQuote:()=>M,glyphAppendMobileTablet:()=>U,glyphAppendMore:()=>D,glyphAppendOutlineHalfStarLeft:()=>B,glyphAppendPc1:()=>F,glyphAppendPhoto2:()=>H,glyphAppendPhotoCollection:()=>q,glyphAppendPlay:()=>G,glyphAppendPlayButton:()=>z,glyphAppendPlayButtonLarge:()=>X,glyphAppendRemoveFrom:()=>$,glyphAppendRightDoubleQuote:()=>V,glyphAppendSearch:()=>W,glyphAppendShare:()=>K,glyphAppendShoppingCart:()=>j,glyphAppendSystem:()=>Y,glyphAppendTvMonitor:()=>Z,glyphAppendUnknown:()=>Q,glyphAppendUp:()=>J,glyphAppendView:()=>ee,glyphAppendWarning:()=>te,glyphAppendWorld:()=>ne,glyphAppendXbox360:()=>re,glyphAppendXboxController:()=>oe,glyphAppendXboxGamePassInline:()=>ae,glyphAppendXboxGoldInline:()=>ie,glyphAppendXboxOneConsole:()=>se,glyphPrepend:()=>le,glyphPrependAccept:()=>ce,glyphPrependAdd:()=>ue,glyphPrependAddfriend:()=>de,glyphPrependBack:()=>he,glyphPrependCancel:()=>me,glyphPrependCellphone:()=>pe,glyphPrependCheckMark:()=>ge,glyphPrependCheckbox:()=>fe,glyphPrependCheckboxComposite:()=>ve,glyphPrependCheckboxIndeterminate:()=>_e,glyphPrependChevronDown:()=>ye,glyphPrependChevronLeft:()=>be,glyphPrependChevronRight:()=>Ce,glyphPrependChevronUp:()=>Ee,glyphPrependCirclePlus:()=>Se,glyphPrependClear:()=>Te,glyphPrependDevices2:()=>we,glyphPrependDevices3:()=>Ie,glyphPrependDownload:()=>ke,glyphPrependEdit:()=>Ae,glyphPrependFavoriteStar:()=>Pe,glyphPrependFavoriteStarFill:()=>xe,glyphPrependForward:()=>Re,glyphPrependGamePassUltimateInline2:()=>Ne,glyphPrependGlobalNavButton:()=>Oe,glyphPrependHeart:()=>Le,glyphPrependHololens:()=>Me,glyphPrependHololens2:()=>Ue,glyphPrependIndicatorDotFilled:()=>De,glyphPrependIndicatorDotOutline:()=>Be,glyphPrependInfo:()=>Fe,glyphPrependLarge:()=>He,glyphPrependLeftDoubleQuote:()=>qe,glyphPrependLeftNavButton:()=>Ge,glyphPrependLock:()=>ze,glyphPrependMobileTablet:()=>Xe,glyphPrependMore:()=>$e,glyphPrependOutlineHalfStarLeft:()=>Ve,glyphPrependPc1:()=>We,glyphPrependPhoto2:()=>Ke,glyphPrependPhotoCollection:()=>je,glyphPrependPlay:()=>Ye,glyphPrependPlayButton:()=>Ze,glyphPrependPlayButtonLarge:()=>Qe,glyphPrependRefresh:()=>Je,glyphPrependRemoveFrom:()=>et,glyphPrependRightDoubleQuote:()=>tt,glyphPrependRightNavButton:()=>nt,glyphPrependSearch:()=>rt,glyphPrependSettings:()=>ot,glyphPrependShare:()=>at,glyphPrependShoppingCart:()=>it,glyphPrependSystem:()=>st,glyphPrependTvMonitor:()=>lt,glyphPrependUnknown:()=>ct,glyphPrependUp:()=>ut,glyphPrependView:()=>dt,glyphPrependWarning:()=>ht,glyphPrependWorld:()=>mt,glyphPrependXbox360:()=>pt,glyphPrependXboxController:()=>gt,glyphPrependXboxGamePassInline:()=>ft,glyphPrependXboxGoldInline:()=>vt,glyphPrependXboxLogo:()=>_t,glyphPrependXboxOneConsole:()=>yt,iconDark:()=>bt,iconLight:()=>Ct,themeDark:()=>Et});var r="glyphs-module__glyph-append___OI+uT",o="glyphs-module__glyph-append-accept___rCNBE",a="glyphs-module__glyph-append-add___jKL9C",i="glyphs-module__glyph-append-addfriend___AMG1w",s="glyphs-module__glyph-append-back___5p0Jf",l="glyphs-module__glyph-append-cancel___YMnQ5",c="glyphs-module__glyph-append-cellphone___oTSFI",u="glyphs-module__glyph-append-check-mark___V5VWG",d="glyphs-module__glyph-append-checkbox___8nls1",h="glyphs-module__glyph-append-checkbox-composite___iHp0x",m="glyphs-module__glyph-append-checkbox-indeterminate___T-ulf",p="glyphs-module__glyph-append-chevron-down___9K3SH",g="glyphs-module__glyph-append-chevron-left___dO4Uf",f="glyphs-module__glyph-append-chevron-right___5yfs4",v="glyphs-module__glyph-append-chevron-up___d6dWj",_="glyphs-module__glyph-append-circle-plus___jQcuH",y="glyphs-module__glyph-append-clear___ET1XX",b="glyphs-module__glyph-append-devices2___4Ez4E",C="glyphs-module__glyph-append-devices3___7aL1m",E="glyphs-module__glyph-append-download___tOBO6",S="glyphs-module__glyph-append-favorite-star___zJZ6z",T="glyphs-module__glyph-append-favorite-star-fill___a8-nP",w="glyphs-module__glyph-append-forward___P5wkG",I="glyphs-module__glyph-append-game-pass-ultimate-inline2___YKEag",k="glyphs-module__glyph-append-global-nav-button___eloPe",A="glyphs-module__glyph-append-heart___PkuLy",P="glyphs-module__glyph-append-hololens___H8zbf",x="glyphs-module__glyph-append-hololens2___Cu99N",R="glyphs-module__glyph-append-indicator-dot-filled___l1hQ6",N="glyphs-module__glyph-append-indicator-dot-outline___jxyrP",O="glyphs-module__glyph-append-info___slXyG",L="glyphs-module__glyph-append-large___P+7BY",M="glyphs-module__glyph-append-left-double-quote___ZF02V",U="glyphs-module__glyph-append-mobile-tablet___xDncc",D="glyphs-module__glyph-append-more___w3xct",B="glyphs-module__glyph-append-outline-half-star-left___meELd",F="glyphs-module__glyph-append-pc1___fz7wo",H="glyphs-module__glyph-append-photo-2___+vjWQ",q="glyphs-module__glyph-append-photo-collection___aDoib",G="glyphs-module__glyph-append-play___-TeDo",z="glyphs-module__glyph-append-play-button___QNG5U",X="glyphs-module__glyph-append-play-button-large___BaqkA",$="glyphs-module__glyph-append-remove-from___dHrn5",V="glyphs-module__glyph-append-right-double-quote___Fpuvp",W="glyphs-module__glyph-append-search___34t-v",K="glyphs-module__glyph-append-share___uDYVJ",j="glyphs-module__glyph-append-shopping-cart___UaK2t",Y="glyphs-module__glyph-append-system___Xy-K5",Z="glyphs-module__glyph-append-tv-monitor___0m9ZZ",Q="glyphs-module__glyph-append-unknown___pYAW8",J="glyphs-module__glyph-append-up___y5-yo",ee="glyphs-module__glyph-append-view___KSbZz",te="glyphs-module__glyph-append-warning___gAzlm",ne="glyphs-module__glyph-append-world___2HBIp",re="glyphs-module__glyph-append-xbox-360___nvQNQ",oe="glyphs-module__glyph-append-xbox-controller___XK3L-",ae="glyphs-module__glyph-append-xbox-game-pass-inline___06jyD",ie="glyphs-module__glyph-append-xbox-gold-inline___o4enR",se="glyphs-module__glyph-append-xbox-one-console___SyaZF",le="glyphs-module__glyph-prepend___3JVuT",ce="glyphs-module__glyph-prepend-accept___+kcpP",ue="glyphs-module__glyph-prepend-add___mM12g",de="glyphs-module__glyph-prepend-addfriend___MG44h",he="glyphs-module__glyph-prepend-back___Qwp6G",me="glyphs-module__glyph-prepend-cancel___y7FpY",pe="glyphs-module__glyph-prepend-cellphone___yQzl1",ge="glyphs-module__glyph-prepend-check-mark___rNbY6",fe="glyphs-module__glyph-prepend-checkbox___aJLma",ve="glyphs-module__glyph-prepend-checkbox-composite___hJdBX",_e="glyphs-module__glyph-prepend-checkbox-indeterminate___TZ7qv",ye="glyphs-module__glyph-prepend-chevron-down___HaWoo",be="glyphs-module__glyph-prepend-chevron-left___wCh07",Ce="glyphs-module__glyph-prepend-chevron-right___i5kNz",Ee="glyphs-module__glyph-prepend-chevron-up___MwQU+",Se="glyphs-module__glyph-prepend-circle-plus___1K0B3",Te="glyphs-module__glyph-prepend-clear___HtP-q",we="glyphs-module__glyph-prepend-devices2___iRrCE",Ie="glyphs-module__glyph-prepend-devices3___BtI7Q",ke="glyphs-module__glyph-prepend-download___WyDOy",Ae="glyphs-module__glyph-prepend-edit___h8cF9",Pe="glyphs-module__glyph-prepend-favorite-star___c96kR",xe="glyphs-module__glyph-prepend-favorite-star-fill___1qrFe",Re="glyphs-module__glyph-prepend-forward___ajA84",Ne="glyphs-module__glyph-prepend-game-pass-ultimate-inline2___+Sgth",Oe="glyphs-module__glyph-prepend-global-nav-button___E7zhT",Le="glyphs-module__glyph-prepend-heart___P5PWA",Me="glyphs-module__glyph-prepend-hololens___HzDfu",Ue="glyphs-module__glyph-prepend-hololens2___QJgN2",De="glyphs-module__glyph-prepend-indicator-dot-filled___oEvZi",Be="glyphs-module__glyph-prepend-indicator-dot-outline___oH4ZI",Fe="glyphs-module__glyph-prepend-info___-f4L5",He="glyphs-module__glyph-prepend-large___Djlca",qe="glyphs-module__glyph-prepend-left-double-quote___Bd1Ng",Ge="glyphs-module__glyph-prepend-left-nav-button___CuF3q",ze="glyphs-module__glyph-prepend-lock___qBoOt",Xe="glyphs-module__glyph-prepend-mobile-tablet___6FxOx",$e="glyphs-module__glyph-prepend-more___fQ+ek",Ve="glyphs-module__glyph-prepend-outline-half-star-left___iHSRF",We="glyphs-module__glyph-prepend-pc1___vD0Mq",Ke="glyphs-module__glyph-prepend-photo-2___B3T0c",je="glyphs-module__glyph-prepend-photo-collection___AHssK",Ye="glyphs-module__glyph-prepend-play___Z2fUg",Ze="glyphs-module__glyph-prepend-play-button___DFam9",Qe="glyphs-module__glyph-prepend-play-button-large___-jFsI",Je="glyphs-module__glyph-prepend-refresh___pPI6R",et="glyphs-module__glyph-prepend-remove-from___dHWhB",tt="glyphs-module__glyph-prepend-right-double-quote___cOPzG",nt="glyphs-module__glyph-prepend-right-nav-button___pHrjs",rt="glyphs-module__glyph-prepend-search___48bPS",ot="glyphs-module__glyph-prepend-settings___9VaES",at="glyphs-module__glyph-prepend-share___2lgcL",it="glyphs-module__glyph-prepend-shopping-cart___A2rV2",st="glyphs-module__glyph-prepend-system___U3sme",lt="glyphs-module__glyph-prepend-tv-monitor___Vt8cR",ct="glyphs-module__glyph-prepend-unknown___3+MpP",ut="glyphs-module__glyph-prepend-up___9NO-H",dt="glyphs-module__glyph-prepend-view___eN79I",ht="glyphs-module__glyph-prepend-warning___qrsAg",mt="glyphs-module__glyph-prepend-world___TDqcl",pt="glyphs-module__glyph-prepend-xbox-360___8jXhX",gt="glyphs-module__glyph-prepend-xbox-controller___zE3hU",ft="glyphs-module__glyph-prepend-xbox-game-pass-inline___nMaw+",vt="glyphs-module__glyph-prepend-xbox-gold-inline___rnfNz",_t="glyphs-module__glyph-prepend-xbox-logo___UPYDx",yt="glyphs-module__glyph-prepend-xbox-one-console___gguBl",bt="#303030",Ct="#ffffff",Et="glyphs-module__theme-dark___kLjEq"},578489:(e,t,n)=>{"use strict";n.d(t,{DK:()=>r,IA:()=>o});var r="linkCommonStyles-module__linkButton___yK8-x",o="linkCommonStyles-module__linkIconOverrides___OYA+9"},289872:(e,t,n)=>{"use strict";n.d(t,{$c:()=>g,A9:()=>o,AW:()=>v,D3:()=>m,F$:()=>D,Gg:()=>k,HX:()=>a,Km:()=>R,Lt:()=>f,O8:()=>s,Q:()=>l,Qc:()=>y,RH:()=>u,RO:()=>A,S7:()=>x,TH:()=>i,ZN:()=>C,a2:()=>M,af:()=>E,bS:()=>N,cN:()=>O,d7:()=>S,ef:()=>F,f7:()=>p,fe:()=>b,gC:()=>B,hO:()=>U,jG:()=>c,lO:()=>r,ll:()=>d,q2:()=>_,tE:()=>h,uo:()=>P,vM:()=>L,yy:()=>I,z1:()=>w,zD:()=>H,zO:()=>T});var r="typography-module__badgeText___Pt0Ti",o="typography-module__browseAllGamesDesktopTitle___bZQr4",a="typography-module__browseAllGamesMobileLandscapeTitle___NkIkM",i="typography-module__browseAllGamesMobileSubTitle___h+8KD",s="typography-module__browseAllGamesMobileTitle___CGeCx",l="typography-module__featuredContentDesktopTitle___aSQ8E",c="typography-module__featuredContentMobileTitle___HRmee",u="typography-module__featuredContentSubtitle___dox6v",d="typography-module__launchpadBody___bAczf",h="typography-module__launchpadCtaExtraText___CUcKt",m="typography-module__launchpadHeader___skM2v",p="typography-module__launchpadlearningLinkWindowsText___cN1Ul",g="typography-module__notes___tC1Jo",f="typography-module__searchGamesTitle___RVAyR",v="typography-module__segoeCaption___2bWwO",_="typography-module__segoeParagraph___Grscl",y="typography-module__segoeTitle___FFISB",b="typography-module__snoByrdButtonLabel___TE3oM",C="typography-module__spotLightSubtitlePortrait___RB7M0",E="typography-module__spotlightSubtitleLandscape___F5WdR",S="typography-module__spotlightTitleLandscape___9qmEz",T="typography-module__spotlightTitlePortrait___Wz0y7",w="typography-module__wishlistButtonFont___FW-gq",I="typography-module__wishlistProductItem___voqNk",k="typography-module__xdsBody1___+TQLW",A="typography-module__xdsBody2___RNdGY",P="typography-module__xdsButtonText___T7YHc",x="typography-module__xdsCaption___RlQY3",R="typography-module__xdsCaption2___9GItG",N="typography-module__xdsH1___7oFBA",O="typography-module__xdsH2___AvVH4",L="typography-module__xdsH3___kw4Hq",M="typography-module__xdsH5___XwldZ",U="typography-module__xdsH6___c1AoA",D="typography-module__xdsSubTitle1___N02-X",B="typography-module__xdsSubTitle2___6d6Da",F="typography-module__xdsSubTitle3___MaN9J",H="typography-module__xdsTag3___87dP9"},504371:(e,t,n)=>{"use strict";n.d(t,{e:()=>o,s:()=>r});var r="PreviewControls-module__previewToggleButton___-e6--",o="PreviewControls-module__serverRefreshButton___+PKti"},703286:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,_:()=>r});var r="Shell-module__shellContainer___YmZHe",o="Shell-module__testPanelTriggerContainer___+Cu59"},647933:(e,t,n)=>{"use strict";n.d(t,{VK:()=>u,rU:()=>f});var r=n(107267),o=n(836981),a=n(202784),i=n(217547),s=n(807896),l=n(231461),c=n(161898),u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,i.lX)(t.props),t}return(0,o.Z)(t,e),t.prototype.render=function(){return a.createElement(r.F0,{history:this.history,children:this.props.children})},t}(a.Component);a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?(0,i.ob)(e,null,null,t):e},m=function(e){return e},p=a.forwardRef;"undefined"===typeof p&&(p=m);var g=p((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=(0,l.Z)(e,["innerRef","navigate","onClick"]),c=i.target,u=(0,s.Z)({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=m!==p&&t||n,a.createElement("a",u)}));var f=p((function(e,t){var n=e.component,o=void 0===n?g:n,u=e.replace,f=e.to,v=e.innerRef,_=(0,l.Z)(e,["component","replace","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=e.history,r=h(d(f,e.location),e.location),l=r?n.createHref(r):"",g=(0,s.Z)({},_,{href:l,navigate:function(){var t=d(f,e.location),r=(0,i.Ep)(e.location)===(0,i.Ep)(h(t));(u||r?n.replace:n.push)(t)}});return m!==p?g.ref=t||v:g.innerRef=v,a.createElement(o,g)}))})),v=function(e){return e},_=a.forwardRef;"undefined"===typeof _&&(_=v);_((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,i=e.activeClassName,u=void 0===i?"active":i,m=e.activeStyle,p=e.className,g=e.exact,y=e.isActive,b=e.location,C=e.sensitive,E=e.strict,S=e.style,T=e.to,w=e.innerRef,I=(0,l.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=b||e.location,i=h(d(T,n),n),l=i.pathname,k=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=k?(0,r.LX)(n.pathname,{path:k,exact:g,sensitive:C,strict:E}):null,P=!!(y?y(A,n):A),x="function"===typeof p?p(P):p,R="function"===typeof S?S(P):S;P&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,u),R=(0,s.Z)({},R,m));var N=(0,s.Z)({"aria-current":P&&o||null,className:x,style:R,to:i},I);return v!==_?N.ref=t||w:N.innerRef=w,a.createElement(f,N)}))}))},107267:(e,t,n)=>{"use strict";n.d(t,{$B:()=>M,AW:()=>T,F0:()=>g,Gn:()=>y,LX:()=>S,TH:()=>O,UO:()=>L,k6:()=>N,l_:()=>b,rs:()=>x,s6:()=>p});var r=n(836981),o=n(202784),a=n(217547),i=n(181549),s=n(161898),l=n(807896),c=n(779056),u=n.n(c),d=(n(148570),n(231461)),h=(n(373463),function(e){var t=(0,i.Z)();return t.displayName=e,t}),m=h("Router-History"),p=h("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,r.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.Component);o.Component;var f=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.Component);var v={},_=0;function y(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(v[e])return v[e];var t=u().compile(e);return _<1e4&&(v[e]=t,_++),t}(e)(t,{pretty:!0})}function b(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.createElement(p.Consumer,null,(function(e){e||(0,s.Z)(!1);var r=e.history,c=e.staticContext,u=i?r.push:r.replace,d=(0,a.ob)(t?"string"===typeof n?y(n,t.params):(0,l.Z)({},n,{pathname:y(n.pathname,t.params)}):n);return c?(u(d),null):o.createElement(f,{onMount:function(){u(d)},onUpdate:function(e,t){var n=(0,a.ob)(t.to);(0,a.Hp)(n,(0,l.Z)({},d,{key:n.key}))||u(d)},to:n})}))}var C={},E=0;function S(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,a=void 0!==o&&o,i=n.strict,s=void 0!==i&&i,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=C[n]||(C[n]={});if(r[e])return r[e];var o=[],a={regexp:u()(e,o,t),keys:o};return E<1e4&&(r[e]=a,E++),a}(n,{end:a,strict:s,sensitive:c}),o=r.regexp,i=r.keys,l=o.exec(e);if(!l)return null;var d=l[0],h=l.slice(1),m=e===d;return a&&!m?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:m,params:i.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var T=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return o.createElement(p.Consumer,null,(function(t){t||(0,s.Z)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?S(n.pathname,e.props):t.match,a=(0,l.Z)({},t,{location:n,match:r}),i=e.props,c=i.children,u=i.component,d=i.render;return Array.isArray(c)&&function(e){return 0===o.Children.count(e)}(c)&&(c=null),o.createElement(p.Provider,{value:a},a.match?c?"function"===typeof c?c(a):c:u?o.createElement(u,a):d?d(a):null:"function"===typeof c?c(a):null)}))},t}(o.Component);function w(e){return"/"===e.charAt(0)?e:"/"+e}function I(e,t){if(!e)return t;var n=w(e);return 0!==t.pathname.indexOf(n)?t:(0,l.Z)({},t,{pathname:t.pathname.substr(n.length)})}function k(e){return"string"===typeof e?e:(0,a.Ep)(e)}function A(e){return function(){(0,s.Z)(!1)}}function P(){}o.Component;var x=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return o.createElement(p.Consumer,null,(function(t){t||(0,s.Z)(!1);var n,r,a=e.props.location||t.location;return o.Children.forEach(e.props.children,(function(e){if(null==r&&o.isValidElement(e)){n=e;var i=e.props.path||e.props.from;r=i?S(a.pathname,(0,l.Z)({},e.props,{path:i})):t.match}})),r?o.cloneElement(n,{location:a,computedMatch:r}):null}))},t}(o.Component);var R=o.useContext;function N(){return R(m)}function O(){return R(p).location}function L(){var e=R(p).match;return e?e.params:{}}function M(e){var t=O(),n=R(p).match;return e?S(t.pathname,e):n}},303726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(807896),o=n(231461),a=n(836981);function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(202784),l=n(214657),c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=i(n.className,r):n.setAttribute("class",i(n.className&&n.className.baseVal||"",r)));var n,r}))},u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}(0,a.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,a=n.done;this.appliedClasses[t]={},r&&c(e,r),o&&c(e,o),a&&c(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return s.createElement(l.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);u.defaultProps={classNames:""},u.propTypes={};const d=u},603358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o,a=n(836981),i=n(202784),s=n(214657),l=n(677008);var c="out-in",u="in-out",d=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},h=((r={})[c]=function(e){var t=e.current,n=e.changeState;return i.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){n(s.d0,null)}))})},r[u]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,i.cloneElement(r,{in:!0,onEntered:d(r,"onEntered",(function(){n(s.d0)}))})]},r),m=((o={})[c]=function(e){var t=e.children,n=e.changeState;return i.cloneElement(t,{in:!0,onEntered:d(t,"onEntered",(function(){n(s.cn,i.cloneElement(t,{in:!0}))}))})},o[u]=function(e){var t=e.current,n=e.children,r=e.changeState;return[i.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){r(s.cn,i.cloneElement(n,{in:!0}))}))}),i.cloneElement(n,{in:!0})]},o),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:s.cn,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===s.d0&&e.mode===u?{status:s.d0}:!t.current||(n=t.current,r=e.children,n===r||i.isValidElement(n)&&i.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:i.cloneElement(e.children,{in:!0})}:{status:s.Ix};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,o=this.state,a=o.status,c=o.current,u={children:n,current:c,changeState:this.changeState,status:a};switch(a){case s.d0:e=m[r](u);break;case s.Ix:e=h[r](u);break;case s.cn:e=c}return i.createElement(l.Z.Provider,{value:{isMounting:!this.appeared}},e)},t}(i.Component);p.propTypes={},p.defaultProps={mode:c};const g=p},214657:(e,t,n)=>{"use strict";n.d(t,{cn:()=>h,d0:()=>d,Ix:()=>m,ZP:()=>f});var r=n(231461),o=n(836981),a=n(202784),i=n(928316);const s=!1;var l=n(677008),c="unmounted",u="exited",d="entering",h="entered",m="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=u,r.appearStatus=d):o=h:o=t.unmountOnExit||t.mountOnEnter?c:u,r.state={status:o},r.nextCallback=null,r}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==h&&(t=d):n!==d&&n!==h||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===u&&this.setState({status:c})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=o[0],l=o[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||s?this.safeSetState({status:h},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,l),this.safeSetState({status:d},(function(){t.props.onEntering(a,l),t.onTransitionEnd(u,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(a,l)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!s?(this.props.onExit(r),this.safeSetState({status:m},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(l.Z.Provider,{value:null},"function"===typeof n?n(e,o):a.cloneElement(a.Children.only(n),o))},t}(a.Component);function g(){}p.contextType=l.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},p.UNMOUNTED=c,p.EXITED=u,p.ENTERING=d,p.ENTERED=h,p.EXITING=m;const f=p},677008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(202784).createContext(null)},201738:(e,t,n)=>{var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),o=a(e);function a(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:o=a(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",a="function"===typeof Object.create,i={__proto__:[]}instanceof Array,s=!a&&!i,l={create:a?function(){return re(Object.create(null))}:i?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),u="object"===typeof process&&"true"==="MISSING_ENV_VAR".REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,h=u||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,m=new(u||"function"!==typeof WeakMap?ne():WeakMap);function p(e,t,n,r){if(M(n)){if(!X(e))throw new TypeError;if(!V(t))throw new TypeError;return T(e,t)}if(!X(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!M(r)&&!U(r))throw new TypeError;return U(r)&&(r=void 0),w(e,t,n=z(n),r)}function g(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!M(r)&&!W(r))throw new TypeError;R(e,t,n,r)}return n}function f(e,t,n,r){if(!B(n))throw new TypeError;return M(r)||(r=z(r)),R(e,t,n,r)}function v(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=z(n)),k(e,t,n)}function _(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=z(n)),A(e,t,n)}function y(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=z(n)),P(e,t,n)}function b(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=z(n)),x(e,t,n)}function C(e,t){if(!B(e))throw new TypeError;return M(t)||(t=z(t)),N(e,t)}function E(e,t){if(!B(e))throw new TypeError;return M(t)||(t=z(t)),O(e,t)}function S(e,t,n){if(!B(t))throw new TypeError;M(n)||(n=z(n));var r=I(t,n,!1);if(M(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=m.get(t);return o.delete(n),o.size>0||m.delete(t),!0}function T(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!M(r)&&!U(r)){if(!V(r))throw new TypeError;t=r}}return t}function w(e,t,n,r){for(var o=e.length-1;o>=0;--o){var a=(0,e[o])(t,n,r);if(!M(a)&&!U(a)){if(!B(a))throw new TypeError;r=a}}return r}function I(e,t,n){var r=m.get(e);if(M(r)){if(!n)return;r=new d,m.set(e,r)}var o=r.get(t);if(M(o)){if(!n)return;o=new d,r.set(t,o)}return o}function k(e,t,n){if(A(e,t,n))return!0;var r=J(t);return!U(r)&&k(e,r,n)}function A(e,t,n){var r=I(t,n,!1);return!M(r)&&q(r.has(e))}function P(e,t,n){if(A(e,t,n))return x(e,t,n);var r=J(t);return U(r)?void 0:P(e,r,n)}function x(e,t,n){var r=I(t,n,!1);if(!M(r))return r.get(e)}function R(e,t,n,r){I(n,r,!0).set(e,t)}function N(e,t){var n=O(e,t),r=J(e);if(null===r)return n;var o=N(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var a=new h,i=[],s=0,l=n;s<l.length;s++){var c=l[s];a.has(c)||(a.add(c),i.push(c))}for(var u=0,d=o;u<d.length;u++){c=d[u];a.has(c)||(a.add(c),i.push(c))}return i}function O(e,t){var n=[],r=I(e,t,!1);if(M(r))return n;for(var o=j(r.keys()),a=0;;){var i=Z(o);if(!i)return n.length=a,n;var s=Y(i);try{n[a]=s}catch(l){try{Q(o)}finally{throw l}}a++}}function L(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function M(e){return void 0===e}function U(e){return null===e}function D(e){return"symbol"===typeof e}function B(e){return"object"===typeof e?null!==e:"function"===typeof e}function F(e,t){switch(L(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=K(e,r);if(void 0!==o){var a=o.call(e,n);if(B(a))throw new TypeError;return a}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString;if($(n))if(!B(o=n.call(e)))return o;if($(r=e.valueOf))if(!B(o=r.call(e)))return o}else{var r;if($(r=e.valueOf))if(!B(o=r.call(e)))return o;var o,a=e.toString;if($(a))if(!B(o=a.call(e)))return o}throw new TypeError}function q(e){return!!e}function G(e){return""+e}function z(e){var t=F(e,3);return D(t)?t:G(t)}function X(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function $(e){return"function"===typeof e}function V(e){return"function"===typeof e}function W(e){switch(L(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!$(n))throw new TypeError;return n}}function j(e){var t=K(e,o);if(!$(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function Y(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function Q(e){var t=e.return;t&&t.call(e)}function J(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!==typeof o||o===e?t:o}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,a)},t.prototype.entries=function(){return new n(this._keys,this._values,i)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function a(e,t){return t}function i(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ne(){var e=16,n=l.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return a(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(l.has(n,e));return n[e]=!0,e}function a(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:l.create()})}return e[r]}function i(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):i(new Uint8Array(e),e):i(new Array(e),e)}function c(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",g),e("defineMetadata",f),e("hasMetadata",v),e("hasOwnMetadata",_),e("getMetadata",y),e("getOwnMetadata",b),e("getMetadataKeys",C),e("getOwnMetadataKeys",E),e("deleteMetadata",S)}(o)}()}(r||(r={}))},597698:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSelector:()=>l,createSelectorCreator:()=>s,createStructuredSelector:()=>c,defaultEqualityCheck:()=>o,defaultMemoize:()=>a});var r="NOT_FOUND";var o=function(e,t){return e===t};function a(e,t){var n="object"===typeof t?t:{equalityCheck:t},a=n.equalityCheck,i=void 0===a?o:a,s=n.maxSize,l=void 0===s?1:s,c=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(i),d=1===l?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:r},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function o(e){var o=n.findIndex((function(n){return t(e,n.key)}));if(o>-1){var a=n[o];return o>0&&(n.splice(o,1),n.unshift(a)),a.value}return r}return{get:o,put:function(t,a){o(t)===r&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,u);function h(){var t=d.get(arguments);if(t===r){if(t=e.apply(null,arguments),c){var n=d.getEntries(),o=n.find((function(e){return c(e.value,t)}));o&&(t=o.value)}d.put(arguments,t)}return t}return h.clearCache=function(){return d.clear()},h}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a,s=0,l={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(l=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=l,d=u.memoizeOptions,h=void 0===d?n:d,m=Array.isArray(h)?h:[h],p=i(r),g=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(m)),f=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return a=g.apply(null,e)}));return Object.assign(f,{resultFunc:c,memoizedResultFunc:g,dependencies:p,lastResult:function(){return a},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),f};return o}var l=s(a),c=function(e,t){if(void 0===t&&(t=l),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},957302:function(e,t){var n;!function(r){let o;function a(e,t){const n=e.charCodeAt(t);if(isNaN(n))throw new RangeError("Index "+t+' out of range for string "'+e+'"; please open an issue at https://github.com/Trott/slug/issues/new');if(n<55296||n>57343)return[e.charAt(t),t];if(n>=55296&&n<=56319){if(e.length<=t+1)return[" ",t];const n=e.charCodeAt(t+1);return n<56320||n>57343?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const r=e.charCodeAt(t-1);if(r<55296||r>56319)return[" ",t];throw new Error('String "'+e+'" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new')}function i(e,t){let n=l(e,t);if(""===n){let r="";for(let t=0;t<e.length;t++){const n=a(e,t);t=n[1],r+=n[0]}n=l(o(r),t)}return n}o=window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let n="";for(let r,o,a=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(0|a)||(i="=",a%1);n+=i.charAt(63&r>>8-a%1*8)){if(o=t.charCodeAt(a+=3/4),o>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return n},"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");const n=Object(e);for(let o=1;o<arguments.length;o++){const e=arguments[o];if(null!==e&&void 0!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},writable:!0,configurable:!0});const s={bg:{"\u0419":"Y","\u0439":"y",X:"H",x:"h","\u0426":"Ts","\u0446":"ts","\u0429":"Sht","\u0449":"sht","\u042a":"A","\u044a":"a","\u042c":"Y","\u044c":"y"},de:{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue"},sr:{"\u0111":"dj","\u0110":"DJ"},uk:{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"}};function l(e,t){if("string"!==typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"===typeof t&&(t={replacement:t}),(t=t?Object.assign({},t):{}).mode=t.mode||i.defaults.mode;const n=i.defaults.modes[t.mode],r=["replacement","multicharmap","charmap","remove","lower","trim"];for(let i,s=0,u=r.length;s<u;s++)i=r[s],t[i]=i in t?t[i]:n[i];const o=s[t.locale]||{};let a=[];for(let i in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,i))continue;const e=i.length;-1===a.indexOf(e)&&a.push(e)}a=a.sort((function(e,t){return t-e}));const l="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let c="";for(let i,s=0,u=e.length;s<u;s++){i=e[s];let n=!1;for(let r=0;r<a.length;r++){const o=a[r],l=e.substr(s,o);if(t.multicharmap[l]){s+=o-1,i=t.multicharmap[l],n=!0;break}}n||(i=o[i]?o[i]:t.charmap[i]?t.charmap[i]:i.includes(t.replacement)?i.replace(t.replacement," "):i.replace(l,"")),c+=i}return t.remove&&(c=c.replace(t.remove,"")),t.trim&&(c=c.trim()),c=c.replace(/\s+/g,t.replacement),t.lower&&(c=c.toLowerCase()),c}const c={"\u092b\u093c":"Fi","\u0917\u093c":"Ghi","\u0916\u093c":"Khi","\u0915\u093c":"Qi","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u05d1\u05b4\u05d9":"i","\u05d1\u05b5":"e","\u05d1\u05b5\u05d9":"e","\u05d1\u05b6":"e","\u05d1\u05b7":"a","\u05d1\u05b8":"a","\u05d1\u05b9":"o","\u05d5\u05b9":"o","\u05d1\u05bb":"u","\u05d5\u05bc":"u","\u05d1\u05bc":"b","\u05db\u05bc":"k","\u05da\u05bc":"k","\u05e4\u05bc":"p","\u05e9\u05c1":"sh","\u05e9\u05c2":"s","\u05d1\u05b0":"e","\u05d7\u05b1":"e","\u05d7\u05b2":"a","\u05d7\u05b3":"o","\u05d1\u05b4":"i"},u={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u0150":"O","\xd8":"O","\u014c":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0170":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u0151":"o","\xf8":"o","\u014d":"o","\u0152":"OE","\u0153":"oe","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0171":"u","\xfd":"y","\xfe":"th","\xff":"y","\u1e9e":"SS","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ac":"a","\u03ad":"e","\u03af":"i","\u03cc":"o","\u03cd":"y","\u03ae":"h","\u03ce":"w","\u03c2":"s","\u03ca":"i","\u03b0":"y","\u03cb":"y","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u0386":"A","\u0388":"E","\u038a":"I","\u038c":"O","\u038e":"Y","\u0389":"H","\u038f":"W","\u03aa":"I","\u03ab":"Y","\u015f":"s","\u015e":"S","\u0131":"i","\u0130":"I","\u011f":"g","\u011e":"G","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"Yo","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0490":"G","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0491":"g","\u010d":"c","\u010f":"d","\u011b":"e","\u0148":"n","\u0159":"r","\u0161":"s","\u0165":"t","\u016f":"u","\u017e":"z","\u010c":"C","\u010e":"D","\u011a":"E","\u0147":"N","\u0158":"R","\u0160":"S","\u0164":"T","\u016e":"U","\u017d":"Z","\u013e":"l","\u013a":"l","\u0155":"r","\u013d":"L","\u0139":"L","\u0154":"R","\u0105":"a","\u0107":"c","\u0119":"e","\u0142":"l","\u0144":"n","\u015b":"s","\u017a":"z","\u017c":"z","\u0104":"A","\u0106":"C","\u0118":"E","\u0141":"L","\u0143":"N","\u015a":"S","\u0179":"Z","\u017b":"Z","\u0101":"a","\u0113":"e","\u0123":"g","\u012b":"i","\u0137":"k","\u013c":"l","\u0146":"n","\u016b":"u","\u0100":"A","\u0112":"E","\u0122":"G","\u012a":"I","\u0136":"K","\u013b":"L","\u0145":"N","\u016a":"U","\u0623":"a","\u0625":"i","\u0628":"b","\u062a":"t","\u062b":"th","\u062c":"g","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"d","\u0637":"t","\u0638":"th","\u0639":"aa","\u063a":"gh","\u0641":"f","\u0642":"k","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"o","\u064a":"y","\u0621":"aa","\u0629":"a","\u0622":"a","\u0627":"a","\u067e":"p","\u0698":"zh","\u06af":"g","\u0686":"ch","\u06a9":"k","\u06cc":"i","\u0117":"e","\u012f":"i","\u0173":"u","\u0116":"E","\u012e":"I","\u0172":"U","\u021b":"t","\u021a":"T","\u0163":"t","\u0162":"T","\u0219":"s","\u0218":"S","\u0103":"a","\u0102":"A","\u1ea0":"A","\u1ea2":"A","\u1ea6":"A","\u1ea4":"A","\u1eac":"A","\u1ea8":"A","\u1eaa":"A","\u1eb0":"A","\u1eae":"A","\u1eb6":"A","\u1eb2":"A","\u1eb4":"A","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ec0":"E","\u1ebe":"E","\u1ec6":"E","\u1ec2":"E","\u1ec4":"E","\u1eca":"I","\u1ec8":"I","\u0128":"I","\u1ecc":"O","\u1ece":"O","\u1ed2":"O","\u1ed0":"O","\u1ed8":"O","\u1ed4":"O","\u1ed6":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee2":"O","\u1ede":"O","\u1ee0":"O","\u1ee4":"U","\u1ee6":"U","\u0168":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1ef0":"U","\u1eec":"U","\u1eee":"U","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0110":"D","\u1ea1":"a","\u1ea3":"a","\u1ea7":"a","\u1ea5":"a","\u1ead":"a","\u1ea9":"a","\u1eab":"a","\u1eb1":"a","\u1eaf":"a","\u1eb7":"a","\u1eb3":"a","\u1eb5":"a","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ec1":"e","\u1ebf":"e","\u1ec7":"e","\u1ec3":"e","\u1ec5":"e","\u1ecb":"i","\u1ec9":"i","\u0129":"i","\u1ecd":"o","\u1ecf":"o","\u1ed3":"o","\u1ed1":"o","\u1ed9":"o","\u1ed5":"o","\u1ed7":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee3":"o","\u1edf":"o","\u1ee1":"o","\u1ee5":"u","\u1ee7":"u","\u0169":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1ef1":"u","\u1eed":"u","\u1eef":"u","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u0111":"d","\u04d8":"AE","\u04d9":"ae","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04e8":"OE","\u04e9":"oe","\u0452":"dj","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045f":"dz","\u0402":"Dj","\u0408":"j","\u0409":"Lj","\u040a":"Nj","\u040b":"C","\u040f":"Dz","\u01cc":"nj","\u01c9":"lj","\u01cb":"NJ","\u01c8":"LJ","\u0905":"a","\u0906":"aa","\u090f":"e","\u0908":"ii","\u090d":"ei","\u090e":"ae","\u0910":"ai","\u0907":"i","\u0913":"o","\u0911":"oi","\u0912":"oii","\u090a":"uu","\u0914":"ou","\u0909":"u","\u092c":"B","\u092d":"Bha","\u091a":"Ca","\u091b":"Chha","\u0921":"Da","\u0922":"Dha","\u092b":"Fa","\u0917":"Ga","\u0918":"Gha","\u0917\u093c":"Ghi","\u0939":"Ha","\u091c":"Ja","\u091d":"Jha","\u0915":"Ka","\u0916":"Kha","\u0916\u093c":"Khi","\u0932":"L","\u0933":"Li","\u090c":"Li","\u0934":"Lii","\u0961":"Lii","\u092e":"Ma","\u0928":"Na","\u0919":"Na","\u091e":"Nia","\u0923":"Nae","\u0929":"Ni","\u0950":"oms","\u092a":"Pa","\u0915\u093c":"Qi","\u0930":"Ra","\u090b":"Ri","\u0960":"Ri","\u0931":"Ri","\u0938":"Sa","\u0936":"Sha","\u0937":"Shha","\u091f":"Ta","\u0924":"Ta","\u0920":"Tha","\u0926":"Tha","\u0925":"Tha","\u0927":"Thha","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u0935":"Va","\u092f":"Ya","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u0259":"e","\u018f":"E","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"p","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u05d1":"v","\u05d2\u05bc":"g","\u05d2":"g","\u05d3":"d","\u05d3\u05bc":"d","\u05d4":"h","\u05d5":"v","\u05d6":"z","\u05d7":"h","\u05d8":"t","\u05d9":"y","\u05db":"kh","\u05da":"kh","\u05dc":"l","\u05de":"m","\u05dd":"m","\u05e0":"n","\u05df":"n","\u05e1":"s","\u05e4":"f","\u05e3":"f","\u05e5":"ts","\u05e6":"ts","\u05e7":"k","\u05e8":"r","\u05ea\u05bc":"t","\u05ea":"t"};i.charmap=Object.assign({},u),i.multicharmap=Object.assign({},c),i.defaults={charmap:i.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:i.charmap,multicharmap:i.multicharmap,trim:!0},pretty:{replacement:"-",remove:null,lower:!0,charmap:i.charmap,multicharmap:i.multicharmap,trim:!0}},multicharmap:i.multicharmap},i.reset=function(){i.defaults.modes.rfc3986.charmap=i.defaults.modes.pretty.charmap=i.charmap=i.defaults.charmap=Object.assign({},u),i.defaults.modes.rfc3986.multicharmap=i.defaults.modes.pretty.multicharmap=i.multicharmap=i.defaults.multicharmap=Object.assign({},c)},i.extend=function(e){const t=Object.keys(e),n={},r={};for(let o=0;o<t.length;o++)t[o].length>1?n[t[o]]=e[t[o]]:r[t[o]]=e[t[o]];Object.assign(i.charmap,r),Object.assign(i.multicharmap,n)},void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},860838:(e,t,n)=>{"use strict";function r(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}n.d(t,{Z:()=>o});const o=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var o=r(t),a=r(n);return o!==t||a!==n?e(o,a):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1}},499829:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/manifest-icon-dev-512.55747289.png"},935766:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/loading-xenon-dark-theme.7093517a.svg"},922181:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/loading-xenon-light-theme.c616a483.svg"},169573:(e,t,n)=>{"use strict";n.d(t,{Lx:()=>Qi});var r,o=n(249523);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(r||(r={}));class a{constructor(e,t,n){this.level=r.Info;const i=e||a.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||(()=>{}),this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level="number"===typeof i.logLevel?i.logLevel:r.Info,this.correlationId=i.correlationId||o.gT.EMPTY_STRING,this.packageName=t||o.gT.EMPTY_STRING,this.packageVersion=n||o.gT.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:r.Info}}clone(e,t,n){return new a({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${r[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const i="AAD",s="OIDC",l="none",c="unexpected_error",u="post_request_failed",d={[c]:"Unexpected error in authentication.",[u]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class h extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,h.prototype),this.errorCode=e||o.gT.EMPTY_STRING,this.errorMessage=t||o.gT.EMPTY_STRING,this.subError=n||o.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function m(e,t){return new h(e,t?`${d[e]} ${t}`:d[e])}const p="client_info_decoding_error",g="client_info_empty_error",f="token_parsing_error",v="null_or_empty_token",_="endpoints_resolution_error",y="network_error",b="openid_config_error",C="hash_not_deserialized",E="invalid_state",S="state_mismatch",T="state_not_found",w="nonce_mismatch",I="auth_time_not_found",k="max_age_transpired",A="multiple_matching_tokens",P="multiple_matching_accounts",x="multiple_matching_appMetadata",R="request_cannot_be_made",N="cannot_remove_empty_scope",O="cannot_append_scopeset",L="empty_input_scopeset",M="device_code_polling_cancelled",U="device_code_expired",D="device_code_unknown_error",B="no_account_in_silent_request",F="invalid_cache_record",H="invalid_cache_environment",q="no_account_found",G="no_crypto_object",z="unexpected_credential_type",X="invalid_assertion",$="invalid_client_credential",V="token_refresh_required",W="user_timeout_reached",K="token_claims_cnf_required_for_signedjwt",j="authorization_code_missing_from_server_response",Y="binding_key_not_removed",Z="end_session_endpoint_not_supported",Q="key_id_missing",J="no_network_connectivity",ee="user_canceled",te="missing_tenant_id_error",ne="method_not_implemented",re="nested_app_auth_bridge_disabled",oe={[p]:"The client info could not be parsed/decoded correctly",[g]:"The client info was empty",[f]:"Token cannot be parsed",[v]:"The token is null or empty",[_]:"Endpoints cannot be resolved",[y]:"Network request failed",[b]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[C]:"The hash parameters could not be deserialized",[E]:"State was not the expected format",[S]:"State mismatch error",[T]:"State not found",[w]:"Nonce mismatch error",[I]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[k]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[A]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[P]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[x]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[R]:"Token request cannot be made without authorization code or refresh token.",[N]:"Cannot remove null or empty scope from ScopeSet",[O]:"Cannot append ScopeSet",[L]:"Empty input ScopeSet cannot be processed",[M]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[U]:"Device code is expired.",[D]:"Device code stopped polling for unknown reasons.",[B]:"Please pass an account object, silent flow is not supported without account information",[F]:"Cache record object was null or undefined.",[H]:"Invalid environment when attempting to create cache entry",[q]:"No account found in cache for given key.",[G]:"No crypto object detected.",[z]:"Unexpected credential type.",[X]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[$]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[V]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[W]:"User defined timeout for device code polling reached",[K]:"Cannot generate a POP jwt if the token_claims are not populated",[j]:"Server response does not contain an authorization code to proceed",[Y]:"Could not remove the credential's binding key from storage.",[Z]:"The provided authority does not support logout",[Q]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[J]:"No network connectivity. Check your internet connection.",[ee]:"User cancelled the flow.",[te]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[ne]:"This method has not been implemented",[re]:"The nested app auth bridge is disabled"};class ae extends h{constructor(e,t){super(e,t?`${oe[e]}: ${t}`:oe[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,ae.prototype)}}function ie(e,t){return new ae(e,t)}const se={createNewGuid:()=>{throw ie(ne)},base64Decode:()=>{throw ie(ne)},base64Encode:()=>{throw ie(ne)},base64UrlEncode:()=>{throw ie(ne)},encodeKid:()=>{throw ie(ne)},async getPublicKeyThumbprint(){throw ie(ne)},async removeTokenBindingKey(){throw ie(ne)},async clearKeystore(){throw ie(ne)},async signJwt(){throw ie(ne)},async hashString(){throw ie(ne)}},le="@azure/msal-common",ce="14.14.0";function ue(e,t){const n=function(e){if(!e)throw ie(v);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw ie(f);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw ie(f)}}function de(e,t){if(0===t||Date.now()-3e5>e+t)throw ie(k)}function he(){return Math.round((new Date).getTime()/1e3)}function me(e,t){const n=Number(e)||0;return he()+t>n}function pe(e){return[Ee(e),Se(e),Te(e),we(e),Ie(e)].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function ge(e,t,n,r,a){return{credentialType:o.d3.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:a}}function fe(e,t,n,r,a,i,s,l,c,u,d,h,m,p,g){const f={homeAccountId:e,credentialType:o.d3.ACCESS_TOKEN,secret:n,cachedAt:he().toString(),expiresOn:s.toString(),extendedExpiresOn:l.toString(),environment:t,clientId:r,realm:a,target:i,tokenType:d||o.hO.BEARER};if(h&&(f.userAssertionHash=h),u&&(f.refreshOn=u.toString()),p&&(f.requestedClaims=p,f.requestedClaimsHash=g),f.tokenType?.toLowerCase()!==o.hO.BEARER.toLowerCase())switch(f.credentialType=o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME,f.tokenType){case o.hO.POP:const e=ue(n,c);if(!e?.cnf?.kid)throw ie(K);f.keyId=e.cnf.kid;break;case o.hO.SSH:f.keyId=m}return f}function ve(e,t,n,r,a,i,s){const l={credentialType:o.d3.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(l.userAssertionHash=i),a&&(l.familyId=a),s&&(l.expiresOn=s.toString()),l}function _e(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function ye(e){return!!e&&(_e(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===o.d3.ACCESS_TOKEN||e.credentialType===o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function be(e){return!!e&&(_e(e)&&e.hasOwnProperty("realm")&&e.credentialType===o.d3.ID_TOKEN)}function Ce(e){return!!e&&(_e(e)&&e.credentialType===o.d3.REFRESH_TOKEN)}function Ee(e){return[e.homeAccountId,e.environment].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function Se(e){const t=e.credentialType===o.d3.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function Te(e){return(e.target||"").toLowerCase()}function we(e){return(e.requestedClaimsHash||"").toLowerCase()}function Ie(e){return e.tokenType&&e.tokenType.toLowerCase()!==o.hO.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function ke(){return he()+o.QU.REFRESH_TIME_SECONDS}function Ae(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Pe(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function xe(e){return e.expiresAt<=he()}const Re="redirect_uri_empty",Ne="claims_request_parsing_error",Oe="authority_uri_insecure",Le="url_parse_error",Me="empty_url_error",Ue="empty_input_scopes_error",De="invalid_prompt_value",Be="invalid_claims",Fe="token_request_empty",He="logout_request_empty",qe="invalid_code_challenge_method",Ge="pkce_params_missing",ze="invalid_cloud_discovery_metadata",Xe="invalid_authority_metadata",$e="untrusted_authority",Ve="missing_ssh_jwk",We="missing_ssh_kid",Ke="missing_nonce_authentication_header",je="invalid_authentication_header",Ye="cannot_set_OIDCOptions",Ze="cannot_allow_native_broker",Qe="authority_mismatch",Je={[Re]:"A redirect URI is required for all calls, and none has been set.",[Ne]:"Could not parse the given claims request object.",[Oe]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Le]:"URL could not be parsed into appropriate segments.",[Me]:"URL was empty or null.",[Ue]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[De]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Be]:"Given claims parameter must be a stringified JSON object.",[Fe]:"Token request was empty and not found in cache.",[He]:"The logout request was null or undefined.",[qe]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ge]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[ze]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Xe]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[$e]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Ve]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[We]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Ke]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[je]:"Invalid authentication header provided",[Ye]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Ze]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Qe]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class et extends h{constructor(e){super(e,Je[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,et.prototype)}}function tt(e){return new et(e)}class nt{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class rt{constructor(e){const t=e?nt.trimArrayEntries([...e]):[],n=t?nt.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||o.gT.EMPTY_STRING).split(" ");return new rt(t)}static createSearchScopes(e){const t=new rt(e);return t.containsOnlyOIDCScopes()?t.removeScope(o.gT.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw tt(Ue)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new rt(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return o.$f.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw ie(O)}}removeScope(e){if(!e)throw ie(N);this.scopes.delete(e.trim())}removeOIDCScopes(){o.$f.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw ie(L);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw ie(L);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return o.gT.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function ot(e,t){if(!e)throw ie(g);try{const n=t(e);return JSON.parse(n)}catch(n){throw ie(p)}}function at(e){if(!e)throw ie(p);const t=e.split(o.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?o.gT.EMPTY_STRING:t[1]}}function it(e,t){return!!e&&!!t&&e===t.split(".")[1]}function st(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:a,tfp:i,acr:s}=r,l=o||i||s||"";return{tenantId:l,localAccountId:t||n||"",name:a,isHomeTenant:it(l,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:it(n,e)}}function lt(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...a}=st(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...a,idTokenClaims:n,idToken:r},o}return o}const ct=0,ut=1,dt=2,ht=3;function mt(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class pt{generateAccountId(){return[this.homeAccountId,this.environment].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return pt.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){const r=new pt;let a;t.authorityType===ut?r.authorityType=o.iR.ADFS_ACCOUNT_TYPE:t.protocolMode===i?r.authorityType=o.iR.MSSTS_ACCOUNT_TYPE:r.authorityType=o.iR.GENERIC_ACCOUNT_TYPE,e.clientInfo&&n&&(a=ot(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw ie(H);r.environment=s,r.realm=a?.utid||mt(e.idTokenClaims)||"",r.localAccountId=a?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const l=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,c=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=l||c||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=st(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new pt;return r.authorityType=e.authorityType||o.iR.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==ut&&t!==dt){if(e)try{const t=ot(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(a){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function gt(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function ft(e){if(!e||e.indexOf("=")<0)return null;try{const t=gt(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw ie(C)}return null}class vt{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw tt(Me);e.includes("#")||(this._urlString=vt.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return nt.endsWith(t,"?")?t=t.slice(0,-1):nt.endsWith(t,"?/")&&(t=t.slice(0,-2)),nt.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw tt(Le)}if(!e.HostNameAndPort||!e.PathSegments)throw tt(Le);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw tt(Oe)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return vt.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==o.Nb.COMMON&&n[0]!==o.Nb.ORGANIZATIONS||(n[0]=e),vt.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw tt(Le);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw tt(Le);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===o.gT.FORWARD_SLASH){const n=new vt(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new vt(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!ft(e)}}const _t={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},yt={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},bt=new Set;function Ct(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=Et(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function Et(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}yt.metadata.forEach((e=>{e.aliases.forEach((e=>{bt.add(e)}))}));const St="cache_quota_exceeded",Tt="cache_error_unknown",wt={[St]:"Exceeded cache storage capacity.",[Tt]:"Unexpected error occurred when using cache storage."};class It extends Error{constructor(e,t){const n=t||(wt[e]?wt[e]:wt.cache_error_unknown);super(`${e}: ${n}`),Object.setPrototypeOf(this,It.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class kt{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(le,ce),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,a=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const i=this.getIdToken(e,t,n.tenantId);return i&&(o=ue(i.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(a=lt(e,n,o,i?.secret),a)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const a=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const i=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,a,e,n);t&&i.push(t)})),i}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw ie(F);try{e.account&&this.setAccount(e.account),e.idToken&&!1!==t?.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&!1!==t?.accessToken&&await this.saveAccessToken(e.accessToken),e.refreshToken&&!1!==t?.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,n),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new It(St)):new It(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,n),new It(Tt))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=rt.fromString(e.target),o=[];n.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,t,!1))return;const n=this.getAccessTokenCredential(e);if(n&&this.credentialMatchesFilter(n,t)){rt.fromString(n.target).intersectingScopeSets(r)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},a=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));a&&0===a.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(o.Bv.CACHE_KEY_SEPARATOR).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(o.Bv.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(o.d3.ID_TOKEN.toLowerCase())&&-1===t.indexOf(o.d3.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(o.d3.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(o.d3.REFRESH_TOKEN.toLowerCase())>-1){const e=`${o.d3.REFRESH_TOKEN}${o.Bv.CACHE_KEY_SEPARATOR}${this.clientId}${o.Bv.CACHE_KEY_SEPARATOR}`,n=`${o.d3.REFRESH_TOKEN}${o.Bv.CACHE_KEY_SEPARATOR}${o.ch}${o.Bv.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===o.hO.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}updateOutdatedCachedAccount(e,t,n){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const r=this.getAccountKeys().filter((e=>e.startsWith(t.homeAccountId))),o=[];r.forEach((e=>{const t=this.getCachedAccountEntity(e);t&&o.push(t)}));const a=o.find((e=>it(e.realm,e.homeAccountId)))||o[0];a.tenantProfiles=o.map((e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:it(e.realm,e.homeAccountId)})));const i=kt.toObject(new pt,{...a}),s=i.generateAccountKey();return r.forEach((t=>{t!==s&&this.removeOutdatedAccount(e)})),this.setAccount(i),n?.verbose("Updated an outdated account entity in the cache"),i}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===o.hO.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw ie(Y)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=pt.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,a){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:o.d3.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(i,t),l=s.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let t=s;if(!n){const n=new Map;s.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&a&&r.addFields({multiMatchedID:s.size},a),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,a,i){this.commonLogger.trace("CacheManager - getAccessToken called");const s=rt.createSearchScopes(t.scopes),l=t.authenticationScheme||o.hO.BEARER,c=l&&l.toLowerCase()!==o.hO.BEARER.toLowerCase()?o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:o.d3.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:s,tokenType:l,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},d=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,u,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,u)&&h.push(t)}}));const m=h.length;return m<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):m>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),h.forEach((e=>{this.removeAccessToken(pe(e))})),a&&i&&a.addFields({multiMatchedAT:h.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),h[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,a){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?o.ch:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:o.d3.REFRESH_TOKEN,clientId:this.clientId,familyId:i},l=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];l.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,s)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,s)&&c.push(t)}}));const u=c.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&r&&a&&r.addFields({multiMatchedRT:u},a),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw ie(x);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==o.ch)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const a=new vt(r).getUrlComponents().HostNameAndPort;n=Ct(a,e.cloudDiscoveryMetadata?.metadata,o.pQ.CONFIG,t)||Ct(a,yt.metadata,o.pQ.HARDCODED_VALUES,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==o.d3.ACCESS_TOKEN&&e.credentialType!==o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return rt.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(o.dg)}isAuthorityMetadata(e){return-1!==e.indexOf(o.QU.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return`${o.QU.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class At extends kt{setAccount(){throw ie(ne)}getAccount(){throw ie(ne)}getCachedAccountEntity(){throw ie(ne)}setIdTokenCredential(){throw ie(ne)}getIdTokenCredential(){throw ie(ne)}setAccessTokenCredential(){throw ie(ne)}getAccessTokenCredential(){throw ie(ne)}setRefreshTokenCredential(){throw ie(ne)}getRefreshTokenCredential(){throw ie(ne)}setAppMetadata(){throw ie(ne)}getAppMetadata(){throw ie(ne)}setServerTelemetry(){throw ie(ne)}getServerTelemetry(){throw ie(ne)}setAuthorityMetadata(){throw ie(ne)}getAuthorityMetadata(){throw ie(ne)}getAuthorityMetadataKeys(){throw ie(ne)}setThrottlingCache(){throw ie(ne)}getThrottlingCache(){throw ie(ne)}removeItem(){throw ie(ne)}getKeys(){throw ie(ne)}getAccountKeys(){throw ie(ne)}getTokenKeys(){throw ie(ne)}async clear(){throw ie(ne)}updateCredentialCacheKey(){throw ie(ne)}removeOutdatedAccount(){throw ie(ne)}}const Pt={tokenRenewalOffsetSeconds:o.$A,preventCorsPreflight:!1},xt={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:r.Info,correlationId:o.gT.EMPTY_STRING},Rt={claimsBasedCachingEnabled:!1},Nt={async sendGetRequestAsync(){throw ie(ne)},async sendPostRequestAsync(){throw ie(ne)}},Ot={sku:o.gT.SKU,version:ce,cpu:o.gT.EMPTY_STRING,os:o.gT.EMPTY_STRING},Lt={clientSecret:o.gT.EMPTY_STRING,clientAssertion:void 0},Mt={azureCloudInstance:l,tenant:`${o.gT.DEFAULT_COMMON_TENANT}`},Ut={application:{appName:"",appVersion:""}};function Dt(e){return e.authOptions.authority.options.protocolMode===s}const Bt={sendGetRequestAsync:()=>Promise.reject(ie(ne)),sendPostRequestAsync:()=>Promise.reject(ie(ne))},Ft="acquireTokenByCode",Ht="acquireTokenByRefreshToken",qt="acquireTokenSilent",Gt="acquireTokenSilentAsync",zt="acquireTokenPopup",Xt="acquireTokenPreRedirect",$t="acquireTokenRedirect",Vt="cryptoOptsGetPublicKeyThumbprint",Wt="cryptoOptsSignJwt",Kt="silentCacheClientAcquireToken",jt="silentIframeClientAcquireToken",Yt="awaitConcurrentIframe",Zt="silentRefreshClientAcquireToken",Qt="ssoSilent",Jt="standardInteractionClientGetDiscoveredAuthority",en="fetchAccountIdWithNativeBroker",tn="nativeInteractionClientAcquireToken",nn="refreshTokenClientExecutePostToTokenEndpoint",rn="authorizationCodeClientExecutePostToTokenEndpoint",on="refreshTokenClientExecuteTokenRequest",an="refreshTokenClientAcquireToken",sn="refreshTokenClientAcquireTokenWithCachedRefreshToken",ln="refreshTokenClientAcquireTokenByRefreshToken",cn="refreshTokenClientCreateTokenRequestBody",un="acquireTokenFromCache",dn="silentFlowClientAcquireCachedToken",hn="silentFlowClientGenerateResultFromCacheRecord",mn="acquireTokenBySilentIframe",pn="initializeBaseRequest",gn="initializeSilentRequest",fn="initializeClientApplication",vn="silentIframeClientTokenHelper",_n="silentHandlerInitiateAuthRequest",yn="silentHandlerMonitorIframeForHash",bn="silentHandlerLoadFrame",Cn="silentHandlerLoadFrameSync",En="standardInteractionClientCreateAuthCodeClient",Sn="standardInteractionClientGetClientConfiguration",Tn="standardInteractionClientInitializeAuthorizationRequest",wn="standardInteractionClientInitializeAuthorizationCodeRequest",In="getAuthCodeUrl",kn="handleCodeResponseFromServer",An="handleCodeResponse",Pn="updateTokenEndpointAuthority",xn="authClientAcquireToken",Rn="authClientExecuteTokenRequest",Nn="authClientCreateTokenRequestBody",On="authClientCreateQueryString",Ln="popTokenGenerateCnf",Mn="popTokenGenerateKid",Un="handleServerTokenResponse",Dn="deserializeResponse",Bn="authorityFactoryCreateDiscoveredInstance",Fn="authorityResolveEndpointsAsync",Hn="authorityGetCloudDiscoveryMetadataFromNetwork",qn="authorityUpdateCloudDiscoveryMetadata",Gn="authorityGetEndpointMetadataFromNetwork",zn="authorityUpdateEndpointMetadata",Xn="authorityUpdateMetadataWithRegionalInformation",$n="regionDiscoveryDetectRegion",Vn="regionDiscoveryGetRegionFromIMDS",Wn="regionDiscoveryGetCurrentVersion",Kn="acquireTokenByCodeAsync",jn="handleRedirectPromise",Yn="handleNativeRedirectPromise",Zn="nativeMessageHandlerHandshake",Qn="removeHiddenIframe",Jn="clearTokensAndKeysWithClaims",er="cacheManagerGetRefreshToken",tr="generatePkceCodes",nr="generateCodeVerifier",rr="generateCodeChallengeFromVerifier",or="sha256Digest",ar="getRandomValues",ir=(new Map([[Ft,"ATByCode"],[Ht,"ATByRT"],[qt,"ATS"],[Gt,"ATSAsync"],[zt,"ATPopup"],[$t,"ATRedirect"],[Vt,"CryptoGetPKThumb"],[Wt,"CryptoSignJwt"],[Kt,"SltCacheClientAT"],[jt,"SltIframeClientAT"],[Zt,"SltRClientAT"],[Qt,"SsoSlt"],[Jt,"StdIntClientGetDiscAuth"],[en,"FetchAccIdWithNtvBroker"],[tn,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[nn,"RTClientExecPost"],[rn,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[on,"RTClientExecTReq"],[an,"RTClientAT"],[sn,"RTClientATWithCachedRT"],[ln,"RTClientATByRT"],[cn,"RTClientCreateTReqBody"],[un,"ATFromCache"],[dn,"SltFlowClientATCached"],[hn,"SltFlowClientGenResFromCache"],[mn,"ATBySltIframe"],[pn,"InitBaseReq"],[gn,"InitSltReq"],[fn,"InitClientApplication"],[vn,"SIClientTHelper"],[_n,"SHandlerInitAuthReq"],[yn,"SltHandlerMonitorIframeForHash"],[bn,"SHandlerLoadFrame"],[Cn,"SHandlerLoadFrameSync"],[En,"StdIntClientCreateAuthCodeClient"],[Sn,"StdIntClientGetClientConf"],[Tn,"StdIntClientInitAuthReq"],[wn,"StdIntClientInitAuthCodeReq"],[In,"GetAuthCodeUrl"],[kn,"HandleCodeResFromServer"],[An,"HandleCodeResp"],[Pn,"UpdTEndpointAuth"],[xn,"AuthClientAT"],[Rn,"AuthClientExecTReq"],[Nn,"AuthClientCreateTReqBody"],[On,"AuthClientCreateQueryStr"],[Ln,"PopTGenCnf"],[Mn,"PopTGenKid"],[Un,"HandleServerTRes"],[Dn,"DeserializeRes"],[Bn,"AuthFactCreateDiscInst"],[Fn,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[Hn,"AuthGetCDMetaFromNet"],[qn,"AuthUpdCDMeta"],[Gn,"AuthUpdCDMetaFromNet"],[zn,"AuthUpdEndpointMeta"],[Xn,"AuthUpdMetaWithRegInfo"],[$n,"RegDiscDetectReg"],[Vn,"RegDiscGetRegFromIMDS"],[Wn,"RegDiscGetCurrentVer"],[Kn,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[jn,"HandleRedirectPromise"],[Yn,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[Zn,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[Qn,"RemoveHiddenIframe"],[Jn,"ClearTAndKeysWithClaims"],[er,"CacheManagerGetRT"],[tr,"GenPkceCodes"],[nr,"GenCodeVerifier"],[rr,"GenCodeChallengeFromVerifier"],[or,"Sha256Digest"],[ar,"GetRandomValues"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]);class sr{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class lr{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ir,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new sr}}startPerformanceMeasurement(){return new sr}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}var cr=n(649845),ur=n(127694);const dr="pkce_not_created",hr="crypto_nonexistent",mr="empty_navigate_uri",pr="hash_empty_error",gr="no_state_in_hash",fr="hash_does_not_contain_known_properties",vr="unable_to_parse_state",_r="state_interaction_type_mismatch",yr="interaction_in_progress",br="popup_window_error",Cr="empty_window_error",Er="user_cancelled",Sr="monitor_popup_timeout",Tr="monitor_window_timeout",wr="redirect_in_iframe",Ir="block_iframe_reload",kr="block_nested_popups",Ar="iframe_closed_prematurely",Pr="silent_logout_unsupported",xr="no_account_error",Rr="silent_prompt_value_error",Nr="no_token_request_cache_error",Or="unable_to_parse_token_request_cache_error",Lr="no_cached_authority_error",Mr="auth_request_not_set_error",Ur="invalid_cache_type",Dr="non_browser_environment",Br="database_not_open",Fr="no_network_connectivity",Hr="post_request_failed",qr="get_request_failed",Gr="failed_to_parse_response",zr="unable_to_load_token",Xr="crypto_key_not_found",$r="auth_code_required",Vr="auth_code_or_nativeAccountId_required",Wr="spa_code_and_nativeAccountId_present",Kr="database_unavailable",jr="unable_to_acquire_token_from_native_platform",Yr="native_handshake_timeout",Zr="native_extension_not_installed",Qr="native_connection_not_established",Jr="uninitialized_public_client_application",eo="native_prompt_not_supported",to="invalid_base64_string",no="invalid_pop_token_request",ro="For more visit: aka.ms/msaljs/browser-errors",oo={[dr]:"The PKCE code challenge and verifier could not be generated.",[hr]:"The crypto object or function is not available.",[mr]:"Navigation URI is empty. Please check stack trace for more info.",[pr]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${ro}`,[gr]:"Hash does not contain state. Please verify that the request originated from msal.",[fr]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${ro}`,[vr]:"Unable to parse state. Please verify that the request originated from msal.",[_r]:"Hash contains state but the interaction type does not match the caller.",[yr]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${ro}`,[br]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Cr]:"window.open returned null or undefined window object.",[Er]:"User cancelled the flow.",[Sr]:`Token acquisition in popup failed due to timeout.  ${ro}`,[Tr]:`Token acquisition in iframe failed due to timeout.  ${ro}`,[wr]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Ir]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${ro}`,[kr]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Ar]:"The iframe being monitored was closed prematurely.",[Pr]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[xr]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Rr]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Nr]:"No token request found in cache.",[Or]:"The cached token request could not be parsed.",[Lr]:"No cached authority found.",[Mr]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Ur]:"Invalid cache type",[Dr]:"Login and token requests are not supported in non-browser environments.",[Br]:"Database is not open!",[Fr]:"No network connectivity. Check your internet connection.",[Hr]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[qr]:"Network request failed. Please check the network trace to determine root cause.",[Gr]:"Failed to parse network response. Check network trace.",[zr]:"Error loading token to cache.",[Xr]:"Cryptographic Key or Keypair not found in browser storage.",[$r]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Vr]:"An authorization code or nativeAccountId must be provided to this flow.",[Wr]:"Request cannot contain both spa code and native account id.",[Kr]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[jr]:`Unable to acquire token from native platform.  ${ro}`,[Yr]:"Timed out while attempting to establish connection to browser extension",[Zr]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Qr]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${ro}`,[Jr]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${ro}`,[eo]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[to]:"Invalid base64 encoded string.",[no]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."};class ao extends h{constructor(e){super(e,oo[e]),Object.setPrototypeOf(this,ao.prototype),this.name="BrowserAuthError"}}function io(e){return new ao(e)}class so{async sendGetRequestAsync(e,t){let n;try{n=await fetch(e,{method:cr.EC.GET,headers:this.getFetchHeaders(t)})}catch(r){throw window.navigator.onLine?io(qr):io(Fr)}try{return{headers:this.getHeaderDict(n.headers),body:await n.json(),status:n.status}}catch(r){throw io(Gr)}}async sendPostRequestAsync(e,t){const n=t&&t.body||o.gT.EMPTY_STRING;let r;try{r=await fetch(e,{method:cr.EC.POST,headers:this.getFetchHeaders(t),body:n})}catch(a){throw window.navigator.onLine?io(Hr):io(Fr)}try{return{headers:this.getHeaderDict(r.headers),body:await r.json(),status:r.status}}catch(a){throw io(Gr)}}getFetchHeaders(e){const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.keys(n).forEach((e=>{t.append(e,n[e])})),t}getHeaderDict(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}}const lo=1e4;const co="3.20.0";class uo{static loggerCallback(e,t){switch(e){case r.Error:return void console.error(t);case r.Info:return void console.info(t);case r.Verbose:return void console.debug(t);case r.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment=!0,this.config=function({auth:e,cache:t,system:n,telemetry:c},u){const d={clientId:o.gT.EMPTY_STRING,authority:`${o.gT.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:o.gT.EMPTY_STRING,authorityMetadata:o.gT.EMPTY_STRING,redirectUri:o.gT.EMPTY_STRING,postLogoutRedirectUri:o.gT.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:i,OIDCOptions:{serverResponseType:o.rg.FRAGMENT,defaultScopes:[o.gT.OPENID_SCOPE,o.gT.PROFILE_SCOPE,o.gT.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:l,tenant:o.gT.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},h={cacheLocation:cr.Ix.SessionStorage,temporaryCacheLocation:cr.Ix.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!t||t.cacheLocation!==cr.Ix.LocalStorage),claimsBasedCachingEnabled:!1},m={loggerCallback:()=>{},logLevel:r.Info,piiLoggingEnabled:!1},p={...{...Pt,loggerOptions:m,networkClient:u?new so:Bt,navigationClient:new ur.d,loadFrameTimeout:0,windowHashTimeout:n?.loadFrameTimeout||6e4,iframeHashTimeout:n?.loadFrameTimeout||lo,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:n?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:cr.qx.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:n?.loggerOptions||m},g={application:{appName:o.gT.EMPTY_STRING,appVersion:o.gT.EMPTY_STRING},client:new lr};e?.protocolMode!==s&&e?.OIDCOptions&&new a(p.loggerOptions).warning(JSON.stringify(tt(Ye)));if(e?.protocolMode&&e.protocolMode!==i&&p?.allowNativeBroker)throw tt(Ze);return{auth:{...d,...e,OIDCOptions:{...d.OIDCOptions,...e?.OIDCOptions}},cache:{...h,...t},system:p,telemetry:{...g,...c}}}(e,this.browserEnvironment);try{t=window[cr.Ix.SessionStorage]}catch(m){}const n=t?.getItem(cr.bg),c=t?.getItem(cr.PK)?.toLowerCase(),u="true"===c||"false"!==c&&void 0,d={...this.config.system.loggerOptions},h=n&&Object.keys(r).includes(n)?r[n]:void 0;h&&(d.loggerCallback=uo.loggerCallback,d.logLevel=h),void 0!==u&&(d.piiLoggingEnabled=u),this.logger=new a(d,"@azure/msal-browser",co),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class ho extends uo{getModuleName(){return ho.MODULE_NAME}getId(){return ho.ID}async initialize(){return this.available=!0,this.available}}ho.MODULE_NAME="",ho.ID="StandardOperatingContext";const mo="missing_kid_error",po="missing_alg_error",go={[mo]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[po]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class fo extends h{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,fo.prototype)}}function vo(e){return new fo(e,go[e])}class _o{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw vo(mo);if(!e.alg)throw vo(po);const t=new _o({typ:e.typ||o.xd.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}function yo(e){return encodeURIComponent(Co(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function bo(e){return Eo(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Co(e){return Eo((new TextEncoder).encode(e))}function Eo(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function So(e){return(new TextDecoder).decode(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw io(to)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}(e))}const To="SHA-256",wo=new Uint8Array([1,0,1]),Io="0123456789abcdef",ko=new Uint32Array(1),Ao={name:"RSASSA-PKCS1-v1_5",hash:To,modulusLength:2048,publicExponent:wo};async function Po(e,t,n){t?.addQueueMeasurement(or,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(To,r)}function xo(e){return window.crypto.getRandomValues(e)}function Ro(){return window.crypto.getRandomValues(ko),ko[0]}function No(){const e=Date.now(),t=1024*Ro()+(1023&Ro()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,a=Ro();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=a>>>24,n[13]=a>>>16,n[14]=a>>>8,n[15]=a;let i="";for(let s=0;s<n.length;s++)i+=Io.charAt(n[s]>>>4),i+=Io.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(i+="-");return i}async function Oo(e){return window.crypto.subtle.exportKey(cr.Mm,e)}async function Lo(e){const t=await Po(e);return bo(new Uint8Array(t))}class Mo{constructor(){this.dbName=cr.H4,this.version=cr.kd,this.tableName=cr.Gv,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(io(Kr))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(io(Br));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(io(Br));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(io(Br));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(io(Br));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(io(Br));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(cr.H4),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Uo{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Do{constructor(e){this.inMemoryCache=new Uo,this.indexedDBCache=new Mo,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof ao&&e.errorCode===Kr))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Bo{constructor(e,t){this.logger=e,function(e){if(!("crypto"in window))throw e.error("BrowserCrypto: crypto interface is unavailable"),io(hr);e.verbose("BrowserCrypto: modern crypto interface available")}(e),this.cache=new Do(this.logger),this.performanceClient=t}createNewGuid(){return No()}base64Encode(e){return Co(e)}base64Decode(e){return So(e)}base64UrlEncode(e){return yo(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(Vt,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(Ao,e,t)}(Bo.EXTRACTABLE,Bo.POP_KEY_USAGES),r=await Oo(n.publicKey),o=Fo({e:r.e,kty:r.kty,n:r.n}),a=await this.hashString(o),i=await Oo(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey(cr.Mm,e,Ao,t,n)}(i,!1,["sign"]);return await this.cache.setItem(a,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(Wt,r),a=await this.cache.getItem(t);if(!a)throw io(Xr);const i=await Oo(a.publicKey),s=Fo(i),l=yo(JSON.stringify({kid:t})),c=yo(_o.getShrHeaderString({...n?.header,alg:i.alg,kid:l}));e.cnf={jwk:JSON.parse(s)};const u=`${c}.${yo(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(Ao,e,t)}(a.privateKey,d),m=`${u}.${bo(new Uint8Array(h))}`;return o&&o.end({success:!0}),m}async hashString(e){return Lo(e)}}function Fo(e){return JSON.stringify(e,Object.keys(e).sort())}Bo.POP_KEY_USAGES=["sign","verify"],Bo.EXTRACTABLE=!0;const Ho=(e,t,n,r,o)=>(...a)=>{n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...a);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(s){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(s))}catch(s){n.trace("Unable to print error message.")}throw i?.end({success:!1},s),s}},qo=(e,t,n,r,o)=>(...a)=>{n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...a).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1},e),e}))};class Go{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement($n,this.correlationId);let n=e;if(n)t.region_source=o.W.ENVIRONMENT_VARIABLE;else{const e=Go.IMDS_OPTIONS;try{const r=await qo(this.getRegionFromIMDS.bind(this),Vn,this.logger,this.performanceClient,this.correlationId)(o.gT.IMDS_VERSION,e);if(r.status===o.YY.httpSuccess&&(n=r.body,t.region_source=o.W.IMDS),r.status===o.YY.httpBadRequest){const r=await qo(this.getCurrentVersion.bind(this),Wn,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=o.W.FAILED_AUTO_DETECTION,null;const a=await qo(this.getRegionFromIMDS.bind(this),Vn,this.logger,this.performanceClient,this.correlationId)(r,e);a.status===o.YY.httpSuccess&&(n=a.body,t.region_source=o.W.IMDS)}}catch(r){return t.region_source=o.W.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=o.W.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(Vn,this.correlationId),this.networkInterface.sendGetRequestAsync(`${o.gT.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,o.gT.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(Wn,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${o.gT.IMDS_ENDPOINT}?format=json`,e);return t.status===o.YY.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}Go.IMDS_OPTIONS={headers:{Metadata:"true"}};class zo{constructor(e,t,n,r,o,a,i,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=i,this.correlationId=a,this.managedIdentity=s||!1,this.regionDiscovery=new Go(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(o.gT.CIAM_AUTH_URL))return ht;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case o.gT.ADFS:return ut;case o.gT.DSTS:return dt}return ct}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new vt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw ie(_)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw ie(_)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw ie(_)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ie(Z);return this.replacePath(this.metadata.end_session_endpoint)}throw ie(_)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw ie(_)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw ie(_)}canReplaceTenant(e){return 1===e.PathSegments.length&&!zo.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ct&&this.protocolMode===i}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new vt(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let a=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new vt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==e&&(this.logger.verbose(`Replacing tenant domain name ${a} with id ${e}`),a=e)}e!==a&&(t=t.replace(`/${a}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ut||this.protocolMode!==i&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Fn,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await qo(this.updateCloudDiscoveryMetadata.bind(this),qn,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await qo(this.updateEndpointMetadata.bind(this),zn,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:ke(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==o.pQ.CACHE&&n?.source!==o.pQ.CACHE&&(e.expiresAt=ke(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(zn,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===o.pQ.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){Ae(e,await qo(this.updateMetadataWithRegionalInformation.bind(this),Xn,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await qo(this.getEndpointMetadataFromNetwork.bind(this),Gn,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await qo(this.updateMetadataWithRegionalInformation.bind(this),Xn,this.logger,this.performanceClient,this.correlationId)(n)),Ae(e,n,!0),o.pQ.NETWORK;throw ie(b,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Ae(e,t,!1),{source:o.pQ.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Ae(e,t,!1),{source:o.pQ.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=xe(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:o.pQ.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new vt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw tt(Xe)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Gn,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in _t?_t[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(Xn,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==o.gT.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=o.ki.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,zo.replaceWithRegionalInformation(e,t);const n=await qo(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),$n,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=o.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,zo.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=o.ki.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(qn,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await qo(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Hn,this.logger,this.performanceClient,this.correlationId)();if(n)return Pe(e,n,!0),o.pQ.NETWORK;throw tt($e)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||o.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||o.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||o.gT.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Pe(e,t,!1),o.pQ.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Et(yt.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Pe(e,t,!1),o.pQ.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=xe(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),o.pQ.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ht)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),zo.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Et(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),tt(ze)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),zo.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Hn,this.correlationId);const e=`${o.gT.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let a,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))a=r.body,i=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),a=r.body,a.error===o.gT.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Et(i,this.hostnameAndPort)}catch(r){if(r instanceof h)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=zo.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&vt.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==l){const e=t.tenant?t.tenant:o.gT.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return o.gT.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw ie(_)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return bt.has(e)}static isPublicCloudAuthority(e){return o.gT.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new vt(e);r.validateAsUri();const a=r.getUrlComponents();let i=`${t}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(i=`${t}.${o.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=vt.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=zo.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=zo.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=zo.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new vt(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(o.gT.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${o.gT.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function Xo(e){return e.endsWith(o.gT.FORWARD_SLASH)?e:`${e}${o.gT.FORWARD_SLASH}`}zo.reservedTenantDomains=new Set(["{tenant}","{tenantid}",o.Nb.COMMON,o.Nb.CONSUMERS,o.Nb.ORGANIZATIONS]);const $o="no_tokens_found",Vo="native_account_unavailable",Wo="refresh_token_expired",Ko="bad_token",jo=["interaction_required","consent_required","login_required",Ko],Yo=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Zo={[$o]:"No refresh token found in the cache. Please sign-in.",[Vo]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Wo]:"Refresh token has expired.",[Ko]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Qo extends h{constructor(e,t,n,r,a,i,s,l){super(e,t,n),Object.setPrototypeOf(this,Qo.prototype),this.timestamp=r||o.gT.EMPTY_STRING,this.traceId=a||o.gT.EMPTY_STRING,this.correlationId=i||o.gT.EMPTY_STRING,this.claims=s||o.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function Jo(e,t,n){const r=!!e&&jo.indexOf(e)>-1,o=!!n&&Yo.indexOf(n)>-1,a=!!t&&jo.some((e=>t.indexOf(e)>-1));return r||a||o}function ea(e){return new Qo(e,Zo[e])}class ta{static setRequestState(e,t,n){const r=ta.generateLibraryState(e,n);return t?`${r}${o.gT.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw ie(G);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw ie(G);if(!t)throw ie(E);try{const n=t.split(o.gT.RESOURCE_DELIM),r=n[0],a=n.length>1?n.slice(1).join(o.gT.RESOURCE_DELIM):o.gT.EMPTY_STRING,i=e.base64Decode(r),s=JSON.parse(i);return{userRequestState:a||o.gT.EMPTY_STRING,libraryState:s}}catch(n){throw ie(E)}}}const na="home_account_id",ra="UPN",oa="storage_not_supported",aa="stubbed_public_client_application_called",ia="in_mem_redirect_unavailable",sa={[oa]:"Given storage configuration option was not supported.",[aa]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[ia]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class la extends h{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,la.prototype)}}function ca(e){return new la(e,sa[e])}class ua{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==cr.Ix.LocalStorage&&e!==cr.Ix.SessionStorage||!window[e])throw ca(oa)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}function da(e,t){if(!t)return null;try{return ta.parseRequestState(e,t).libraryState.meta}catch(n){throw ie(E)}}class ha extends kt{constructor(e,t,n,r,o,a){super(e,n,r,o),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=t,this.logger=r,this.internalStorage=new Uo,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=a}setupBrowserStorage(e){switch(e){case cr.Ix.LocalStorage:case cr.Ix.SessionStorage:try{return new ua(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=cr.Ix.MemoryStorage,new Uo}setupTemporaryCacheStorage(e,t){switch(t){case cr.Ix.LocalStorage:case cr.Ix.SessionStorage:try{return new ua(e||cr.Ix.SessionStorage)}catch(n){return this.logger.verbose(n),this.internalStorage}case cr.Ix.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${o.gT.CACHE_PREFIX}.${o.Vi.ID_TOKEN}`,t=`${o.gT.CACHE_PREFIX}.${o.Vi.CLIENT_INFO}`,n=`${o.gT.CACHE_PREFIX}.${o.Vi.ERROR}`,r=`${o.gT.CACHE_PREFIX}.${o.Vi.ERROR_DESC}`,a=[this.browserStorage.getItem(e),this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r)];[o.Vi.ID_TOKEN,o.Vi.CLIENT_INFO,o.Vi.ERROR,o.Vi.ERROR_DESC].forEach(((e,t)=>{const n=a[t];n&&this.setTemporaryCache(e,n,!0)}))}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(cr.Oq.ACCOUNT_KEYS),t=this.getItem(`${cr.Oq.TOKEN_KEYS}.${this.clientId}`);if(e&&t)return void this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");this.browserStorage.getKeys().forEach((e=>{if(this.isCredentialKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("credentialType"))switch(n.credentialType){case o.d3.ID_TOKEN:if(be(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,o.d3.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${e}`);break;case o.d3.ACCESS_TOKEN:case o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(ye(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,o.d3.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${e}`);break;case o.d3.REFRESH_TOKEN:if(Ce(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,o.d3.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${e}`)}}}if(this.isAccountKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);n&&pt.isAccountEntity(n)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${e} found, saving key to account key map`),this.addAccountKeyToMap(e))}}}))}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&pt.isAccountEntity(n)?kt.toObject(new pt,n):(this.removeAccountKeyFromMap(e),null)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(cr.Oq.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(cr.Oq.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(cr.Oq.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,o.d3.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,o.d3.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,o.d3.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${cr.Oq.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case o.d3.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case o.d3.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case o.d3.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),ie(z)}this.setItem(`${cr.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case o.d3.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case o.d3.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const a=n.accessToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case o.d3.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),ie(z)}this.setItem(`${cr.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&be(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ID_TOKEN),null)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=pe(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,o.d3.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&ye(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ACCESS_TOKEN),null)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=pe(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,o.d3.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&Ce(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.REFRESH_TOKEN),null)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=pe(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,o.d3.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(a=n)&&0===r.indexOf(o.dg)&&a.hasOwnProperty("clientId")&&a.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,a}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function({environment:e,clientId:t}){return[o.dg,e,t].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(o.HN.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(o.QU.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(cr.Bs.WRAPPER_SKU,e),this.internalStorage.setItem(cr.Bs.WRAPPER_VER,t)}getWrapperMetadata(){return[this.internalStorage.getItem(cr.Bs.WRAPPER_SKU)||o.gT.EMPTY_STRING,this.internalStorage.getItem(cr.Bs.WRAPPER_VER)||o.gT.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const e=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT),t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const n=this.getAccountInfoFilteredBy({localAccountId:t});return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(n),n):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(o.bb.THROTTLING_PREFIX));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.getItemCookie(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===cr.Ix.LocalStorage){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(o.gT.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(o.gT.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(Jn,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,t,n){let r=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){r+=`expires=${this.getCookieExpirationTime(n)};`}this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r}getItemCookie(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length,e.length))}return o.gT.EMPTY_STRING}clearMsalCookies(){const e=`${o.gT.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach((t=>{for(;" "===t.charAt(0);)t=t.substring(1);if(0===t.indexOf(e)){const e=t.split("=")[0];this.clearItemCookie(e)}}))}clearItemCookie(e){this.setItemCookie(e,o.gT.EMPTY_STRING,-1)}getCookieExpirationTime(e){const t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):nt.startsWith(e,o.gT.CACHE_PREFIX)||nt.startsWith(e,o.Vi.ADAL_ID_TOKEN)?e:`${o.gT.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${cr.c4.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${cr.c4.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${cr.c4.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);const i=this.generateNonceKey(e);this.setTemporaryCache(i,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:na};this.setTemporaryCache(cr.c4.CCS_CREDENTIAL,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:ra};this.setTemporaryCache(cr.c4.CCS_CREDENTIAL,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(cr.c4.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(cr.c4.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(cr.c4.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(cr.c4.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(cr.c4.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(cr.c4.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||o.gT.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(cr.c4.REQUEST_STATE))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=da(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Co(JSON.stringify(e));this.setTemporaryCache(cr.c4.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(cr.c4.REQUEST_PARAMS,!0);if(!t)throw io(Nr);let n;try{n=JSON.parse(So(t))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),io(Or)}if(this.removeTemporaryItem(this.generateCacheKey(cr.c4.REQUEST_PARAMS)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw io(Lr);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(cr.c4.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${o.gT.CACHE_PREFIX}.${cr.c4.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${o.gT.CACHE_PREFIX}.${cr.c4.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw io(yr);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(o.Vi.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(o.Vi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(o.Vi.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(o.Vi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const e=ue(n,So);if(e.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),e.preferred_username;if(e.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),e.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=pe(t);if(e!==n){const r=this.getItem(e);if(r)return this.browserStorage.removeItem(e),this.setItem(n,r),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){const n=ge(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:fe(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,So,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof It&&this.performanceClient&&n)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},n)}catch(r){}throw r}}}function ma(){return window.parent!==window}function pa(){return window.location.href.split("?")[0].split("#")[0]}function ga(){if(window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${cr.qx.POPUP_NAME_PREFIX}.`))throw io(kr)}function fa(e){if(!e)throw io(Jr)}function va(e){!function(){if(vt.hashContainsKnownProperties(window.location.hash)&&ma())throw io(Ir)}(),ga(),fa(e)}function _a(e,t){if(va(e),function(e){if(ma()&&!e)throw io(wr)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===cr.Ix.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw ca(ia)}function ya(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const ba="msal:initializeStart",Ca="msal:initializeEnd",Ea="msal:accountAdded",Sa="msal:accountRemoved",Ta="msal:activeAccountChanged",wa="msal:loginStart",Ia="msal:loginSuccess",ka="msal:loginFailure",Aa="msal:acquireTokenStart",Pa="msal:acquireTokenSuccess",xa="msal:acquireTokenFailure",Ra="msal:acquireTokenFromNetworkStart",Na="msal:ssoSilentStart",Oa="msal:ssoSilentSuccess",La="msal:ssoSilentFailure",Ma="msal:acquireTokenByCodeStart",Ua="msal:acquireTokenByCodeSuccess",Da="msal:acquireTokenByCodeFailure",Ba="msal:handleRedirectStart",Fa="msal:handleRedirectEnd",Ha="msal:popupOpened",qa="msal:logoutStart",Ga="msal:logoutSuccess",za="msal:logoutFailure",Xa="msal:logoutEnd",$a="msal:restoreFromBFCache";class Va{constructor(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(e){{const t=No();return this.eventCallbacks.set(t,e),this.logger.verbose(`Event callback registered with id: ${t}`),t}}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}enableAccountStorageEvents(){this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange))}disableAccountStorageEvents(){this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered.")}emitEvent(e,t,n,r){{const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${e}`),this.eventCallbacks.forEach(((t,n)=>{this.logger.verbose(`Emitting event to callback ${n}: ${e}`),t.apply(null,[o])}))}}handleAccountCacheChange(e){try{e.key?.includes(o.Vi.ACTIVE_ACCOUNT_FILTERS)&&this.emitEvent(Ta);const t=e.newValue||e.oldValue;if(!t)return;const n=JSON.parse(t);if("object"!==typeof n||!pt.isAccountEntity(n))return;const r=kt.toObject(new pt,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(Ea,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(Sa,void 0,r))}catch(e){return}}}class Wa extends h{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Wa.prototype)}}class Ka{static generateThrottlingStorageKey(e){return`${o.bb.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){const n=Ka.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new Wa(r.errorCodes?.join(" ")||o.gT.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(Ka.checkResponseStatus(n)||Ka.checkResponseForRetryAfter(n)){const r={throttleTime:Ka.calculateThrottleTime(parseInt(n.headers[o.SZ.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Ka.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(o.SZ.RETRY_AFTER)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||o.bb.DEFAULT_THROTTLE_TIME_SECONDS),n+o.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}class ja{constructor(e,t){this.networkClient=e,this.cacheManager=t}async sendPostRequest(e,t,n){let r;Ka.preProcess(this.cacheManager,e);try{r=await this.networkClient.sendPostRequestAsync(t,n)}catch(o){throw o instanceof h?o:ie(y)}return Ka.postProcess(this.cacheManager,e,r),r}}const Ya="client_id",Za="response_type",Qa="token_type",Ja="req_cnf",ei="return_spa_code";class ti{static validateRedirectUri(e){if(!e)throw tt(Re)}static validatePrompt(e){const t=[];for(const n in o.NJ)t.push(o.NJ[n]);if(t.indexOf(e)<0)throw tt(De)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw tt(Be)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw tt(Ge);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([o.VX.PLAIN,o.VX.S256].indexOf(e)<0)throw tt(qe)}}class ni{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(Za,encodeURIComponent(o.gT.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Za,encodeURIComponent(`${o.gT.TOKEN_RESPONSE_TYPE} ${o.gT.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||o.vw.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e,t=!0,n=o.f_){!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],a=new rt(r);this.parameters.set("scope",encodeURIComponent(a.printScopes()))}addClientId(e){this.parameters.set(Ya,encodeURIComponent(e))}addRedirectUri(e){ti.validateRedirectUri(e),this.parameters.set("redirect_uri",encodeURIComponent(e))}addPostLogoutRedirectUri(e){ti.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(o.SZ.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(o.SZ.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);ti.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){ti.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(ti.validateCodeChallengeParams(e,t),!e||!t)throw tt(Ge);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set(o.sR,"1")}addExtraQueryParameters(e){Object.entries(e).forEach((([e,t])=>{!this.parameters.has(e)&&t&&this.parameters.set(e,t)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw tt(Be)}else n={};return t&&t.length>0&&(n.hasOwnProperty(o.As.ACCESS_TOKEN)||(n[o.As.ACCESS_TOKEN]={}),n[o.As.ACCESS_TOKEN][o.As.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(o.Ge.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(o.Ge.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Qa,o.hO.POP),this.parameters.set(Ja,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Qa,o.hO.SSH),this.parameters.set(Ja,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",o.bb.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),e.join("&")}}async function ri(e,t,n,r,o,a,i){i?.addQueueMeasurement(Bn,a);const s=zo.transformCIAMAuthority(Xo(e)),l=new zo(s,t,n,r,o,a,i);try{return await qo(l.resolveEndpointsAsync.bind(l),Fn,o,i,a)(),l}catch(c){throw ie(_)}}class oi{constructor(e,t){this.config=function({authOptions:e,systemOptions:t,loggerOptions:n,cacheOptions:r,storageInterface:o,networkInterface:i,cryptoInterface:s,clientCredentials:l,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:m}){const p={...xt,...n};return{authOptions:(g=e,{clientCapabilities:[],azureCloudOptions:Mt,skipAuthorityMetadataCache:!1,...g}),systemOptions:{...Pt,...t},loggerOptions:p,cacheOptions:{...Rt,...r},storageInterface:o||new At(e.clientId,se,new a(p)),networkInterface:i||Nt,cryptoInterface:s||se,clientCredentials:l||Lt,libraryInfo:{...Ot,...c},telemetry:{...Ut,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:m||null};var g}(e),this.logger=new a(this.config.loggerOptions,le,ce),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new ja(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[o.SZ.CONTENT_TYPE]=o.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case na:try{const n=at(e.credential);t[o.SZ.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case ra:t[o.SZ.CCS_HEADER]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,a,i){i&&this.performanceClient?.addQueueMeasurement(i,a);const s=await this.networkManager.sendPostRequest(r,e,{body:t,headers:n});return this.performanceClient?.addFields({refreshTokenSize:s.body.refresh_token?.length||0,httpVerToken:s.headers?.[o.SZ.X_MS_HTTP_VERSION]||""},a),this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Pn,t);const n=`https://${e}/${this.authority.tenant}/`,r=await ri(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new ni;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}const ai="sw";class ii{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(Ln,e.correlationId);const n=await qo(this.generateKid.bind(this),Ln,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(Mn,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:ai}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:i,shrNonce:s,shrOptions:l}=n,c=(a?new vt(a):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:he(),m:o?.toUpperCase(),u:c?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:c?.AbsolutePath,q:c?.QueryString?[[],c.QueryString]:void 0,client_claims:i||void 0,...r},t,l,n.correlationId)}}class si{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class li{constructor(e,t,n,r,o,a,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=i}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?ie(T,"Cached State"):ie(T,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw ie(E,e.state)}try{r=decodeURIComponent(t)}catch(o){throw ie(E,e.state)}if(n!==r)throw ie(S);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(Jo(e.error,e.error_description,e.suberror))throw new Qo(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Wa(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||o.gT.NOT_AVAILABLE} - Timestamp: ${e.timestamp||o.gT.NOT_AVAILABLE} - Description: ${e.error_description||o.gT.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||o.gT.NOT_AVAILABLE} - Trace ID: ${e.trace_id||o.gT.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,a=new Wa(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=o.oj.SERVER_ERROR_RANGE_START&&e.status<=o.oj.SERVER_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${a}`);if(t&&e.status&&e.status>=o.oj.CLIENT_ERROR_RANGE_START&&e.status<=o.oj.CLIENT_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${a}`);if(Jo(e.error,e.error_description,e.suberror))throw new Qo(e.error,e.error_description,e.suberror,e.timestamp||o.gT.EMPTY_STRING,e.trace_id||o.gT.EMPTY_STRING,e.correlation_id||o.gT.EMPTY_STRING,e.claims||o.gT.EMPTY_STRING,r);throw a}}async handleServerTokenResponse(e,t,n,r,a,i,s,l,c){let u,d;if(this.performanceClient?.addQueueMeasurement(Un,e.correlation_id),e.id_token){if(u=ue(e.id_token||o.gT.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&u.nonce!==a.nonce)throw ie(w);if(r.maxAge||0===r.maxAge){const e=u.auth_time;if(!e)throw ie(I);de(e,r.maxAge)}}this.homeAccountIdentifier=pt.generateHomeAccountId(e.client_info||o.gT.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),a&&a.state&&(d=ta.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||r.sshKid||void 0;const h=this.generateCacheRecord(e,t,n,r,u,i,a);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new si(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),s&&!l&&h.account){const e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await li.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,void 0,c)}await this.cacheStorage.saveCacheRecord(h,r.storeInCache,r.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return li.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,e,c)}generateCacheRecord(e,t,n,r,o,a,i){const s=t.getPreferredCache();if(!s)throw ie(H);const l=mt(o);let c,u;e.id_token&&o&&(c=ge(this.homeAccountIdentifier,s,e.id_token,this.clientId,l||""),u=ci(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,l,i,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?rt.fromString(e.scope):new rt(r.scopes||[]),i=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+i,m=h+c,p=u&&u>0?n+u:void 0;d=fe(this.homeAccountIdentifier,s,e.access_token,this.clientId,l||t.tenant||"",o.printScopes(),h,m,this.cryptoObj.base64Decode,p,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=ve(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,a,t)}let m=null;return e.foci&&(m={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:d,refreshToken:h,appMetadata:m}}static async generateAuthenticationResult(e,t,n,r,a,i,s,l,c){let u,d,h=o.gT.EMPTY_STRING,m=[],p=null,g=o.gT.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==o.hO.POP||a.popKid)h=n.accessToken.secret;else{const t=new ii(e),{secret:r,keyId:o}=n.accessToken;if(!o)throw ie(Q);h=await t.signPopToken(r,o,a)}m=rt.fromString(n.accessToken.target).asArray(),p=new Date(1e3*Number(n.accessToken.expiresOn)),u=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(d=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(g=n.appMetadata.familyId===o.ch?o.ch:"");const f=i?.oid||i?.sub||"",v=i?.tid||"";l?.spa_accountid&&n.account&&(n.account.nativeAccountId=l?.spa_accountid);const _=n.account?lt(n.account.getAccountInfo(),void 0,i,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:f,tenantId:v,scopes:m,account:_,idToken:n?.idToken?.secret||"",idTokenClaims:i||{},accessToken:h,fromCache:r,expiresOn:p,extExpiresOn:u,refreshOn:d,correlationId:a.correlationId,requestId:c||o.gT.EMPTY_STRING,familyId:g,tokenType:n.accessToken?.tokenType||o.gT.EMPTY_STRING,state:s?s.userRequestState:o.gT.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||o.gT.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||o.gT.EMPTY_STRING,code:l?.spa_code,fromNativeBroker:!1}}}function ci(e,t,n,r,o,a,i,s,l,c,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d,u));const m=h||pt.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:a,environment:i,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:c},t,r),p=m.tenantProfiles||[],g=s||m.realm;if(g&&!p.find((e=>e.tenantId===g))){const e=st(n,m.localAccountId,g,o);p.push(e)}return m.tenantProfiles=p,m}async function ui(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class di extends oi{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(In,e.correlationId);const t=await qo(this.createAuthCodeUrlQueryString.bind(this),On,this.logger,this.performanceClient,e.correlationId)(e);return vt.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(xn,e.correlationId),!e.code)throw ie(R);const n=he(),r=await qo(this.executeTokenRequest.bind(this),Rn,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=r.headers?.[o.SZ.X_MS_REQUEST_ID],i=new li(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),qo(i.handleServerTokenResponse.bind(i),Un,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,a)}handleFragmentResponse(e,t){if(new li(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw ie(j);return e}getLogoutUri(e){if(!e)throw tt(He);const t=this.createLogoutUrlQueryString(e);return vt.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Rn,t.correlationId);const n=this.createTokenQueryParameters(t),r=vt.appendQueryString(e.tokenEndpoint,n),a=await qo(this.createTokenRequestBody.bind(this),Nn,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=ot(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${o.Bv.CLIENT_INFO_SEPARATOR}${e.utid}`,type:na}}catch(c){this.logger.verbose("Could not parse client info for CCS Header: "+c)}const s=this.createTokenRequestHeaders(i||t.ccsCredential),l={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return qo(this.executePostToTokenEndpoint.bind(this),rn,this.logger,this.performanceClient,t.correlationId)(r,a,s,l,t.correlationId,rn)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Nn,e.correlationId);const t=new ni;if(t.addClientId(e.tokenBodyParameters?.client_id||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):ti.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Dt(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await ui(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(o.qJ.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===o.hO.POP){const n=new ii(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await qo(n.generateCnf.bind(n),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===o.hO.SSH){if(!e.sshJwk)throw tt(Ve);t.addSshJwk(e.sshJwk)}const n=e.correlationId||this.config.cryptoInterface.createNewGuid();let r;if(t.addCorrelationId(n),(!nt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=ot(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${t.uid}${o.Bv.CLIENT_INFO_SEPARATOR}${t.utid}`,type:na}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case na:try{const e=at(r.credential);t.addCcsOid(e)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case ra:t.addCcsUpn(r.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters.return_spa_code||t.addExtraQueryParameters({[ei]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){this.performanceClient?.addQueueMeasurement(On,e.correlationId);const t=new ni;t.addClientId(e.extraQueryParameters?.client_id||this.config.authOptions.clientId);const n=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(n,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(r),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),Dt(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==o.NJ.SELECT_ACCOUNT)if(e.sid&&e.prompt===o.NJ.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){const n=this.extractAccountSid(e.account);let r=this.extractLoginHint(e.account);if(r&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),r=null),r){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(r);try{const n=at(e.account.homeAccountId);t.addCcsOid(n)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(n&&e.prompt===o.NJ.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(n);try{const n=at(e.account.homeAccountId);t.addCcsOid(n)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{const n=at(e.account.homeAccountId);t.addCcsOid(n)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===o.hO.POP)){const n=new ii(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await qo(n.generateCnf.bind(n),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}return t.createQueryString()}createLogoutUrlQueryString(e){const t=new ni;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}function hi(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:a}=e,i=new Map([[0,[n,r]],[2,[o,a]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return i.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class mi{constructor(e,t){this.cacheOutcome=o.To.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||o.gT.EMPTY_STRING,this.wrapperVer=e.wrapperVer||o.gT.EMPTY_STRING,this.telemetryCacheKey=o.HN.CACHE_KEY+o.Bv.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${o.HN.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(o.HN.VALUE_SEPARATOR),a=[e,this.getRegionDiscoveryFields()].join(o.HN.VALUE_SEPARATOR);return[o.HN.SCHEMA_VERSION,a,r].join(o.HN.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=mi.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(o.HN.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(o.HN.VALUE_SEPARATOR),a=e.errors.length,i=[a,t<a?o.HN.OVERFLOW_TRUE:o.HN.OVERFLOW_FALSE].join(o.HN.VALUE_SEPARATOR);return[o.HN.SCHEMA_VERSION,e.cacheHits,n,r,i].join(o.HN.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=o.HN.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof h?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(o.HN.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=mi.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const a=e.errors.length;for(t=0;t<a;t++){const a=e.failedRequests[2*t]||o.gT.EMPTY_STRING,i=e.failedRequests[2*t+1]||o.gT.EMPTY_STRING,s=e.errors[t]||o.gT.EMPTY_STRING;if(r+=a.toString().length+i.toString().length+s.length+3,!(r<o.HN.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||o.gT.EMPTY_STRING),e.push(this.regionSource||o.gT.EMPTY_STRING),e.push(this.regionOutcome||o.gT.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return hi(e)}}class pi{constructor(e,t,n,r,o,a,i,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=s,this.correlationId=l||No(),this.logger=r.clone(cr.qx.MSAL_SKU,co,this.correlationId),this.performanceClient=i}async clearCacheOnLogout(e){if(e){pt.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(pt.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri||pa();return vt.getAbsoluteUrl(t,pa())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new mi(n,this.browserStorage)}async getDiscoveredAuthority(e,t,n){this.performanceClient.addQueueMeasurement(Jt,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e||this.config.auth.authority,a=zo.generateAuthority(o,t||this.config.auth.azureCloudOptions),i=await qo(ri,Bn,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(n&&!i.isAlias(n.environment))throw tt(Qe);return i}}async function gi(e,t,n){e.addQueueMeasurement(tr,n);const r=Ho(fi,nr,t,e,n)(e,t,n);return{verifier:r,challenge:await qo(vi,rr,t,e,n)(r,e,t,n)}}function fi(e,t,n){try{const r=new Uint8Array(32);Ho(xo,ar,t,e,n)(r);return bo(r)}catch(r){throw io(dr)}}async function vi(e,t,n,r){t.addQueueMeasurement(rr,r);try{const o=await qo(Po,or,n,t,r)(e,t,r);return bo(new Uint8Array(o))}catch(o){throw io(dr)}}async function _i(e,t,n,r){n.addQueueMeasurement(pn,e.correlationId);const a=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],s={...e,correlationId:e.correlationId,authority:a,scopes:i};if(s.authenticationScheme){if(s.authenticationScheme===o.hO.SSH){if(!e.sshJwk)throw tt(Ve);if(!e.sshKid)throw tt(We)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}else s.authenticationScheme=o.hO.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!nt.isEmptyObj(e.claims)&&(s.requestedClaimsHash=await Lo(e.claims)),s}async function yi(e,t,n,r,o){r.addQueueMeasurement(gn,e.correlationId);const a=await qo(_i,pn,o,r,e.correlationId)(e,n,r,o);return{...e,...a,account:t,forceRefresh:e.forceRefresh||!1}}class bi extends pi{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(wn,this.correlationId);const t=await qo(gi,tr,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:o.gT.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=o.gT.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||No(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=vt.getAbsoluteUrl(e.postLogoutRedirectUri,pa())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=vt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,pa())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=vt.getAbsoluteUrl(pa(),pa())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e,t,n,r){this.performanceClient.addQueueMeasurement(En,this.correlationId);const o=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,this.correlationId)(e,t,n,r);return new di(o,this.performanceClient)}async getClientConfiguration(e,t,n,r){this.performanceClient.addQueueMeasurement(Sn,this.correlationId);const a=await qo(this.getDiscoveredAuthority.bind(this),Jt,this.logger,this.performanceClient,this.correlationId)(t,n,r),i=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:i.loggerCallback,piiLoggingEnabled:i.piiLoggingEnabled,logLevel:i.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:cr.qx.MSAL_SKU,version:co,cpu:o.gT.EMPTY_STRING,os:o.gT.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Tn,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},a=ta.setRequestState(this.browserCrypto,e&&e.state||o.gT.EMPTY_STRING,r),i={...await qo(_i,pn,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:a,nonce:e.nonce||No(),responseMode:this.config.auth.OIDCOptions.serverResponseType},s=e.account||this.browserStorage.getActiveAccount();if(s&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${s.homeAccountId}`,this.correlationId),i.account=s),!i.loginHint&&!s){const e=this.browserStorage.getLegacyLoginHint();e&&(i.loginHint=e)}return i}}const Ci="user_switch",Ei={[Ci]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Si extends h{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Si.prototype),this.name="NativeAuthError",this.ext=n}}function Ti(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function wi(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return ea(Vo);case"USER_INTERACTION_REQUIRED":return new Qo(e,t);case"USER_CANCEL":return io(Er);case"NO_NETWORK":return io(Fr)}return new Si(e,Ei[e]||t,n)}class Ii extends oi{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(an,e.correlationId);const t=he(),n=await qo(this.executeTokenRequest.bind(this),on,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[o.SZ.X_MS_REQUEST_ID],a=new li(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(n.body),qo(a.handleServerTokenResponse.bind(a),Un,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw tt(Fe);if(this.performanceClient?.addQueueMeasurement(ln,e.correlationId),!e.account)throw ie(B);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await qo(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof Qo&&t.errorCode===$o,r=t instanceof Wa&&t.errorCode===o.D1.INVALID_GRANT_ERROR&&t.subError===o.D1.CLIENT_MISMATCH_ERROR;if(n||r)return qo(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return qo(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(sn,e.correlationId);const n=Ho(this.cacheManager.getRefreshToken.bind(this.cacheManager),er,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw ea($o);if(n.expiresOn&&me(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw ea(Wo);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||o.hO.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:na}};try{return await qo(this.acquireToken.bind(this),an,this.logger,this.performanceClient,e.correlationId)(r)}catch(a){if(a instanceof Qo&&a.subError===Ko){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=pe(n);this.cacheManager.removeRefreshToken(e)}throw a}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(on,e.correlationId);const n=this.createTokenQueryParameters(e),r=vt.appendQueryString(t.tokenEndpoint,n),o=await qo(this.createTokenRequestBody.bind(this),cn,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),i={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return qo(this.executePostToTokenEndpoint.bind(this),nn,this.logger,this.performanceClient,e.correlationId)(r,o,a,i,e.correlationId,nn)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(cn,e.correlationId);const t=e.correlationId,n=new ni;if(n.addClientId(e.tokenBodyParameters?.client_id||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(o.qJ.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Dt(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(t),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await ui(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===o.hO.POP){const t=new ii(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await qo(t.generateCnf.bind(t),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===o.hO.SSH){if(!e.sshJwk)throw tt(Ve);n.addSshJwk(e.sshJwk)}if((!nt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case na:try{const t=at(e.ccsCredential.credential);n.addCcsOid(t)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case ra:n.addCcsUpn(e.ccsCredential.credential)}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class ki extends oi{constructor(e,t){super(e,t)}async acquireToken(e){try{const[t,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...o.f_]});if(n===o.To.PROACTIVELY_REFRESHED){this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");new Ii(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch((()=>{}))}return t}catch(t){if(t instanceof ae&&t.errorCode===V){return new Ii(this.config,this.performanceClient).acquireTokenByRefreshToken(e)}throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(dn,e.correlationId);let t=o.To.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!nt.isEmptyObj(e.claims))throw this.setCacheOutcome(o.To.FORCE_REFRESH_OR_CLAIMS,e.correlationId),ie(V);if(!e.account)throw ie(B);const n=e.account.tenantId||function(e){const t=new vt(e).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(t){case o.Nb.COMMON:case o.Nb.ORGANIZATIONS:case o.Nb.CONSUMERS:return;default:return t}}(e.authority),r=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!a)throw this.setCacheOutcome(o.To.NO_CACHED_ACCESS_TOKEN,e.correlationId),ie(V);if(i=a.cachedAt,Number(i)>he()||me(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(o.To.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),ie(V);var i;a.refreshOn&&me(a.refreshOn,0)&&(t=o.To.PROACTIVELY_REFRESHED);const s=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(e.account),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await qo(this.generateResultFromCacheRecord.bind(this),hn,this.logger,this.performanceClient,e.correlationId)(l,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==o.To.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(hn,t.correlationId),e.idToken&&(n=ue(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw ie(I);de(e,t.maxAge)}return li.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class Ai extends bi{async acquireToken(e){this.performanceClient.addQueueMeasurement(Kt,e.correlationId);const t=this.initializeServerTelemetryManager(cr.WN.acquireTokenSilent_silentFlow),n=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,this.correlationId)(t,e.authority,e.azureCloudOptions,e.account),r=new ki(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await qo(r.acquireCachedToken.bind(r),dn,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof ao&&o.errorCode===Xr&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}const Pi="brk_client_id",xi="brk_redirect_uri";class Ri extends pi{constructor(e,t,n,r,o,a,i,s,l,c,u,d){super(e,t,n,r,o,a,s,l,d),this.apiId=i,this.accountId=c,this.nativeMessageHandler=l,this.nativeStorageManager=u,this.silentCacheClient=new Ai(e,this.nativeStorageManager,n,r,o,a,s,l,d),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const h=this.nativeMessageHandler.getExtensionId()===cr.BD.PREFERRED_EXTENSION_ID?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=mi.makeExtraSkuString({libraryName:cr.qx.MSAL_SKU,libraryVersion:co,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,"x-client-xtra-sku":this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(tn,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(tn,e.correlationId),n=he();try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(r){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=o,i={method:cr.Ky.GetToken,request:a},s=await this.nativeMessageHandler.sendMessage(i),l=this.validateNativeResponse(s);return await this.handleNativeResponse(l,o,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(r){throw r instanceof Si&&this.serverTelemetryManager.setNativeBrokerErrorCode(r.errorCode),r}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:rt.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),ie(q);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw ie(q);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:cr.Ky.GetToken,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(s){if(s instanceof Si&&(this.serverTelemetryManager.setNativeBrokerErrorCode(s.errorCode),Ti(s)))throw s}this.browserStorage.setTemporaryCache(cr.c4.NATIVE_REQUEST,JSON.stringify(r),!0);const a={apiId:cr.WN.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(i,a)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(cr.c4.NATIVE_REQUEST));const a={method:cr.Ky.GetToken,request:o},i=he();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,i);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),n}catch(s){throw this.browserStorage.setInteractionInProgress(!1),s}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=ue(e.id_token,So),o=this.createHomeAccountIdentifier(e,r),a=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==a&&e.account.id!==t.accountId)throw wi(Ci);const i=await this.getDiscoveredAuthority(t.authority),s=ci(this.browserStorage,i,o,So,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),l=await this.generateAuthenticationResult(e,t,r,s,i.canonicalAuthority,n);return this.cacheAccount(s),this.cacheNativeTokens(e,t,o,r,e.access_token,l.tenantId,n),l}createHomeAccountIdentifier(e,t){return pt.generateHomeAccountId(e.client_info||o.gT.EMPTY_STRING,ct,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?rt.fromString(e.scope):rt.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===o.hO.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new ii(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw ie(Q);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,a,i){const s=this.addTelemetryFromNativeResponse(e),l=e.scope?rt.fromString(e.scope):rt.fromString(t.scope),c=e.account.properties||{},u=c.UID||n.oid||n.sub||o.gT.EMPTY_STRING,d=c.TenantId||n.tid||o.gT.EMPTY_STRING,h=lt(r.getAccountInfo(),void 0,n,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,t),p=t.tokenType===o.hO.POP?o.hO.POP:o.hO.BEARER;return{authority:a,uniqueId:u,tenantId:d,scopes:l.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:m,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,a,i,s){const l=ge(n,t.authority,e.id_token||"",t.clientId,r.tid||""),c=s+(t.tokenType===o.hO.POP?o.gT.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e,t),d={idToken:l,accessToken:fe(n,t.authority,a,t.clientId,r.tid||i,u.printScopes(),c,0,So,void 0,t.tokenType,void 0,t.keyId)};this.nativeStorageManager.saveCacheRecord(d,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw m(c,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority(t,e.azureCloudOptions,e.account);const n=new vt(t);n.validateAsUri();const{scopes:r,...a}=e,i=new rt(r||[]);i.appendScopes(o.f_);const s={...a,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case cr.WN.ssoSilent:case cr.WN.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),o.NJ.NONE}if(e.prompt)switch(e.prompt){case o.NJ.NONE:case o.NJ.CONSENT:case o.NJ.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),io(eo)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw io(no);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=cr.BD.MATS_TELEMETRY,e.authenticationScheme===o.hO.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new ii(this.browserCrypto);let r;if(s.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const o=await qo(n.generateCnf.bind(n),Ln,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,s.keyId=o.kid,s.signPopToken=!0}s.reqCnf=r}return this.addRequestSKUs(s),s}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(Pi)&&e.extraParameters.hasOwnProperty(xi)&&e.extraParameters.hasOwnProperty(Ya)){const t=e.extraParameters.client_id,n=e.redirectUri,r=e.extraParameters[xi];e.extraParameters={child_client_id:t,child_redirect_uri:n},e.redirectUri=r}}}class Ni{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(Zn)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:cr.BD.CHANNEL_ID,extensionId:this.extensionId,responseId:No(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Ni(e,t,n,cr.BD.PREFERRED_EXTENSION_ID);return await r.sendHandshakeRequest(),r}catch(r){const o=new Ni(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:cr.BD.CHANNEL_ID,extensionId:this.extensionId,responseId:No(),body:{method:cr.Ky.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(io(Yr)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===cr.BD.CHANNEL_ID&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===cr.Ky.HandshakeRequest){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(io(Zr))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===cr.Ky.Response){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(wi(e.code,e.description,e.ext));else{if(!e.result)throw m(c,"Event does not contain result.");e.result.code&&e.result.description?n.reject(wi(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===cr.Ky.HandshakeResponse){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case o.hO.BEARER:case o.hO.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class Oi{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(An,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof Wa&&r.subError===Er?io(Er):r}return qo(this.handleCodeResponseFromServer.bind(this),kn,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t,n=!0){if(this.performanceClient.addQueueMeasurement(kn,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await qo(this.authModule.updateAuthority.bind(this.authModule),Pn,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await qo(this.authModule.acquireToken.bind(this.authModule),xn,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:na}:e.loginHint?{credential:e.loginHint,type:ra}:null}}function Li(e,t,n){const r=ft(e);if(!r)throw gt(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),io(fr)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),io(pr));return r}class Mi extends bi{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,i,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{const t=this.generatePopupName(e.scopes||o.f_,e.authority||this.config.auth.authority),n=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,n);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const r=this.openSizedPopup("about:blank",t,n);return this.acquireTokenPopupAsync(e,t,n,r)}}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n=this.generateLogoutPopupName(t),r=e&&e.authority,o=e&&e.mainWindowRedirectUri,a=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,a,r,void 0,o);{this.logger.verbose("asyncPopup set to false, opening popup");const e=this.openSizedPopup("about:blank",n,a);return this.logoutPopupAsync(t,n,a,r,e,o)}}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,n,r){this.logger.verbose("acquireTokenPopupAsync called");const o=this.initializeServerTelemetryManager(cr.WN.acquireTokenPopup),a=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,this.correlationId)(e,cr.s_.Popup);ya(a.authority);try{const i=await qo(this.initializeAuthorizationCodeRequest.bind(this),wn,this.logger,this.performanceClient,this.correlationId)(a),s=await qo(this.createAuthCodeClient.bind(this),En,this.logger,this.performanceClient,this.correlationId)(o,a.authority,a.azureCloudOptions,a.account),l=Ni.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let c;l&&(c=this.performanceClient.startMeasurement(en,e.correlationId));const u=await s.getAuthCodeUrl({...a,nativeBroker:l}),d=new Oi(s,this.browserStorage,i,this.logger,this.performanceClient),h={popup:r,popupName:t,popupWindowAttributes:n},m=this.initiateAuthRequest(u,h);this.eventHandler.emitEvent(Ha,cr.s_.Popup,{popupWindow:m},null);const p=await this.monitorPopupForHash(m),g=Ho(Li,Dn,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Ka.removeThrottle(this.browserStorage,this.config.auth.clientId,i),g.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw io(Qr);const e=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cr.WN.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,g.accountId,this.nativeStorage,a.correlationId),{userRequestState:t}=ta.parseRequestState(this.browserCrypto,a.state);return await e.acquireToken({...a,state:t,prompt:void 0})}return await d.handleCodeResponse(g,a)}catch(i){throw r&&r.close(),i instanceof h&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}async logoutPopupAsync(e,t,n,r,o,a){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(qa,cr.s_.Popup,e);const i=this.initializeServerTelemetryManager(cr.WN.logoutPopup);try{await this.clearCacheOnLogout(e.account);const l=await qo(this.createAuthCodeClient.bind(this),En,this.logger,this.performanceClient,this.correlationId)(i,r,void 0,e.account||void 0);try{l.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===s){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Ga,cr.s_.Popup,e),a){const e={apiId:cr.WN.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=vt.getAbsoluteUrl(a,pa());await this.navigationClient.navigateInternal(t,e)}return void(o&&o.close())}}const c=l.getLogoutUri(e);this.eventHandler.emitEvent(Ga,cr.s_.Popup,e);const u=this.openPopup(c,{popupName:t,popupWindowAttributes:n,popup:o});if(this.eventHandler.emitEvent(Ha,cr.s_.Popup,{popupWindow:u},null),await this.monitorPopupForHash(u).catch((()=>{})),a){const e={apiId:cr.WN.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=vt.getAbsoluteUrl(a,pa());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(l){throw o&&o.close(),l instanceof h&&(l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(za,cr.s_.Popup,null,l),this.eventHandler.emitEvent(Xa,cr.s_.Popup),l}this.eventHandler.emitEvent(Xa,cr.s_.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),io(mr)}monitorPopupForHash(e){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(io(Er));let a="";try{a=e.location.href}catch(l){}if(!a||"about:blank"===a)return;clearInterval(r);let i="";const s=this.config.auth.OIDCOptions.serverResponseType;e&&(i=s===o.rg.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!n)throw io(Cr);return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),io(br)}}openSizedPopup(e,t,n){const r=window.screenLeft?window.screenLeft:window.screenX,o=window.screenTop?window.screenTop:window.screenY,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let s=n.popupSize?.width,l=n.popupSize?.height,c=n.popupPosition?.top,u=n.popupPosition?.left;return(!s||s<0||s>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),s=cr.qx.POPUP_WIDTH),(!l||l<0||l>i)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=cr.qx.POPUP_HEIGHT),(!c||c<0||c>i)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),c=Math.max(0,i/2-cr.qx.POPUP_HEIGHT/2+o)),(!u||u<0||u>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),u=Math.max(0,a/2-cr.qx.POPUP_WIDTH/2+r)),window.open(e,t,`width=${s}, height=${l}, top=${c}, left=${u}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(cr.s_.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${cr.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${cr.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Ui{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(cr.c4.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(cr.c4.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:cr.WN.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),io(mr)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw ie(T,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(l){throw l instanceof Wa&&l.subError===Er?io(Er):l}const a=this.browserStorage.generateNonceKey(r),i=this.browserStorage.getTemporaryCache(a);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await qo(this.authModule.updateAuthority.bind(this.authModule),Pn,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=i||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(cr.c4.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class Di extends bi{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,i,l,c),this.nativeStorage=s}async acquireToken(e){const t=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,this.correlationId)(e,cr.s_.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(cr.WN.acquireTokenRedirect),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent($a,cr.s_.Redirect))};try{const o=await qo(this.initializeAuthorizationCodeRequest.bind(this),wn,this.logger,this.performanceClient,this.correlationId)(t),a=await qo(this.createAuthCodeClient.bind(this),En,this.logger,this.performanceClient,this.correlationId)(n,t.authority,t.azureCloudOptions,t.account),i=new Ui(a,this.browserStorage,o,this.logger,this.performanceClient),s=await a.getAuthCodeUrl({...t,nativeBroker:Ni.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",r),await i.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate})}catch(o){throw o instanceof h&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(e="",t){const n=this.initializeServerTelemetryManager(cr.WN.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,a]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(cr.s_.Redirect),t.event.errorCode="no_server_response",null;const i=this.browserStorage.getTemporaryCache(cr.c4.ORIGIN_URI,!0)||o.gT.EMPTY_STRING,s=vt.removeHashFromUrl(i);if(s===vt.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),i.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(i);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!ma()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(cr.c4.URL_HASH,a,!0);const e={apiId:cr.WN.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(i&&"null"!==i)this.logger.verbose(`Navigating to loginRequestUrl: ${i}`),t=await this.navigationClient.navigateInternal(i,e);else{const n=function(){const e=new vt(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(cr.c4.ORIGIN_URI,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(r){throw r instanceof h&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.browserStorage.cleanRequestByInteractionType(cr.s_.Redirect),r}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===o.rg.QUERY?window.location.search:window.location.hash);let n=ft(t);if(n){try{!function(e,t,n){if(!e.state)throw io(gr);const r=da(t,e.state);if(!r)throw io(vr);if(r.interactionType!==n)throw io(_r)}(n,this.browserCrypto,cr.s_.Redirect)}catch(i){return i instanceof h&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const a=this.browserStorage.getTemporaryCache(cr.c4.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(cr.c4.URL_HASH)),a&&(n=ft(a),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,a]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw io(gr);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw io(Qr);const t=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cr.WN.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=ta.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw io(Lr);const a=await qo(this.createAuthCodeClient.bind(this),En,this.logger,this.performanceClient,this.correlationId)(t,o);Ka.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Ui(a,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(cr.WN.logout);try{this.eventHandler.emitEvent(qa,cr.s_.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:cr.WN.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await qo(this.createAuthCodeClient.bind(this),En,this.logger,this.performanceClient,this.correlationId)(n,e&&e.authority,void 0,e&&e.account||void 0);if(o.authority.protocolMode===s)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Ga,cr.s_.Redirect,t)}const a=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Ga,cr.s_.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);if(!1!==e.onRedirectNavigate(a))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof h&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(za,cr.s_.Redirect,null,r),this.eventHandler.emitEvent(Xa,cr.s_.Redirect),r}this.eventHandler.emitEvent(Xa,cr.s_.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return vt.getAbsoluteUrl(t,pa())}}async function Bi(e,t,n,r,o){if(t.addQueueMeasurement(_n,r),!e)throw n.info("Navigate url is empty"),io(mr);return o?qo(Hi,bn,n,t,r)(e,o,t,r):Ho(qi,Cn,n,t,r)(e)}async function Fi(e,t,n,r,a,i,s){return r.addQueueMeasurement(yn,i),new Promise(((r,i)=>{t<lo&&a.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const l=window.setTimeout((()=>{window.clearInterval(c),i(io(Tr))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let a="";n&&(a=s===o.rg.QUERY?n.location.search:n.location.hash),window.clearTimeout(l),window.clearInterval(c),r(a)}),n)})).finally((()=>{Ho(zi,Qn,a,r,i)(e)}))}function Hi(e,t,n,r){return n.addQueueMeasurement(bn,r),new Promise(((n,r)=>{const o=Gi();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function qi(e){const t=Gi();return t.src=e,t}function Gi(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function zi(e){document.body===e.parentNode&&document.body.removeChild(e)}class Xi extends bi{constructor(e,t,n,r,o,a,i,s,l,c,u){super(e,t,n,r,o,a,s,c,u),this.apiId=i,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(jt,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==o.NJ.NONE&&t.prompt!==o.NJ.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${o.NJ.NONE}`),t.prompt=o.NJ.NONE):t.prompt=o.NJ.NONE;const n=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,e.correlationId)(t,cr.s_.Silent);ya(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);try{const t=await qo(this.createAuthCodeClient.bind(this),En,this.logger,this.performanceClient,e.correlationId)(r,n.authority,n.azureCloudOptions,n.account);return await qo(this.silentTokenHelper.bind(this),vn,this.logger,this.performanceClient,e.correlationId)(t,n)}catch(a){throw a instanceof h&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),a}}logout(){return Promise.reject(io(Pr))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(vn,n);const r=await qo(this.initializeAuthorizationCodeRequest.bind(this),wn,this.logger,this.performanceClient,n)(t),a=await qo(e.getAuthCodeUrl.bind(e),In,this.logger,this.performanceClient,n)({...t,nativeBroker:Ni.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),i=new Oi(e,this.browserStorage,r,this.logger,this.performanceClient),s=await qo(Bi,_n,this.logger,this.performanceClient,n)(a,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),l=this.config.auth.OIDCOptions.serverResponseType,c=await qo(Fi,yn,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,l),u=Ho(Li,Dn,this.logger,this.performanceClient,this.correlationId)(c,l,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw io(Qr);const e=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,n),{userRequestState:r}=ta.parseRequestState(this.browserCrypto,t.state);return qo(e.acquireToken.bind(e),tn,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||o.NJ.NONE})}return qo(i.handleCodeResponse.bind(i),An,this.logger,this.performanceClient,n)(u,t)}}class $i extends bi{async acquireToken(e){this.performanceClient.addQueueMeasurement(Zt,e.correlationId);const t=await qo(_i,pn,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(cr.WN.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient(r,n.authority,n.azureCloudOptions,n.account);return qo(o.acquireTokenByRefreshToken.bind(o),ln,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(io(Pr))}async createRefreshTokenClient(e,t,n,r){const o=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,this.correlationId)(e,t,n,r);return new Ii(o,this.performanceClient)}}class Vi{constructor(e,t,n,r){this.isBrowserEnvironment=!0,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw io(Dr);const r=t.id_token?ue(t.id_token,So):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new zo(zo.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||No()):void 0,i=this.loadAccount(e,n.clientInfo||t.client_info||"",r,a),s=this.loadIdToken(t,i.homeAccountId,i.environment,i.realm),l=this.loadAccessToken(e,t,i.homeAccountId,i.environment,i.realm,n),c=this.loadRefreshToken(t,i.homeAccountId,i.environment);return this.generateAuthenticationResult(e,{account:i,idToken:s,accessToken:l,refreshToken:c},r,a)}loadAccount(e,t,n,r){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=pt.createFromAccountInfo(e.account);return this.storage.setAccount(t),t}if(!r||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),io(zr);const o=pt.generateHomeAccountId(t,r.authorityType,this.logger,this.cryptoObj,n),a=n?.tid,i=ci(this.storage,r,o,So,n,t,r.hostnameAndPort,a,void 0,void 0,this.logger);return this.storage.setAccount(i),i}loadIdToken(e,t,n,r){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=ge(t,n,e.id_token,this.config.auth.clientId,r);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,n,r,o,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const i=t.scope?rt.fromString(t.scope):new rt(e.scopes),s=a.expiresOn||t.expires_in+(new Date).getTime()/1e3,l=a.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,c=fe(n,r,t.access_token,this.config.auth.clientId,o,i.printScopes(),s,l,So);return this.storage.setAccessTokenCredential(c),c}loadRefreshToken(e,t,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const r=ve(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(r),r}generateAuthenticationResult(e,t,n,r){let o,a="",i=[],s=null;t?.accessToken&&(a=t.accessToken.secret,i=rt.fromString(t.accessToken.target).asArray(),s=new Date(1e3*Number(t.accessToken.expiresOn)),o=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const l=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:i,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:a,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}class Wi extends di{constructor(e){super(e),this.includeRedirectUri=!1}}class Ki extends bi{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,s,l,c),this.apiId=i}async acquireToken(e){if(!e.code)throw io($r);const t=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,e.correlationId)(e,cr.s_.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,e.correlationId)(n,t.authority,t.azureCloudOptions,t.account),a=new Wi(o);this.logger.verbose("Auth code client created");const i=new Oi(a,this.browserStorage,r,this.logger,this.performanceClient);return await qo(i.handleCodeResponseFromServer.bind(i),kn,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof h&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(io(Pr))}}function ji(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function Yi(e,t){try{va(e)}catch(n){throw t.end({success:!1},n),n}}class Zi{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Bo(this.logger,this.performanceClient):se,this.eventHandler=new Va(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new ha(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw tt(ze)}return{canonicalAuthority:e.authority?Xo(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth),this.performanceClient):((e,t)=>{const n={cacheLocation:cr.Ix.MemoryStorage,temporaryCacheLocation:cr.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new ha(e,n,se,t)})(this.config.auth.clientId,this.logger);const t={cacheLocation:cr.Ix.MemoryStorage,temporaryCacheLocation:cr.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new ha(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new Vi(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new Zi(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,r=this.performanceClient.startMeasurement(fn,t);if(this.eventHandler.emitEvent(ba),n)try{this.nativeExtensionProvider=await Ni.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await qo(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Jn,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(Ca),r.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),fa(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Ni.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(cr.c4.CORRELATION_ID,!0)||"",a=this.performanceClient.startMeasurement($t,o);let i;if(this.eventHandler.emitEvent(Ba,cr.s_.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cr.WN.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);i=qo(e.handleRedirectPromise.bind(e),Yn,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);i=qo(t.handleRedirectPromise.bind(t),jn,this.logger,this.performanceClient,a.event.correlationId)(e,a)}return i.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Ia,cr.s_.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Pa,cr.s_.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:ji(e.account)})}else a.event.errorCode?a.end({success:!1}):a.discard();return this.eventHandler.emitEvent(Fa,cr.s_.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(xa,cr.s_.Redirect,null,n):this.eventHandler.emitEvent(ka,cr.s_.Redirect,null,n),this.eventHandler.emitEvent(Fa,cr.s_.Redirect),a.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(Xt,t);n.add({accountType:ji(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};const o=this.getAllAccounts().length>0;try{let r;if(_a(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(Aa,cr.s_.Redirect,e):this.eventHandler.emitEvent(wa,cr.s_.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)){r=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cr.WN.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof Si&&Ti(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof Qo){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(a){throw n.end({success:!1},a),o?this.eventHandler.emitEvent(xa,cr.s_.Redirect,null,a):this.eventHandler.emitEvent(ka,cr.s_.Redirect,null,a),a}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(zt,t);n.add({scenarioId:e.scenarioId,accountType:ji(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Yi(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(a){return Promise.reject(a)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(Aa,cr.s_.Popup,e):this.eventHandler.emitEvent(wa,cr.s_.Popup,e),this.canUseNative(e))o=this.acquireTokenNative({...e,correlationId:t},cr.WN.acquireTokenPopup).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,requestId:e.requestId,accountType:ji(e.account)}),e))).catch((n=>{if(n instanceof Si&&Ti(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof Qo){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Ia,cr.s_.Popup,e):this.eventHandler.emitEvent(Pa,cr.s_.Popup,e),n.end({success:!0,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:ji(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(xa,cr.s_.Popup,null,e):this.eventHandler.emitEvent(ka,cr.s_.Popup,null,e),n.end({success:!1},e),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Qt,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:ji(e.account)}),Yi(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(Na,cr.s_.Silent,n),this.canUseNative(n))r=this.acquireTokenNative(n,cr.WN.ssoSilent).catch((e=>{if(e instanceof Si&&Ti(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(Oa,cr.s_.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:ji(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(La,cr.s_.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Ft,t);Yi(this.initialized,n),this.eventHandler.emitEvent(Ma,cr.s_.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw io(Wr);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Ua,cr.s_.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:ji(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Da,cr.s_.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},cr.WN.acquireTokenByCode,e.nativeAccountId).catch((e=>{throw e instanceof Si&&Ti(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:ji(r.account),success:!0}),r}throw io(jr)}throw io(Vr)}catch(r){throw this.eventHandler.emitEvent(Da,cr.s_.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Kn,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(un,e.correlationId),t){case cr.lu.Default:case cr.lu.AccessToken:case cr.lu.AccessTokenAndRefreshToken:const t=this.createSilentCacheClient(e.correlationId);return qo(t.acquireToken.bind(t),Kt,this.logger,this.performanceClient,e.correlationId)(e);default:throw ie(V)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Ht,e.correlationId),t){case cr.lu.Default:case cr.lu.AccessTokenAndRefreshToken:case cr.lu.RefreshToken:case cr.lu.RefreshTokenAndNetwork:const t=this.createSilentRefreshClient(e.correlationId);return qo(t.acquireToken.bind(t),Zt,this.logger,this.performanceClient,e.correlationId)(e);default:throw ie(V)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(mn,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return qo(t.acquireToken.bind(t),jt,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);_a(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);va(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=pt.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw io(Qr);return new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Ni.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case o.NJ.NONE:case o.NJ.CONSENT:case o.NJ.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Mi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Di(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Xi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cr.WN.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Ai(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new $i(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Ki(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cr.WN.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e){return this.eventHandler.addEventCallback(e)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?No():o.gT.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||cr.yo})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||cr.yo})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(qt,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Yi(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw io(xr);n.add({accountType:ji(r)});const a={clientId:this.config.auth.clientId,authority:e.authority||o.gT.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},i=JSON.stringify(a),s=this.activeSilentTokenRequests.get(i);if("undefined"===typeof s){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=qo(this.acquireTokenSilentAsync.bind(this),Gt,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(i),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(i),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(i,o),{...await o,state:e.state}}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await s,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Gt,e.correlationId),this.eventHandler.emitEvent(Aa,cr.s_.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await qo(yi,gn,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||cr.lu.Default;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof Qo&&e.subError!==Ko),r=e.errorCode===cr.qx.INVALID_GRANT_ERROR||e.errorCode===V,o=n&&r||e.errorCode===$o||e.errorCode===Wo,a=cr.se.includes(t);return o&&a}(e,o);if(t){if(this.activeIframeRequest){if(o!==cr.lu.Skip){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const a=this.performanceClient.startMeasurement(Yt,r.correlationId);a.add({awaitIframeCorrelationId:n});const i=await t;if(a.end({success:i}),i)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),qo(this.acquireTokenBySilentIframe.bind(this),mn,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),qo(this.acquireTokenBySilentIframe.bind(this),mn,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(Pa,cr.s_.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,requestId:t.requestId},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(xa,cr.s_.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Ni.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,cr.WN.acquireTokenSilent_silentFlow).catch((async e=>{if(e instanceof Si&&Ti(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,ie(V);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),qo(this.acquireTokenFromCache.bind(this),un,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===cr.lu.AccessToken)throw n;return this.eventHandler.emitEvent(Ra,cr.s_.Silent,e),qo(this.acquireTokenByRefreshToken.bind(this),Ht,this.logger,this.performanceClient,e.correlationId)(e,t)})))}}class Qi{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new ho(e);return await n.initialize(),Zi.createController(n,t)}(e);return new Qi(e,t)}constructor(e,t){this.controller=t||new Zi(new ho(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e){return this.controller.addEventCallback(e)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}},127694:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});class r{navigateInternal(e,t){return r.defaultNavigateWindow(e,t)}navigateExternal(e,t){return r.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}},649845:(e,t,n)=>{"use strict";n.d(t,{BD:()=>a,Bs:()=>d,EC:()=>l,Gv:()=>_,H4:()=>f,Ix:()=>s,Ky:()=>i,Mm:()=>g,Oq:()=>u,PK:()=>E,WN:()=>h,bg:()=>C,c4:()=>c,kd:()=>v,lu:()=>y,qx:()=>o,s_:()=>m,se:()=>b,yo:()=>p});var r=n(249523);const o={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},a={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},i={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},s={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},l={GET:"GET",POST:"POST"},c={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},u={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},d={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},h={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var m;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(m||(m={}));const p={scopes:r.f_},g="jwk",f="msal.db",v=1,_=`${f}.keys`,y={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},b=[y.Default,y.Skip,y.RefreshTokenAndNetwork],C="msal.browser.log.level",E="msal.browser.log.pii"},249523:(e,t,n)=>{"use strict";n.d(t,{$A:()=>L,$f:()=>i,As:()=>u,Bv:()=>v,D1:()=>k,Ge:()=>A,HN:()=>T,NJ:()=>d,Nb:()=>c,QU:()=>E,SZ:()=>s,To:()=>N,VX:()=>h,Vi:()=>l,W:()=>x,YY:()=>P,bb:()=>I,ch:()=>C,d3:()=>_,dg:()=>y,f_:()=>a,gT:()=>r,hO:()=>w,iR:()=>f,ki:()=>R,oj:()=>o,pQ:()=>S,qJ:()=>g,rg:()=>m,sR:()=>b,vw:()=>p,xd:()=>O});const r={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},o={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},a=[r.OPENID_SCOPE,r.PROFILE_SCOPE,r.OFFLINE_ACCESS_SCOPE],i=[...a,r.EMAIL_SCOPE],s={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},l={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},c={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},u={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},d={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},h={PLAIN:"plain",S256:"S256"},m={QUERY:"query",FRAGMENT:"fragment"},p={...m,FORM_POST:"form_post"},g={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},f={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},v={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},_={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},y="appmetadata",b="client_info",C="1",E={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},S={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},T={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},w={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},I={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},k={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},A={username:"username",password:"password"},P={httpSuccess:200,httpBadRequest:400},x={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},R={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},N={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},O={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},L=300},885215:(e,t,n)=>{"use strict";n.d(t,{Yo:()=>a});var r=n(203062);class o extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,o.prototype),this.errorCode=e||r.gT.EMPTY_STRING,this.errorMessage=t||r.gT.EMPTY_STRING,this.subError=n||r.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}class a extends o{constructor(e,t,n,o,i,s,l,c){super(e,t,n),Object.setPrototypeOf(this,a.prototype),this.timestamp=o||r.gT.EMPTY_STRING,this.traceId=i||r.gT.EMPTY_STRING,this.correlationId=s||r.gT.EMPTY_STRING,this.claims=l||r.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}},100806:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>r}),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(r||(r={}))},256958:(e,t,n)=>{"use strict";n.d(t,{A:()=>me,x:()=>be});var r=n(202784),o=n(928316),{entries:a,setPrototypeOf:i,isFrozen:s,getPrototypeOf:l,getOwnPropertyDescriptor:c}=Object,{freeze:u,seal:d,create:h}=Object,{apply:m,construct:p}="undefined"!=typeof Reflect&&Reflect;u||(u=function(e){return e}),d||(d=function(e){return e}),m||(m=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});var g,f=A(Array.prototype.forEach),v=A(Array.prototype.pop),_=A(Array.prototype.push),y=A(String.prototype.toLowerCase),b=A(String.prototype.toString),C=A(String.prototype.match),E=A(String.prototype.replace),S=A(String.prototype.indexOf),T=A(String.prototype.trim),w=A(Object.prototype.hasOwnProperty),I=A(RegExp.prototype.test),k=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(g,t)});function A(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return m(e,t,r)}}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;i&&i(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){let e=n(o);e!==o&&(s(t)||(t[r]=e),o=e)}e[o]=!0}return e}function x(e){for(let t=0;t<e.length;t++)w(e,t)||(e[t]=null);return e}function R(e){let t=h(null);for(let[n,r]of a(e))w(e,n)&&(Array.isArray(r)?t[n]=x(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=R(r):t[n]=r);return t}function N(e,t){for(;null!==e;){let n=c(e,t);if(n){if(n.get)return A(n.get);if("function"==typeof n.value)return A(n.value)}e=l(e)}return function(){return null}}var O=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),U=u(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),B=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=u(["#text"]),H=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),q=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),X=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=d(/<%[\w\W]*|[\w\W]*%>/gm),V=d(/\${[\w\W]*}/gm),W=d(/^data-[\-\w.\u00B7-\uFFFF]/),K=d(/^aria-[\-\w]+$/),j=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=d(/^(?:\w+script|data):/i),Z=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=d(/^html$/i),J=d(/^[a-z][a-z\d]*(-[a-z\d]+)+$/i),ee=Object.freeze({__proto__:null,MUSTACHE_EXPR:X,ERB_EXPR:$,TMPLIT_EXPR:V,DATA_ATTR:W,ARIA_ATTR:K,IS_ALLOWED_URI:j,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:Z,DOCTYPE_NAME:Q,CUSTOM_ELEMENT:J}),te=function(){return window},ne=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};var re=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),n=t=>e(t);if(n.version="3.0.10",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:r}=t,o=r,i=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:c,Element:d,NodeFilter:m,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:A,trustedTypes:x}=t,X=d.prototype,$=N(X,"cloneNode"),V=N(X,"nextSibling"),W=N(X,"childNodes"),K=N(X,"parentNode");if("function"==typeof l){let e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let Y,Z="",{implementation:J,createNodeIterator:re,createDocumentFragment:oe,getElementsByTagName:ae}=r,{importNode:ie}=o,se={};n.isSupported="function"==typeof a&&"function"==typeof K&&J&&void 0!==J.createHTMLDocument;let{MUSTACHE_EXPR:le,ERB_EXPR:ce,TMPLIT_EXPR:ue,DATA_ATTR:de,ARIA_ATTR:he,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:pe,CUSTOM_ELEMENT:ge}=ee,{IS_ALLOWED_URI:fe}=ee,ve=null,_e=P({},[...O,...L,...M,...D,...F]),ye=null,be=P({},[...H,...q,...G,...z]),Ce=Object.seal(h(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,Se=null,Te=!0,we=!0,Ie=!1,ke=!0,Ae=!1,Pe=!1,xe=!1,Re=!1,Ne=!1,Oe=!1,Le=!1,Me=!0,Ue=!1,De="user-content-",Be=!0,Fe=!1,He={},qe=null,Ge=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ze=null,Xe=P({},["audio","video","img","source","image","track"]),$e=null,Ve=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",je="http://www.w3.org/1999/xhtml",Ye=je,Ze=!1,Qe=null,Je=P({},[We,Ke,je],b),et=null,tt=["application/xhtml+xml","text/html"],nt="text/html",rt=null,ot=null,at=r.createElement("form"),it=function(e){return e instanceof RegExp||e instanceof Function},st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ot||ot!==e){if((!e||"object"!=typeof e)&&(e={}),e=R(e),et=-1===tt.indexOf(e.PARSER_MEDIA_TYPE)?nt:e.PARSER_MEDIA_TYPE,rt="application/xhtml+xml"===et?b:y,ve=w(e,"ALLOWED_TAGS")?P({},e.ALLOWED_TAGS,rt):_e,ye=w(e,"ALLOWED_ATTR")?P({},e.ALLOWED_ATTR,rt):be,Qe=w(e,"ALLOWED_NAMESPACES")?P({},e.ALLOWED_NAMESPACES,b):Je,$e=w(e,"ADD_URI_SAFE_ATTR")?P(R(Ve),e.ADD_URI_SAFE_ATTR,rt):Ve,ze=w(e,"ADD_DATA_URI_TAGS")?P(R(Xe),e.ADD_DATA_URI_TAGS,rt):Xe,qe=w(e,"FORBID_CONTENTS")?P({},e.FORBID_CONTENTS,rt):Ge,Ee=w(e,"FORBID_TAGS")?P({},e.FORBID_TAGS,rt):{},Se=w(e,"FORBID_ATTR")?P({},e.FORBID_ATTR,rt):{},He=!!w(e,"USE_PROFILES")&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,we=!1!==e.ALLOW_DATA_ATTR,Ie=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ke=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ae=e.SAFE_FOR_TEMPLATES||!1,Pe=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,Oe=e.RETURN_DOM_FRAGMENT||!1,Le=e.RETURN_TRUSTED_TYPE||!1,Re=e.FORCE_BODY||!1,Me=!1!==e.SANITIZE_DOM,Ue=e.SANITIZE_NAMED_PROPS||!1,Be=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,fe=e.ALLOWED_URI_REGEXP||j,Ye=e.NAMESPACE||je,Ce=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ae&&(we=!1),Oe&&(Ne=!0),He&&(ve=P({},F),ye=[],!0===He.html&&(P(ve,O),P(ye,H)),!0===He.svg&&(P(ve,L),P(ye,q),P(ye,z)),!0===He.svgFilters&&(P(ve,M),P(ye,q),P(ye,z)),!0===He.mathMl&&(P(ve,D),P(ye,G),P(ye,z))),e.ADD_TAGS&&(ve===_e&&(ve=R(ve)),P(ve,e.ADD_TAGS,rt)),e.ADD_ATTR&&(ye===be&&(ye=R(ye)),P(ye,e.ADD_ATTR,rt)),e.ADD_URI_SAFE_ATTR&&P($e,e.ADD_URI_SAFE_ATTR,rt),e.FORBID_CONTENTS&&(qe===Ge&&(qe=R(qe)),P(qe,e.FORBID_CONTENTS,rt)),Be&&(ve["#text"]=!0),Pe&&P(ve,["html","head","body"]),ve.table&&(P(ve,["tbody"]),delete Ee.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Y=e.TRUSTED_TYPES_POLICY,Z=Y.createHTML("")}else void 0===Y&&(Y=ne(x,i)),null!==Y&&"string"==typeof Z&&(Z=Y.createHTML(""));u&&u(e),ot=e}},lt=P({},["mi","mo","mn","ms","mtext"]),ct=P({},["foreignobject","desc","title","annotation-xml"]),ut=P({},["title","style","font","a","script"]),dt=P({},[...L,...M,...U]),ht=P({},[...D,...B]),mt=function(e){let t=K(e);(!t||!t.tagName)&&(t={namespaceURI:Ye,tagName:"template"});let n=y(e.tagName),r=y(t.tagName);return!!Qe[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===je?"svg"===n:t.namespaceURI===We?"svg"===n&&("annotation-xml"===r||lt[r]):!!dt[n]:e.namespaceURI===We?t.namespaceURI===je?"math"===n:t.namespaceURI===Ke?"math"===n&&ct[r]:!!ht[n]:e.namespaceURI===je?!(t.namespaceURI===Ke&&!ct[r]||t.namespaceURI===We&&!lt[r])&&(!ht[n]&&(ut[n]||!dt[n])):!("application/xhtml+xml"!==et||!Qe[e.namespaceURI]))},pt=function(e){_(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},gt=function(e,t){try{_(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){_(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ye[e])if(Ne||Oe)try{pt(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},ft=function(e){let t=null,n=null;if(Re)e="<remove></remove>"+e;else{let t=C(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===et&&Ye===je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let o=Y?Y.createHTML(e):e;if(Ye===je)try{t=(new A).parseFromString(o,et)}catch(i){}if(!t||!t.documentElement){t=J.createDocument(Ye,"template",null);try{t.documentElement.innerHTML=Ze?Z:o}catch(i){}}let a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),Ye===je?ae.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:a},vt=function(e){return re.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION,null)},_t=function(e){return e instanceof g&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof c&&e instanceof c},bt=function(e,t,r){se[e]&&f(se[e],(e=>{e.call(n,t,r,ot)}))},Ct=function(e){let t=null;if(bt("beforeSanitizeElements",e,null),_t(e))return pt(e),!0;let r=rt(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:ve}),e.hasChildNodes()&&!yt(e.firstElementChild)&&I(/<[/\w]/g,e.innerHTML)&&I(/<[/\w]/g,e.textContent))return pt(e),!0;if(!ve[r]||Ee[r]){if(!Ee[r]&&St(r)&&(Ce.tagNameCheck instanceof RegExp&&I(Ce.tagNameCheck,r)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r)))return!1;if(Be&&!qe[r]){let t=K(e)||e.parentNode,n=W(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r)t.insertBefore($(n[r],!0),V(e))}}return pt(e),!0}return e instanceof d&&!mt(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&I(/<\/no(script|embed|frames)/i,e.innerHTML)?(pt(e),!0):(Ae&&3===e.nodeType&&(t=e.textContent,f([le,ce,ue],(e=>{t=E(t,e," ")})),e.textContent!==t&&(_(n.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1)},Et=function(e,t,n){if(Me&&("id"===t||"name"===t)&&(n in r||n in at))return!1;if((!we||Se[t]||!I(de,t))&&(!Te||!I(he,t)))if(!ye[t]||Se[t]){if(!(St(e)&&(Ce.tagNameCheck instanceof RegExp&&I(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&I(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&I(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(!$e[t]&&!I(fe,E(n,pe,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!ze[e])&&(!Ie||I(me,E(n,pe,"")))&&n)return!1;return!0},St=function(e){return"annotation-xml"!==e&&C(e,ge)},Tt=function(e){bt("beforeSanitizeAttributes",e,null);let{attributes:t}=e;if(!t)return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye},o=t.length;for(;o--;){let i=t[o],{name:s,namespaceURI:l,value:c}=i,u=rt(s),d="value"===s?c:T(c);if(r.attrName=u,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,r),d=r.attrValue,r.forceKeepAttr||(gt(s,e),!r.keepAttr))continue;if(!ke&&I(/\/>/i,d)){gt(s,e);continue}Ae&&f([le,ce,ue],(e=>{d=E(d,e," ")}));let h=rt(e.nodeName);if(Et(h,u,d)){if(Ue&&("id"===u||"name"===u)&&(gt(s,e),d=De+d),Y&&"object"==typeof x&&"function"==typeof x.getAttributeType&&!l)switch(x.getAttributeType(h,u)){case"TrustedHTML":d=Y.createHTML(d);break;case"TrustedScriptURL":d=Y.createScriptURL(d)}try{l?e.setAttributeNS(l,s,d):e.setAttribute(s,d),v(n.removed)}catch(a){}}}bt("afterSanitizeAttributes",e,null)},wt=function e(t){let n=null,r=vt(t);for(bt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)bt("uponSanitizeShadowNode",n,null),!Ct(n)&&(n.content instanceof s&&e(n.content),Tt(n));bt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,i=null,l=null;if(Ze=!e,Ze&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported)return e;if(xe||st(t),n.removed=[],"string"==typeof e&&(Fe=!1),Fe){if(e.nodeName){let t=rt(e.nodeName);if(!ve[t]||Ee[t])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)r=ft("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Ne&&!Ae&&!Pe&&-1===e.indexOf("<"))return Y&&Le?Y.createHTML(e):e;if(r=ft(e),!r)return Ne?null:Le?Z:""}r&&Re&&pt(r.firstChild);let u=vt(Fe?e:r);for(;i=u.nextNode();)Ct(i)||(i.content instanceof s&&wt(i.content),Tt(i));if(Fe)return e;if(Ne){if(Oe)for(l=oe.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(ye.shadowroot||ye.shadowrootmode)&&(l=ie.call(o,l,!0)),l}let d=Pe?r.outerHTML:r.innerHTML;return Pe&&ve["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&I(Q,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Ae&&f([le,ce,ue],(e=>{d=E(d,e," ")})),Y&&Le?Y.createHTML(d):d},n.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};st(e),xe=!0},n.clearConfig=function(){ot=null,xe=!1},n.isValidAttribute=function(e,t,n){ot||st({});let r=rt(e),o=rt(t);return Et(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(se[e]=se[e]||[],_(se[e],t))},n.removeHook=function(e){if(se[e])return v(se[e])},n.removeHooks=function(e){se[e]&&(se[e]=[])},n.removeAllHooks=function(){se={}},n}(),oe=Array(12).fill(0),ae=({visible:e})=>r.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},r.createElement("div",{className:"sonner-spinner"},oe.map(((e,t)=>r.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),ie=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),se=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),le=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ce=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ue=1,de=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ue++,a=this.toasts.find((e=>e.id===o)),i=void 0===e.dismissible||e.dismissible;return a?this.toasts=this.toasts.map((t=>t.id===o?(this.publish({...t,...e,id:o,title:n}),{...t,...e,id:o,dismissible:i,title:n}):t)):this.addToast({title:n,...r,dismissible:i,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=e instanceof Promise?e:e(),o=void 0!==n;return r.then((e=>{if(e&&"boolean"==typeof e.ok&&!e.ok){o=!1;let r="function"==typeof t.error?t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:a})}else if(void 0!==t.success){o=!1;let r="function"==typeof t.success?t.success(e):t.success,a="function"==typeof t.description?t.description(e):t.description;this.create({id:n,type:"success",message:r,description:a})}})).catch((e=>{if(void 0!==t.error){o=!1;let r="function"==typeof t.error?t.error(e):t.error,a="function"==typeof t.description?t.description(e):t.description;this.create({id:n,type:"error",message:r,description:a})}})).finally((()=>{var e;o&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)})),n},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||ue++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},he=(e,t)=>{let n=(null==t?void 0:t.id)||ue++;return de.addToast({title:e,...t,id:n}),n},me=Object.assign(he,{success:de.success,info:de.info,warning:de.warning,error:de.error,custom:de.custom,message:de.message,promise:de.promise,dismiss:de.dismiss,loading:de.loading});function pe(e){return void 0!==e.label&&"function"==typeof e.onClick}!function(e,{insertAt:t}={}){if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var ge=3,fe=14;function ve(...e){return e.filter(Boolean).join(" ")}var _e=e=>{var t,n,o,a,i,s,l;let{invert:c,toast:u,unstyled:d,interacting:h,setHeights:m,visibleToasts:p,heights:g,index:f,toasts:v,expanded:_,removeToast:y,closeButton:b,style:C,cancelButtonStyle:E,actionButtonStyle:S,className:T="",descriptionClassName:w="",duration:I,position:k,gap:A,loadingIcon:P,expandByDefault:x,classNames:R,icons:N,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:L,cn:M}=e,[U,D]=r.useState(!1),[B,F]=r.useState(!1),[H,q]=r.useState(!1),[G,z]=r.useState(!1),[X,$]=r.useState(0),[V,W]=r.useState(0),K=r.useRef(null),j=r.useRef(null),Y=0===f,Z=f+1<=p,Q=u.type,J=!1!==u.dismissible,ee=u.className||"",te=u.descriptionClassName||"",ne=r.useMemo((()=>g.findIndex((e=>e.toastId===u.id))||0),[g,u.id]),oe=r.useMemo((()=>{var e;return null!=(e=u.closeButton)?e:b}),[u.closeButton,b]),ue=r.useMemo((()=>u.duration||I||4e3),[u.duration,I]),de=r.useRef(0),he=r.useRef(0),me=r.useRef(0),ge=r.useRef(null),[fe,ve]=k.split("-"),_e=r.useMemo((()=>g.reduce(((e,t,n)=>n>=ne?e:e+t.height),0)),[g,ne]),ye=(()=>{let[e,t]=r.useState(!1);return r.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),be=u.invert||c,Ce="loading"===Q;he.current=r.useMemo((()=>ne*A+_e),[ne,_e]),r.useEffect((()=>{D(!0)}),[]),r.useLayoutEffect((()=>{if(!U)return;let e=j.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,W(n),m((e=>e.find((e=>e.toastId===u.id))?e.map((e=>e.toastId===u.id?{...e,height:n}:e)):[{toastId:u.id,height:n,position:u.position},...e]))}),[U,u.title,u.description,m,u.id]);let Ee=r.useCallback((()=>{F(!0),$(he.current),m((e=>e.filter((e=>e.toastId!==u.id)))),setTimeout((()=>{y(u)}),200)}),[u,y,m,he]);function Se(e){return{__html:re.sanitize(e)}}return r.useEffect((()=>{if(u.promise&&"loading"===Q||u.duration===1/0||"loading"===u.type)return;let e,t=ue;return _||h||L&&ye?(()=>{if(me.current<de.current){let e=(new Date).getTime()-de.current;t-=e}me.current=(new Date).getTime()})():t!==1/0&&(de.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=u.onAutoClose)||e.call(u,u),Ee()}),t)),()=>clearTimeout(e)}),[_,h,x,u,ue,Ee,u.promise,Q,L,ye]),r.useEffect((()=>{let e=j.current;if(e){let t=e.getBoundingClientRect().height;return W(t),m((e=>[{toastId:u.id,height:t,position:u.position},...e])),()=>m((e=>e.filter((e=>e.toastId!==u.id))))}}),[m,u.id]),r.useEffect((()=>{u.delete&&Ee()}),[Ee,u.delete]),r.createElement("li",{"aria-live":u.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:j,className:M(T,ee,null==R?void 0:R.toast,null==(t=null==u?void 0:u.classNames)?void 0:t.toast,null==R?void 0:R.default,null==R?void 0:R[Q],null==(n=null==u?void 0:u.classNames)?void 0:n[Q]),"data-sonner-toast":"","data-styled":!(u.jsx||u.unstyled||d),"data-mounted":U,"data-promise":!!u.promise,"data-removed":B,"data-visible":Z,"data-y-position":fe,"data-x-position":ve,"data-index":f,"data-front":Y,"data-swiping":H,"data-dismissible":J,"data-type":Q,"data-invert":be,"data-swipe-out":G,"data-expanded":!!(_||x&&U),style:{"--index":f,"--toasts-before":f,"--z-index":v.length-f,"--offset":`${B?X:he.current}px`,"--initial-height":x?"auto":`${V}px`,...C,...u.style},onPointerDown:e=>{Ce||!J||(K.current=new Date,$(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(q(!0),ge.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(G||!J)return;ge.current=null;let o=Number((null==(e=j.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),a=(new Date).getTime()-(null==(t=K.current)?void 0:t.getTime()),i=Math.abs(o)/a;if(Math.abs(o)>=20||i>.11)return $(he.current),null==(n=u.onDismiss)||n.call(u,u),Ee(),void z(!0);null==(r=j.current)||r.style.setProperty("--swipe-amount","0px"),q(!1)},onPointerMove:e=>{var t;if(!ge.current||!J)return;let n=e.clientY-ge.current.y,r=e.clientX-ge.current.x,o=("top"===fe?Math.min:Math.max)(0,n),a="touch"===e.pointerType?10:2;Math.abs(o)>a?null==(t=j.current)||t.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>a&&(ge.current=null)}},oe&&!u.jsx?r.createElement("button",{"aria-label":O,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!J?()=>{}:()=>{var e;Ee(),null==(e=u.onDismiss)||e.call(u,u)},className:M(null==R?void 0:R.closeButton,null==(o=null==u?void 0:u.classNames)?void 0:o.closeButton)},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,u.jsx||r.isValidElement(u.title)?u.jsx||u.title:r.createElement(r.Fragment,null,Q||u.icon||u.promise?r.createElement("div",{"data-icon":"",className:M(null==R?void 0:R.icon)},u.promise||"loading"===u.type&&!u.icon?u.icon||(null!=N&&N.loading?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===Q},N.loading):P?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===Q},P):r.createElement(ae,{visible:"loading"===Q})):null,"loading"!==u.type?u.icon||(null==N?void 0:N[Q])||(e=>{switch(e){case"success":return ie;case"info":return le;case"warning":return se;case"error":return ce;default:return null}})(Q):null):null,r.createElement("div",{"data-content":"",className:M(null==R?void 0:R.content)},r.createElement("div",{"data-title":"",className:M(null==R?void 0:R.title,null==(a=null==u?void 0:u.classNames)?void 0:a.title),dangerouslySetInnerHTML:Se(u.title)}),u.description?r.createElement("div",{"data-description":"",className:M(w,te,null==R?void 0:R.description,null==(i=null==u?void 0:u.classNames)?void 0:i.description),dangerouslySetInnerHTML:Se(u.description)}):null),r.isValidElement(u.cancel)?u.cancel:u.cancel&&pe(u.cancel)?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||E,onClick:e=>{pe(u.cancel)&&J&&(Ee(),u.cancel.onClick(e))},className:M(null==R?void 0:R.cancelButton,null==(s=null==u?void 0:u.classNames)?void 0:s.cancelButton)},u.cancel.label):null,r.isValidElement(u.action)?u.action:u.action&&pe(u.action)?r.createElement("button",{"data-button":"",style:u.actionButtonStyle||S,onClick:e=>{pe(u.action)&&(u.action.onClick(e),!e.defaultPrevented&&Ee())},className:M(null==R?void 0:R.actionButton,null==(l=null==u?void 0:u.classNames)?void 0:l.actionButton)},u.action.label):null))};function ye(){if("undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var be=e=>{let{invert:t,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,theme:u="light",richColors:d,duration:h,style:m,visibleToasts:p=ge,toastOptions:g,dir:f=ye(),gap:v=fe,loadingIcon:_,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:C,cn:E=ve}=e,[S,T]=r.useState([]),w=r.useMemo((()=>Array.from(new Set([n].concat(S.filter((e=>e.position)).map((e=>e.position)))))),[S,n]),[I,k]=r.useState([]),[A,P]=r.useState(!1),[x,R]=r.useState(!1),[N,O]=r.useState("system"!==u?u:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=r.useRef(null),M=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=r.useRef(null),D=r.useRef(!1),B=r.useCallback((e=>T((t=>t.filter((({id:t})=>t!==e.id))))),[]);return r.useEffect((()=>de.subscribe((e=>{e.dismiss?T((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{o.flushSync((()=>{T((t=>{let n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[]),r.useEffect((()=>{"system"===u?("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{O(e?"dark":"light")}))):O(u)}),[u]),r.useEffect((()=>{S.length<=1&&P(!1)}),[S]),r.useEffect((()=>{let e=e=>{var t,n;a.every((t=>e[t]||e.code===t))&&(P(!0),null==(t=L.current)||t.focus()),"Escape"===e.code&&(document.activeElement===L.current||null!=(n=L.current)&&n.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[a]),r.useEffect((()=>{if(L.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,D.current=!1)}}),[L.current]),S.length?r.createElement("section",{"aria-label":`${b} ${M}`,tabIndex:-1},w.map(((e,n)=>{var o;let[a,u]=e.split("-");return r.createElement("ol",{key:e,dir:"auto"===f?ye():f,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":N,"data-rich-colors":d,"data-y-position":a,"data-x-position":u,style:{"--front-toast-height":`${(null==(o=I[0])?void 0:o.height)||0}px`,"--offset":"number"==typeof c?`${c}px`:c||"32px","--width":"356px","--gap":`${v}px`,...m},onBlur:e=>{D.current&&!e.currentTarget.contains(e.relatedTarget)&&(D.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D.current||(D.current=!0,U.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{x||P(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R(!0)},onPointerUp:()=>R(!1)},S.filter((t=>!t.position&&0===n||t.position===e)).map(((n,o)=>{var a,l;return r.createElement(_e,{key:n.id,icons:y,index:o,toast:n,duration:null!=(a=null==g?void 0:g.duration)?a:h,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:t,visibleToasts:p,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:s,interacting:x,position:e,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,removeToast:B,toasts:S.filter((e=>e.position==n.position)),heights:I.filter((e=>e.position==n.position)),setHeights:k,expandByDefault:i,gap:v,loadingIcon:_,expanded:A,pauseWhenPageIsHidden:C,cn:E})})))}))):null}},122970:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>L,__assign:()=>a,__asyncDelegator:()=>w,__asyncGenerator:()=>T,__asyncValues:()=>I,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>R,__classPrivateFieldIn:()=>O,__classPrivateFieldSet:()=>N,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>U,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>o,__generator:()=>g,__importDefault:()=>x,__importStar:()=>P,__makeTemplateObject:()=>k,__metadata:()=>m,__param:()=>l,__propKey:()=>d,__read:()=>y,__rest:()=>i,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>b,__spreadArray:()=>E,__spreadArrays:()=>C,__values:()=>_,default:()=>D});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,o,a){function i(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,m=n.length-1;m>=0;m--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var f=(0,n[m])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!==typeof f)throw new TypeError("Object expected");(s=i(f.get))&&(d.get=s),(s=i(f.set))&&(d.set=s),(s=i(f.init))&&o.unshift(s)}else(s=i(f))&&("field"===l?o.unshift(s):d[c]=s)}u&&Object.defineProperty(u,r.name,d),h=!0}function u(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function m(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function _(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function C(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function E(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof S?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(r){u(a[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:o?o(t):t}:o}}function I(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=_(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return A(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function O(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function L(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function U(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(a){t(a)}}if(e.hasError)throw e.error}()}const D={__extends:o,__assign:a,__rest:i,__decorate:s,__param:l,__metadata:m,__awaiter:p,__generator:g,__createBinding:f,__exportStar:v,__values:_,__read:y,__spread:b,__spreadArrays:C,__spreadArray:E,__await:S,__asyncGenerator:T,__asyncDelegator:w,__asyncValues:I,__makeTemplateObject:k,__importStar:P,__importDefault:x,__classPrivateFieldGet:R,__classPrivateFieldSet:N,__classPrivateFieldIn:O,__addDisposableResource:L,__disposeResources:U}}}]);
//# sourceMappingURL=64700.15308d3f.js.map